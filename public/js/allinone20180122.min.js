function debugLine(e,t,i){!0===e&&(e="true"),!1===e&&(e="false");var n=e;if("object"==typeof e)for(name in n="",e){var r=e[name];n+=" "+name+": "+r}if(1!=t||i||(n+=" "+Math.random()),1==i){var o=jQuery("#debug_line");o.width(200),o.height()>=500&&o.html("");var a=o.html();n=a+"<br> -------------- <br>"+n}jQuery("#debug_line").show().html(n)}function debugSide(e){var t="";for(name in e){var i=e[name];t+=name+" : "+i+"<br>"}jQuery("#debug_side").show().html(t)}function trace(e){"undefined"!=typeof console&&console.log(e)}function UGFunctions(){function e(e,t,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent?t.attachEvent("on"+e,i):t[e]=i}var t=null,i=this,n={starTime:0,arrThemes:[],isTouchDevice:-1,isRgbaSupported:-1,timeCache:{},dataCache:{},lastEventType:"",lastEventTime:0,lastTouchStartElement:null,touchThreshold:700,handle:null};this.debugVar="",this.z__________FULL_SCREEN___________=function(){},this.toFullscreen=function(e,t){if(e.requestFullscreen)e.requestFullscreen();else if(e.mozRequestFullScreen)e.mozRequestFullScreen();else if(e.webkitRequestFullscreen)e.webkitRequestFullscreen();else{if(!e.msRequestFullscreen)return!1;e.msRequestFullscreen()}return!0},this.exitFullscreen=function(){if(0==i.isFullScreen())return!1;if(document.exitFullscreen)document.exitFullscreen();else if(document.cancelFullScreen)document.cancelFullScreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else{if(!document.msExitFullscreen)return!1;document.msExitFullscreen()}return!0},this.addFullScreenChangeEvent=function(t){document.webkitCancelFullScreen?e("webkitfullscreenchange",document,t):document.msExitFullscreen?e("MSFullscreenChange",document,t):document.mozCancelFullScreen?e("mozfullscreenchange",document,t):e("fullscreenchange",document,t)},this.destroyFullScreenChangeEvent=function(){jQuery(document).unbind("fullscreenChange"),jQuery(document).unbind("mozfullscreenchange"),jQuery(document).unbind("webkitfullscreenchange"),jQuery(document).unbind("MSFullscreenChange")},this.getFullScreenElement=function(){var e=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;return e},this.isFullScreen=function(){var e=document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement;return!!e},this.z__________GET_PROPS___________=function(){},this.getBrowserPrefix=function(){if(null!==t)return t;var e=["webkit","Moz","ms","O"],i=document.createElement("div");for(var n in e){var r=e[n];if(r+"Transform"in i.style)return r=r.toLowerCase(),t=r,r}return t="",""},this.getImageInsideParentDataByImage=function(e,t,n){var r=e.parent(),o=i.getImageOriginalSize(e),a=i.getImageInsideParentData(r,o.width,o.height,t,n);return a},this.getImageInsideParentData=function(e,t,i,n,r,o,a){if(!r)r={};var s={};if(void 0===o)o=e.width();if(void 0===a)a=e.height();r.padding_left&&(o-=r.padding_left),r.padding_right&&(o-=r.padding_right),r.padding_top&&(a-=r.padding_top),r.padding_bottom&&(a-=r.padding_bottom);var l=null,u="100%",d=null,c=null,h="display:block;margin:0px auto;";if(t>0&&i>0){if("down"==n&&o>t&&a>i)u=i,l=t,c=(o-l)/2,d=(a-u)/2;else if("fill"==n){var g=t/i;u=a,l=u*g,o>l?(l=o,u=l/g,c=0,d=Math.round((u-a)/2*-1)):(d=0,c=Math.round((l-o)/2*-1))}else{g=t/i;u=a,l=u*g,d=0,c=(o-l)/2,"fitvert"!=n&&l>o&&(l=o,u=l/g,c=0,d=(a-u)/2)}l=Math.floor(l),u=Math.floor(u),d=Math.floor(d),c=Math.floor(c),h="position:absolute;"}return r.padding_top&&(d+=r.padding_top),r.padding_left&&(c+=r.padding_left),s.imageWidth=l,s.imageHeight=u,s.imageTop=d,s.imageLeft=c,s.imageRight=c+l,s.imageBottom=0==d||"100%"==u?null:d+u,s.style=h,s},this.getElementCenterPosition=function(e,t){var n=e.parent(),r=i.getElementSize(e),o=i.getElementSize(n),a=o.width,s=o.height;t&&void 0!==t.padding_top&&(s-=t.padding_top),t&&void 0!==t.padding_bottom&&(s-=t.padding_bottom),t&&void 0!==t.padding_left&&(a-=t.padding_left),t&&void 0!==t.padding_right&&(a-=t.padding_right);var l={};return l.left=Math.round((a-r.width)/2),l.top=Math.round((s-r.height)/2),t&&void 0!==t.padding_top&&(l.top+=t.padding_top),t&&void 0!==t.padding_left&&(l.left+=t.padding_left),l},this.getElementCenterPoint=function(e,t){if(!t)t=!1;var n=i.getElementSize(e),r={};return r.x=n.width/2,r.y=n.height/2,1==t&&(r.x+=n.left,r.y+=n.top),r.x=Math.round(r.x),r.y=Math.round(r.y),r},this.getMousePosition=function(e,t){var i={pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY};if(e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length>0&&(i.pageX=e.originalEvent.touches[0].pageX,i.pageY=e.originalEvent.touches[0].pageY,i.clientX=e.originalEvent.touches[0].clientX,i.clientY=e.originalEvent.touches[0].clientY),t){var n=t.offset();i.mouseX=i.pageX-n.left,i.mouseY=i.pageY-n.top}return i},this.getMouseElementPoint=function(e,t){var n={x:e.pageX,y:e.pageY},r=i.getElementLocalPoint(n,t);return r},this.getElementLocalPoint=function(e,t){var i={},n=t.offset();return i.x=Math.round(e.x-n.left),i.y=Math.round(e.y-n.top),i},this.getImageOriginalSize=function(e,t,i){if(void 0!==t&&void 0!==i)return{width:t,height:i};var n=e[0];if(void 0===n)throw new Error("getImageOriginalSize error - Image not found");var r={};if(void 0===n.naturalWidth){if("number"==typeof e.data("naturalWidth")){r={};return r.width=e.data("naturalWidth"),r.height=e.data("naturalHeight"),r}var o=new Image;return o.src=n.src,o.complete?(r.width=o.width,r.height=o.height,e.data("naturalWidth",r.width),e.data("naturalHeight",r.height),r):{width:0,height:0}}return r.width=n.naturalWidth,r.height=n.naturalHeight,r},this.getimageRatio=function(e){var t=i.getImageOriginalSize(e),n=i.getElementSize(e),r=n.width/t.width;return r},this.isImageFitParent=function(e){var t=e.parent(),n=i.getElementSize(e),r=i.getElementSize(t);return n.width<=r.width&&n.height<=r.height},this.getElementSize=function(e){if(void 0===e)throw new Error("Can't get size, empty element");var t=e.position();return t.height=e.outerHeight(),t.width=e.outerWidth(),t.left=Math.round(t.left),t.top=Math.round(t.top),t.right=t.left+t.width,t.bottom=t.top+t.height,t},this.isElementBiggerThenParent=function(e){var t=e.parent(),n=i.getElementSize(e),r=i.getElementSize(t);return n.width>r.width||n.height>r.height},this.isPointInsideElement=function(e,t){var i=e.x>=0&&e.x<t.width;if(0==i)return!1;var n=e.y>=0&&e.y<t.height;return 0!=n},this.getElementRelativePos=function(e,t,n,r){if(!r)r=e.parent();if("number"==typeof e)var o={width:e,height:e};else o=i.getElementSize(e);var a=i.getElementSize(r);switch(t){case"top":case"left":t=0,n&&(t+=n);break;case"center":t=Math.round((a.width-o.width)/2),n&&(t+=n);break;case"right":t=a.width-o.width,n&&(t-=n);break;case"middle":t=Math.round((a.height-o.height)/2),n&&(t+=n);break;case"bottom":t=a.height-o.height,n&&(t-=n)}return t},this.z_________SET_ELEMENT_PROPS_______=function(){},this.zoomImageInsideParent=function(e,t,n,r,o,a,s){if(!n)n=1.2;if(!o)o="fit";var l,u,d,c,h=n,g=e.parent(),p=i.getElementSize(e),f=i.getImageOriginalSize(e),_=!1,m=0,v=0,b=0,y=0;if(r){var w=i.getMouseElementPoint(r,e);_=i.isPointInsideElement(w,p),b=w.x,y=w.y}else _=!1;if(0==_){var T=i.getElementCenterPoint(e);b=T.x,y=T.y}if(1==t)l=p.height*h,u=p.width*h,0!=b&&(m=-(b*h-b)),0!=y&&(v=-(y*h-y));else{l=p.height/h,u=p.width/h;var S=i.getImageInsideParentData(g,f.width,f.height,o,s);if(u<S.imageWidth)return i.scaleImageFitParent(e,f.width,f.height,o,s),!0;1==_&&(0!=b&&(m=-(b/h-b)),0!=y&&(v=-(y/h-y)))}if(a){var x=1;if(0!=f.width&&(x=u/f.width),x>a)return!1}if(i.setElementSize(e,u,l),0==t&&0==_){var I=i.getElementCenterPosition(e);d=I.left,c=I.top}else d=p.left+m,c=p.top+v;return i.placeElement(e,d,c),!0},this.placeElement=function(e,t,n,r,o,a){if(0==jQuery.isNumeric(t)||0==jQuery.isNumeric(n)){if(!a)a=e.parent();var s=i.getElementSize(e),l=i.getElementSize(a)}if(0==jQuery.isNumeric(t))switch(t){case"left":t=0,r&&(t+=r);break;case"center":t=Math.round((l.width-s.width)/2),r&&(t+=r);break;case"right":t=l.width-s.width,r&&(t-=r)}if(0==jQuery.isNumeric(n))switch(n){case"top":n=0,o&&(n+=o);break;case"middle":case"center":n=Math.round((l.height-s.height)/2),o&&(n+=o);break;case"bottom":n=l.height-s.height,o&&(n-=o)}var u={position:"absolute",margin:"0px"};null!==t&&(u.left=t),null!==n&&(u.top=n),e.css(u)},this.placeElementInParentCenter=function(e){i.placeElement(e,"center","middle")},this.setElementSizeAndPosition=function(e,t,i,n,r){var o={width:n+"px",height:r+"px",left:t+"px",top:i+"px",position:"absolute",margin:"0px"};e.css(o)},this.setElementSize=function(e,t,i){var n={width:t+"px"};null!=i&&(n.height=i+"px"),e.css(n)},this.cloneElementSizeAndPos=function(e,t,n,r,o){var a=e.position();if(null==a)throw new Error("Can't get size, empty element");!0===n?(a.height=e.outerHeight(),a.width=e.outerWidth()):(a.height=e.height(),a.width=e.width()),a.left=Math.round(a.left),a.top=Math.round(a.top),r&&(a.left+=r),o&&(a.top+=o),i.setElementSizeAndPosition(t,a.left,a.top,a.width,a.height)},this.placeImageInsideParent=function(e,t,n,r,o,a){var s=i.getImageInsideParentData(t,n,r,o,a),l="<img";null!==s.imageWidth&&(l+=" width = '"+s.imageWidth+"'",s.style+="width:"+s.imageWidth+";"),null!=s.imageHeight&&("100%"==s.imageHeight?(l+=" height = '"+s.imageHeight+"'",s.style+="height:"+s.imageHeight+";"):(l+=" height = '"+s.imageHeight+"'",s.style+="height:"+s.imageHeight+"px;")),null!==s.imageTop&&(s.style+="top:"+s.imageTop+"px;"),null!==s.imageLeft&&(s.style+="left:"+s.imageLeft+"px;"),e=i.escapeDoubleSlash(e),l+=" style='"+s.style+"'",l+=' src="'+e+'"',l+=">",t.html(l);var u=t.children("img");return u},this.scaleImageCoverParent=function(e,t,n){if("number"==typeof t)var r=t,o=n;else r=t.outerWidth(),o=t.outerHeight();var a=i.getImageOriginalSize(e),s=a.width,l=a.height,u=s/l,d=o,c=d*u,h=0,g=0;r>c?(c=r,d=c/u,g=0,h=Math.round((d-o)/2*-1)):(h=0,g=Math.round((c-r)/2*-1)),c=Math.round(c),d=Math.round(d),e.css({width:c+"px",height:d+"px",left:g+"px",top:h+"px"})},this.scaleImageFitParent=function(e,t,n,r,o){var a=e.parent(),s=i.getImageInsideParentData(a,t,n,r,o),l=!1,u={};return null!==s.imageWidth&&(l=!0,e.removeAttr("width"),u.width=s.imageWidth+"px"),null!=s.imageHeight&&(l=!0,e.removeAttr("height"),u.height=s.imageHeight+"px"),null!==s.imageTop&&(l=!0,u.top=s.imageTop+"px"),null!==s.imageLeft&&(l=!0,u.left=s.imageLeft+"px"),1==l&&(u.position="absolute",u.margin="0px 0px",e.css(u)),s},this.scaleImageByHeight=function(e,t,n,r){var o=i.getImageOriginalSize(e,n,r),a=o.width/o.height,s=Math.round(t*a);t=Math.round(t),i.setElementSize(e,s,t)},this.scaleImageByWidth=function(e,t,n,r){var o=i.getImageOriginalSize(e,n,r),a=o.width/o.height,s=Math.round(t/a);t=Math.round(t),i.setElementSize(e,t,s)},this.scaleImageExactSizeInParent=function(e,t,n,r,o,a){var s=e.parent(),l=i.getElementSize(s);l.width<r&&(r=l.width),l.height<o&&(o=l.height);var u=i.getImageInsideParentData(null,t,n,a,null,r,o),d=r,c=o,h=u.imageLeft,g=u.imageLeft,p=u.imageTop,f=u.imageTop,_=Math.round((l.width-r)/2),m=Math.round((l.height-o)/2),v=u.imageWidth+h+g,b=r-v;0!=b&&(g+=b);var y=u.imageHeight+p+f;b=o-y;0!=b&&(f+=b),e.removeAttr("width"),e.removeAttr("height");var w={position:"absolute",margin:"0px 0px"};w.width=d+"px",w.height=c+"px",w.left=_+"px",w.top=m+"px",w["padding-left"]=h+"px",w["padding-top"]=p+"px",w["padding-right"]=g+"px",w["padding-bottom"]=f+"px",e.css(w);var T={};return T.imageWidth=d,T.imageHeight=c,T},this.showElement=function(e,t,i){e.show().fadeTo(0,1),t&&t.show().fadeTo(0,1),i&&i.show().fadeTo(0,1)},this.z_________GALLERY_RELATED_FUNCTIONS_______=function(){},this.disableButton=function(e,t){if(!t)t="ug-button-disabled";0==i.isButtonDisabled(e,t)&&e.addClass(t)},this.convertCustomPrefixOptions=function(e,t,i){if(!t)return e;var n={};return jQuery.each(e,function(e,r){if(0===e.indexOf(t+"_"+i+"_")){var o=e.replace(t+"_"+i+"_",i+"_");n[o]=r}else n[e]=r}),n},this.enableButton=function(e,t){if(!t)t="ug-button-disabled";1==i.isButtonDisabled(e,t)&&e.removeClass(t)},this.isButtonDisabled=function(e,t){if(!t)t="ug-button-disabled";return!!e.hasClass(t)},this.z_________MATH_FUNCTIONS_______=function(){},this.normalizeSetting=function(e,t,i,n,r,o){if(!o)o=!1;var a=(r-i)/(n-i);return r=e+(t-e)*a,1==o&&(e>r&&(r=e),r>t&&(r=t)),r},this.getNormalizedValue=function(e,t,i,n,r){var o=(r-e)/(t-e);return e+(n-i)*o},this.getDistance=function(e,t,i,n){var r=Math.round(Math.sqrt(Math.abs((i-e)*(i-e)+(n-t)*(n-t))));return r},this.getMiddlePoint=function(e,t,i,n){var r={};return r.x=e+Math.round((i-e)/2),r.y=t+Math.round((n-t)/2),r},this.getNumItemsInSpace=function(e,t,i){var n=Math.floor((e+i)/(t+i));return n},this.getNumItemsInSpaceRound=function(e,t,i){var n=Math.round((e+i)/(t+i));return n},this.getSpaceByNumItems=function(e,t,i){var n=e*t+(e-1)*i;return n},this.getItemSizeInSpace=function(e,t,i){var n=Math.floor((e-(t-1)*i)/t);return n},this.getColX=function(e,t,i){var n=e*(t+i);return n},this.getColByIndex=function(e,t){var i=t%e;return i},this.getColRowByIndex=function(e,t){var i=Math.floor(e/t),n=Math.floor(e%t);return{col:n,row:i}},this.getIndexByRowCol=function(e,t,i){if(0>e)return-1;if(0>t)return-1;var n=e*i+t;return n},this.getPrevRowSameColIndex=function(e,t){var n=i.getColRowByIndex(e,t),r=i.getIndexByRowCol(n.row-1,n.col,t);return r},this.getNextRowSameColIndex=function(e,t){var n=i.getColRowByIndex(e,t),r=i.getIndexByRowCol(n.row+1,n.col,t);return r},this.z_________DATA_FUNCTIONS_______=function(){},this.setGlobalData=function(e,t){jQuery.data(document.body,e,t)},this.getGlobalData=function(e){var t=jQuery.data(document.body,e);return t},this.z_________EVENT_DATA_FUNCTIONS_______=function(){},this.handleScrollTop=function(e){if(0==i.isTouchDevice())return null;var t=i.getStoredEventData(e),r=15,o=15;if(null===t.scrollDir&&(Math.abs(t.diffMouseX)>r?t.scrollDir="hor":Math.abs(t.diffMouseY)>o&&Math.abs(t.diffMouseY)>Math.abs(t.diffMouseX)&&(t.scrollDir="vert",t.scrollStartY=t.lastMouseClientY,t.scrollOrigin=jQuery(document).scrollTop(),n.dataCache[e].scrollStartY=t.lastMouseClientY,n.dataCache[e].scrollOrigin=t.scrollOrigin),n.dataCache[e].scrollDir=t.scrollDir),"vert"!==t.scrollDir)return t.scrollDir;var a=(jQuery(document).scrollTop(),t.scrollOrigin-(t.lastMouseClientY-t.scrollStartY));return a>=0&&jQuery(document).scrollTop(a),t.scrollDir},this.wasVerticalScroll=function(e){var t=i.getStoredEventData(e);return"vert"===t.scrollDir},this.storeEventData=function(e,t,r){var o=i.getMousePosition(e),a=jQuery.now(),s={startTime:a,lastTime:a,startMouseX:o.pageX,startMouseY:o.pageY,lastMouseX:o.pageX,lastMouseY:o.pageY,startMouseClientY:o.clientY,lastMouseClientY:o.clientY,scrollTop:jQuery(document).scrollTop(),scrollDir:null};r&&(s=jQuery.extend(s,r)),n.dataCache[t]=s},this.updateStoredEventData=function(e,t,r){if(!n.dataCache[t])throw new Error("updateEventData error: must have stored cache object");var o=n.dataCache[t],a=i.getMousePosition(e);o.lastTime=jQuery.now(),void 0!==a.pageX&&(o.lastMouseX=a.pageX,o.lastMouseY=a.pageY,o.lastMouseClientY=a.clientY),r&&(o=jQuery.extend(o,r)),n.dataCache[t]=o},this.getStoredEventData=function(e,t){if(!n.dataCache[e])throw new Error("updateEventData error: must have stored cache object");var i=n.dataCache[e];return i.diffMouseX=i.lastMouseX-i.startMouseX,i.diffMouseY=i.lastMouseY-i.startMouseY,i.diffMouseClientY=i.lastMouseClientY-i.startMouseClientY,i.diffTime=i.lastTime-i.startTime,!0===t?(i.startMousePos=i.lastMouseY,i.lastMousePos=i.lastMouseY,i.diffMousePos=i.diffMouseY):(i.startMousePos=i.lastMouseX,i.lastMousePos=i.lastMouseX,i.diffMousePos=i.diffMouseX),i},this.isApproveStoredEventClick=function(e,t){if(!n.dataCache[e])return!0;var r=i.getStoredEventData(e,t),o=Math.abs(r.diffMousePos);return!(r.diffTime>400)&&!(o>30)},this.clearStoredEventData=function(e){n.dataCache[e]=null},this.z_________CHECK_SUPPORT_FUNCTIONS_______=function(){},this.isCanvasExists=function(){var e=jQuery('<canvas width="500" height="500" > </canvas>')[0];return"function"==typeof e.getContext},this.isScrollbarExists=function(){var e=window.innerWidth>document.documentElement.clientWidth;return e},this.isTouchDevice=function(){if(-1!==n.isTouchDevice)return n.isTouchDevice;try{document.createEvent("TouchEvent"),n.isTouchDevice=!0}catch(e){n.isTouchDevice=!1}return n.isTouchDevice},this.isRgbaSupported=function(){if(-1!==n.isRgbaSupported)return n.isRgbaSupported;var e=document.getElementsByTagName("script")[0],t=e.style.color;try{e.style.color="rgba(1,5,13,0.44)"}catch(e){}var i=e.style.color!=t;return e.style.color=t,n.isRgbaSupported=i,i},this.z_________GENERAL_FUNCTIONS_______=function(){},this.checkMinJqueryVersion=function(e){for(var t=jQuery.fn.jquery.split("."),i=e.split("."),n=0,r=t.length;r>n;n++){var o=parseInt(t[n]),a=parseInt(i[n]);if(void 0===i[n])return!0;if(a>o)return!1;if(o>a)return!0}return!0},this.getCssSizeParam=function(e){return jQuery.isNumeric(e)?e+"px":e},this.convertHexToRGB=function(e,t){var i=e.replace("#","");return i===e?e:(r=parseInt(i.substring(0,2),16),g=parseInt(i.substring(2,4),16),b=parseInt(i.substring(4,6),16),result="rgba("+r+","+g+","+b+","+t+")",result)},this.timestampToString=function(e){var t=new Date(e),i=t.getDate()+"/"+t.getMonth();return i+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()+":"+t.getMilliseconds()},this.getArrTouches=function(e){var t=[];return e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length>0&&(t=e.originalEvent.touches),t},this.getArrTouchPositions=function(e){for(var t=[],i=0;i<e.length;i++){var n={pageX:e[i].pageX,pageY:e[i].pageY};t.push(n)}return t},this.startTimeDebug=function(){n.starTime=jQuery.now()},this.showTimeDebug=function(){var e=jQuery.now(),t=e-n.starTime;debugLine({"Time Passed":t},!0)},this.initProgressIndicator=function(e,t,n){switch("bar"!=e&&0==i.isCanvasExists()&&(e="bar"),e){case"bar":var r=new UGProgressBar;r.putHidden(n,t);break;default:case"pie":r=new UGProgressPie;r.putHidden(n,t);break;case"pie2":t.type_fill=!0;r=new UGProgressPie;r.putHidden(n,t)}return r},this.setButtonMobileReady=function(e){e.on("touchstart",function(e){jQuery(this).addClass("ug-nohover")}),e.on("mousedown touchend",function(e){return e.stopPropagation(),e.stopImmediatePropagation(),!1})},this.registerTheme=function(e){n.arrThemes.push(e)},this.getArrThemes=function(){return n.arrThemes},this.isThemeRegistered=function(e){return-1!==jQuery.inArray(e,n.arrThemes)},this.getFirstRegisteredTheme=function(){if(0==n.arrThemes.length)return"";var e=n.arrThemes[0];return e},this.isTimePassed=function(e,t){if(!t)t=100;var i=jQuery.now();0==n.timeCache.hasOwnProperty(e)?lastTime=0:lastTime=n.timeCache[e];var r=i-lastTime;return n.timeCache[e]=i,!(t>=r)},this.whenContiniousEventOver=function(e,t,i){if(!i)i=300;1==n.timeCache.hasOwnProperty(e)&&null!=n.timeCache[e]&&(clearTimeout(n.timeCache[e]),n.timeCache[e]=null),n.timeCache[e]=setTimeout(t,i)},this.validateClickTouchstartEvent=function(e){var t=!0,i=jQuery.now()-n.lastEventTime;return"click"==e&&"touchstart"==n.lastEventType&&1e3>i&&(t=!1),n.lastEventTime=jQuery.now(),n.lastEventType=e,t},this.addClassOnHover=function(e,t){if(!t)t="ug-button-hover";e.hover(function(){jQuery(this).addClass(t)},function(){jQuery(this).removeClass(t)})},this.destroyButton=function(e){e.off("mouseenter"),e.off("mouseleave"),e.off("click"),e.off("touchstart"),e.off("touchend"),e.off("mousedown"),e.off("tap")},this.setButtonOnClick=function(e,t){i.setButtonMobileReady(e),e.on("click touchstart",function(e){return objThis=jQuery(this),e.stopPropagation(),e.stopImmediatePropagation(),0==i.validateClickTouchstartEvent(e.type)||void t(objThis,e)})},this.setButtonOnTap=function(e,t){e.on("tap",t),0==i.isTouchDevice()?e.on("click",function(e){var t=jQuery(this);return 0==i.validateClickTouchstartEvent(e.type)||void t.trigger("tap")}):(e.on("touchstart",function(e){var t=jQuery(this);t.addClass("ug-nohover"),n.lastTouchStartElement=jQuery(this),n.lastEventTime=jQuery.now()}),e.on("touchend",function(e){var t=jQuery(this);if(0==t.is(n.lastTouchStartElement))return!0;if(!n.lastEventTime)return!0;var i=jQuery.now()-n.lastEventTime;return i>n.touchThreshold||void t.trigger("tap")}))},this.loadJs=function(e,t){!0===t&&(e=location.protocol+"//"+e);var i=document.createElement("script");i.src=e;var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(i,n)},this.loadCss=function(e,t){!0===t&&(e=location.protocol+"//"+e);var i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href",e),document.getElementsByTagName("head")[0].appendChild(i)},this.addEvent=function(e,t,i){void 0!==e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent&&e.attachEvent("on"+t,i)},this.checkImagesLoaded=function(e,t,i){function n(e,n){r++,"function"==typeof i&&setTimeout(function(){i(e,n)}),r==o&&"function"==typeof t&&setTimeout(function(){t()})}var r=0,o=e.length;return 0==o&&t?(t(),!1):void setTimeout(function(){for(var t=0;o>t;t++){var i=e[t];if(void 0!==i.naturalWidth&&0!==i.naturalWidth)n(e[t],!1);else{var r=jQuery("<img/>");r.data("index",t),r.on("load",function(){var t=jQuery(this).data("index");n(e[t],!1)}),r.on("error",function(){var t=jQuery(this).data("index");n(e[t],!0)}),r.attr("src",i.src)}}})},this.waitForWidth=function(e,t){var i=e.width();return 0!=i?(t(),!1):void(n.handle=setInterval(function(){i=e.width(),0!=i&&(clearInterval(n.handle),t())},300))},this.arrayShuffle=function(e){if("object"!=typeof e)return e;for(var t,i,n=e.length;n;t=parseInt(Math.random()*n),i=e[--n],e[n]=e[t],e[t]=i);return e},this.getObjectLength=function(e){var t=0;for(var i in e)t++;return t},this.normalizePercent=function(e){return 0>e&&(e=0),e>1&&(e=1),e},this.stripTags=function(e){var t=e.replace(/(<([^>]+)>)/gi,"");return t},this.escapeDoubleSlash=function(e){return e.replace('"','"')},this.htmlentitles=function(e){var t=jQuery("<div/>").text(e).html();return t},this.z_________END_GENERAL_FUNCTIONS_______=function(){}}function UGThumbsGeneral(){function e(e,t){var i=w[e],n="";0==C.customThumbs&&(n=" ug-thumb-generated");var r=i.index+1,o="style='z-index:"+r+";'",a="<div class='ug-thumb-wrapper"+n+"' "+o+"></div>";if(1==P.thumb_wrapper_as_link){var s=i.link;""==i.link&&(s="javascript:void(0)");var l="";1==P.thumb_link_newpage&&i.link&&(l=" target='_blank'");a="<a href='"+s+"'"+l+" class='ug-thumb-wrapper"+n+"'></a>"}var u=jQuery(a),d=i.objThumbImage;if(0==C.customThumbs){if(1==P.thumb_show_loader&&d){var c="ug-thumb-loader-dark";"bright"==P.thumb_loader_type&&(c="ug-thumb-loader-bright"),u.append("<div class='ug-thumb-loader "+c+"'></div>"),u.append("<div class='ug-thumb-error' style='display:none'></div>")}if(d){if(d.addClass("ug-thumb-image"),1==P.thumb_image_overlay_effect){var h=d.clone().appendTo(u);h.addClass("ug-thumb-image-overlay "+t).removeClass("ug-thumb-image"),h.fadeTo(0,0),i.objImageOverlay=h}u.append(d)}}return C.isEffectBorder&&u.append("<div class='ug-thumb-border-overlay'></div>"),C.isEffectOverlay&&u.append("<div class='ug-thumb-overlay'></div>"),T.append(u),C.customThumbs&&C.funcSetCustomThumbHtml(u,i),w[e].objThumbWrapper=u,u}function t(e,t,i,n){var r={width:e+"px",height:t+"px"},o={width:e-C.thumbInnerReduce+"px",height:t-C.thumbInnerReduce+"px"},a=".ug-thumb-loader, .ug-thumb-error, .ug-thumb-border-overlay, .ug-thumb-overlay";i?(!0!==n&&i.css(r),i.find(a).css(o)):(T.children(".ug-thumb-wrapper").css(r),T.find(a).css(o))}function i(e,t,i,n){if(!n)n=!1;I.isFakeFullscreen()&&(n=!0);var r=e.children(".ug-thumb-border-overlay"),o={};o["border-width"]=t+"px",0!=t&&(o["border-color"]=i),n&&!0===n?(r.css(o),0==t?r.hide():r.show()):(0==t?r.stop().fadeOut(P.thumb_transition_duration):r.show().stop().fadeIn(P.thumb_transition_duration),l(r,o))}function n(e,t,i){var n=e.children(".ug-thumb-overlay"),r=P.thumb_transition_duration;i&&!0===i&&(r=0),t?n.stop(!0).fadeTo(r,C.colorOverlayOpacity):n.stop(!0).fadeTo(r,0)}function r(e,t,i){var n=e.children("img.ug-thumb-image"),r=e.children("img.ug-thumb-image-overlay"),o=P.thumb_transition_duration;i&&!0===i&&(o=0),t?r.stop(!0).fadeTo(o,1):(n.fadeTo(0,1),r.stop(!0).fadeTo(o,0))}function o(e,t){if(C.isEffectBorder&&i(e,P.thumb_selected_border_width,P.thumb_selected_border_color,t),C.isEffectOverlay){var o=1==P.thumb_overlay_reverse;n(e,o,t)}C.isEffectImage&&r(e,!1,t),x.trigger(S.events.SETSELECTEDSTYLE,e)}function a(e){var t=S.getItemByThumb(e);return t.isLoaded=!0,t.isThumbImageLoaded=!1,1==C.customThumbs?(x.trigger(S.events.IMAGELOADERROR,e),!0):(e.children(".ug-thumb-loader").hide(),void e.children(".ug-thumb-error").show())}function s(e){if(P.thumb_round_corners_radius<=0)return!1;var t={"border-radius":P.thumb_round_corners_radius+"px"};e?(e.css(t),e.find(".ug-thumb-border-overlay").css(t)):T.find(".ug-thumb-wrapper, .ug-thumb-wrapper .ug-thumb-border-overlay").css(t)}function l(e,t){e.stop(!0).animate(t,{duration:P.thumb_transition_duration,easing:P.thumb_transition_easing,queue:!1})}function u(e){1==g(e)?o(e,!0,"redraw"):S.setThumbNormalStyle(e,!0,"redraw")}function d(e,i,n){if(1==P.thumb_fixed_size)E.scaleImageCoverParent(i,e);else{"height"==P.thumb_resize_by?E.scaleImageByHeight(i,P.thumb_height):E.scaleImageByWidth(i,P.thumb_width);var r=E.getElementSize(i);E.placeElement(i,0,0),t(r.width,r.height,e)}e.children(".ug-thumb-loader").hide(),i.show(),0==P.thumb_image_overlay_effect?i.fadeTo(0,1):(1==P.thumb_image_overlay_effect&&c(i),i.fadeTo(0,0),u(e)),x.trigger(S.events.AFTERPLACEIMAGE,e)}function c(e){var t=e.siblings(".ug-thumb-image-overlay");if(0==t.length)return!1;var i=E.getElementSize(e),n={width:i.width+"px",height:i.height+"px",left:i.left+"px",top:i.top+"px"};t.css(n),0==C.customThumbs&&t.fadeTo(0,1)}function h(){var e="",t=P.thumb_image_overlay_type.split(",");for(var i in t){var n=t[i];switch(n){case"bw":e+=" ug-bw-effect";break;case"blur":e+=" ug-blur-effect";break;case"sepia":e+=" ug-sepia-effect"}}return e}function g(e){return!!e.hasClass("ug-thumb-selected")}function p(e,i){i=jQuery(i);var n=(S.getItemByThumb(i),E.getElementSize(i));t(n.width,n.height,i,!0),u(i)}function f(e){return 1==C.touchEnabled?(objThumbs.off("mouseenter").off("mouseleave"),!0):void(0==g(e)&&S.setThumbOverStyle(e))}function _(e){return 1==C.touchEnabled||void(0==g(e)&&S.setThumbNormalStyle(e,!1))}function m(e,t){if(!t)t=!1;var i=jQuery(e),n=i.parents(".ug-thumb-wrapper");return 0!=n.parent().length&&(objItem=S.getItemByThumb(n),(1!=objItem.isLoaded||!1!==t)&&(S.triggerImageLoadedEvent(n,i),void(1==C.customThumbs?x.trigger(S.events.PLACEIMAGE,[n,i]):d(n,i,objItem))))}function v(e,t,i){objItem=S.getItemByThumb(t),objItem.isLoaded=!0,objItem.isThumbImageLoaded=!0;var n=E.getImageOriginalSize(i);objItem.thumbWidth=n.width,objItem.thumbHeight=n.height,objItem.thumbRatioByWidth=n.width/n.height,objItem.thumbRatioByHeight=n.height/n.width,t.addClass("ug-thumb-ratio-set")}var b,y,w,T,S=this,x=jQuery(S),I=new UniteGalleryMain,E=new UGFunctions;this.type={GET_THUMBS_ALL:"all",GET_THUMBS_RATIO:"ratio",GET_THUMBS_NO_RATIO:"no_ratio",GET_THUMBS_NEW:"new"},this.events={SETOVERSTYLE:"thumbmouseover",SETNORMALSTYLE:"thumbmouseout",SETSELECTEDSTYLE:"thumbsetselected",PLACEIMAGE:"thumbplaceimage",AFTERPLACEIMAGE:"thumb_after_place_image",IMAGELOADERROR:"thumbimageloaderror",THUMB_IMAGE_LOADED:"thumb_image_loaded"};var P={thumb_width:88,thumb_height:50,thumb_fixed_size:!0,thumb_resize_by:"height",thumb_border_effect:!0,thumb_border_width:0,thumb_border_color:"#000000",thumb_over_border_width:0,thumb_over_border_color:"#d9d9d9",thumb_selected_border_width:1,thumb_selected_border_color:"#d9d9d9",thumb_round_corners_radius:0,thumb_color_overlay_effect:!0,thumb_overlay_color:"#000000",thumb_overlay_opacity:.4,thumb_overlay_reverse:!1,thumb_image_overlay_effect:!1,thumb_image_overlay_type:"bw",thumb_transition_duration:200,thumb_transition_easing:"easeOutQuad",thumb_show_loader:!0,thumb_loader_type:"dark",thumb_wrapper_as_link:!1,thumb_link_newpage:!1},C={touchEnabled:!1,num_thumbs_checking:0,customThumbs:!1,funcSetCustomThumbHtml:null,isEffectBorder:!1,isEffectOverlay:!1,isEffectImage:!1,colorOverlayOpacity:1,thumbInnerReduce:0,allowOnResize:!0,classNewThumb:"ug-new-thumb"},j={timeout_thumb_check:100,thumb_max_check_times:600,eventSizeChange:"thumb_size_change"};this.init=function(e,t){b=e.getObjects(),I=e,jQuery(e),y=b.g_objWrapper,w=b.g_arrItems,P=jQuery.extend(P,t),C.isEffectBorder=P.thumb_border_effect,C.isEffectOverlay=P.thumb_color_overlay_effect,C.isEffectImage=P.thumb_image_overlay_effect},this._____________EXTERNAL_SETTERS__________=function(){},this.setHtmlThumbs=function(t,i){if(T=t,1==C.isEffectImage)var n=h();if(!0!==i)for(var r=I.getNumItems(),o=0;r>o;o++)e(o,n);else{var a=S.getThumbs();a.removeClass(C.classNewThumb);var s=I.getNewAddedItemsIndexes();jQuery.each(s,function(t,i){var r=e(i,n);r.addClass(C.classNewThumb)})}},this.setThumbNormalStyle=function(e,t,o){if(1==C.customThumbs&&e.removeClass("ug-thumb-over"),C.isEffectBorder&&i(e,P.thumb_border_width,P.thumb_border_color,t),C.isEffectOverlay){var a=1!=P.thumb_overlay_reverse;n(e,a,t)}C.isEffectImage&&r(e,!0,t),x.trigger(S.events.SETNORMALSTYLE,e)},this.setThumbOverStyle=function(e){if(1==C.customThumbs&&e.addClass("ug-thumb-over"),C.isEffectBorder&&i(e,P.thumb_over_border_width,P.thumb_over_border_color),C.isEffectOverlay){var t=1==P.thumb_overlay_reverse;n(e,t)}1==C.isEffectImage&&r(e,!1),x.trigger(S.events.SETOVERSTYLE,e)},this.setHtmlProperties=function(e){if(!e)e=S.getThumbs();if(0==C.customThumbs&&(1==P.thumb_fixed_size&&t(P.thumb_width,P.thumb_height,e),s(e)),e.each(function(){var e=jQuery(this);u(e)}),C.isEffectOverlay&&P.thumb_overlay_color){var i={};if(E.isRgbaSupported()){var n=E.convertHexToRGB(P.thumb_overlay_color,P.thumb_overlay_opacity);i["background-color"]=n}else i["background-color"]=P.thumb_overlay_color,C.colorOverlayOpacity=P.thumb_overlay_opacity;e.find(".ug-thumb-overlay").css(i)}},this.setThumbSelected=function(e){return 1==C.customThumbs&&e.removeClass("ug-thumb-over"),1==g(e)||(e.addClass("ug-thumb-selected"),void o(e))},this.setThumbUnselected=function(e){e.removeClass("ug-thumb-selected"),S.setThumbNormalStyle(e,!1,"set unselected")},this.setOptions=function(e){P=jQuery.extend(P,e)},this.setThumbInnerReduce=function(e){C.thumbInnerReduce=e},this.setCustomThumbs=function(e,t,i){if(C.customThumbs=!0,"function"!=typeof e)throw new Error("The argument should be function");C.funcSetCustomThumbHtml=e,-1==jQuery.inArray("overlay",t)&&(C.isEffectOverlay=!1),-1==jQuery.inArray("border",t)&&(C.isEffectBorder=!1),C.isEffectImage=!1,i&&!1===i.allow_onresize&&(C.allowOnResize=!1)},this._____________EXTERNAL_GETTERS__________=function(){},this.getOptions=function(){return P},this.getNumThumbs=function(){var e=w.length;return e},this.getThumbImage=function(e){var t=e.find(".ug-thumb-image");return t},this.getThumbByIndex=function(e){var t=S.getThumbs();if(e>=t.length||0>e)throw new Error("Wrong thumb index");var i=jQuery(t[e]);return i},this.getThumbs=function(e){var t=".ug-thumb-wrapper",i=".ug-thumb-ratio-set";switch(e){default:case S.type.GET_THUMBS_ALL:var n=T.children(t);break;case S.type.GET_THUMBS_NO_RATIO:n=T.children(t).not(i);break;case S.type.GET_THUMBS_RATIO:n=T.children(t+i);break;case S.type.GET_THUMBS_NEW:n=T.children("."+C.classNewThumb)}return n},this.getItemByThumb=function(e){var t=e.data("index");void 0===t&&(t=e.index());var i=w[t];return i},this.isThumbLoaded=function(e){var t=S.getItemByThumb(e);return t.isLoaded},this.getGlobalThumbSize=function(){var e={width:P.thumb_width,height:P.thumb_height};return e},this._____________EXTERNAL_OTHERS__________=function(){},this.initEvents=function(){var e=".ug-thumb-wrapper";1==C.allowOnResize&&y.on(j.eventSizeChange,p),x.on(S.events.THUMB_IMAGE_LOADED,v),T.on("touchstart",e,function(){C.touchEnabled=!0,T.off("mouseenter").off("mouseleave")}),
T.on("mouseenter",e,function(e){var t=jQuery(this);f(t)}),T.on("mouseleave",e,function(e){var t=jQuery(this);_(t)})},this.destroy=function(){var e=".ug-thumb-wrapper";T.off("touchstart",e),y.off(j.eventSizeChange),T.off("mouseenter",e),T.off("mouseleave",e),x.off(S.events.THUMB_IMAGE_LOADED)},this.loadThumbsImages=function(){var e=T.find(".ug-thumb-image");E.checkImagesLoaded(e,null,function(e,t){if(0==t)m(e,!0);else{var i=jQuery(e).parent();a(i)}})},this.triggerImageLoadedEvent=function(e,t){x.trigger(S.events.THUMB_IMAGE_LOADED,[e,t])},this.hideThumbs=function(){T.find(".ug-thumb-wrapper").hide()}}function UGThumbsStrip(){function e(e,i){I=e.getObjects(),k=e,k.attachThumbsPanel("strip",O),x=jQuery(e),E=I.g_objWrapper,P=I.g_arrItems,z=jQuery.extend(z,i),H=z.strip_vertical_type,1==H&&(z=jQuery.extend(z,W),z=jQuery.extend(z,i),i.thumb_resize_by="width"),L.init(e,i),t()}function t(){var e=L.getOptions();D.isNotFixedThumbs=!1===e.thumb_fixed_size,H=z.strip_vertical_type}function n(){L.setHtmlProperties(),o(),l(),s(),0==D.isRunOnce&&(1==z.strip_control_touch&&(M=new UGTouchThumbsControl,M.init(O)),1==z.strip_control_avia&&(A=new UGAviaControl,A.init(O)),f(),L.loadThumbsImages(),y()),D.isRunOnce=!0}function r(e){R.stripSize=e,R.stripActiveSize=0==H?R.stripSize-z.strip_padding_left-z.strip_padding_right:R.stripSize-z.strip_padding_top-z.strip_padding_bottom,R.stripActiveSize<0&&(R.stripActiveSize=0)}function o(){var e=j.children(".ug-thumb-wrapper"),t=jQuery(e[0]),i=t.outerWidth(),n=t.outerHeight(),o=L.getOptions();0==H?(R.thumbSize=i,1==o.thumb_fixed_size?R.thumbSecondSize=n:R.thumbSecondSize=o.thumb_height,r(C.width()),R.stripInnerSize=j.width()):(R.thumbSize=n,1==o.thumb_fixed_size?R.thumbSecondSize=i:R.thumbSecondSize=o.thumb_width,r(C.height()),R.stripInnerSize=j.height())}function a(e){0==H?j.width(e):j.height(e),R.stripInnerSize=e,f(),jQuery(O).trigger(O.events.INNER_SIZE_CHANGE)}function s(){var e=j.children(".ug-thumb-wrapper"),t=0,n=0;for(0==H&&(n=z.strip_padding_top),i=0;i<e.length;i++){var r=jQuery(e[i]);if(1==D.isNotFixedThumbs){if(objItem=L.getItemByThumb(r),0==objItem.isLoaded)continue;r.show()}N.placeElement(r,t,n),0==H?t+=r.outerWidth()+z.strip_space_between_thumbs:n+=r.outerHeight()+z.strip_space_between_thumbs}if(0==H)var o=t-z.strip_space_between_thumbs;else o=n-z.strip_space_between_thumbs;a(o)}function l(){if(0==H){var e=R.thumbSecondSize,t={};t.height=e+"px";var i={};i.height=e+"px"}else{var n=R.thumbSecondSize;t={};t.width=n+"px";i={};i.width=n+"px"}C.css(t),j.css(i)}function u(e){var t=O.getInnerStripPos(),i=t+e;i=O.fixInnerStripLimits(i),O.positionInnerStrip(i,!0)}function d(e){var t=S(e),i=-1*t.min;i=O.fixInnerStripLimits(i),O.positionInnerStrip(i,!0)}function c(e){var t=S(e),i=-1*t.max+R.stripSize;i=O.fixInnerStripLimits(i),O.positionInnerStrip(i,!0)}function h(e){if(0==w())return!1;var t=T(),i=S(e);if(i.min<t.minPosThumbs){var n=e.prev();d(n.length?n:e)}else if(i.max>t.maxPosThumbs){var r=e.next();c(r.length?r:e)}}function g(){var e=k.getSelectedItem();if(null==e)return!0;var t=e.objThumbWrapper;t&&h(t)}function p(){if(0==w())return!1;var e=O.getInnerStripPos(),t=O.fixInnerStripLimits(e);e!=t&&O.positionInnerStrip(t,!0)}function f(){var e=w();1==e?(A&&A.enable(),M&&M.enable()):(A&&A.disable(),M&&M.disable())}function _(){return!w()&&void(0==H?N.placeElement(j,z.strip_thumbs_align,0):N.placeElement(j,0,z.strip_thumbs_align))}function m(e){if(O.isTouchMotionActive()){var t=M.isSignificantPassed();if(1==t)return!0}var i=L.getItemByThumb(e);k.selectItem(i)}function v(){clearTimeout(D.handle),D.handle=setTimeout(function(){s()},50)}function b(){var e=k.getSelectedItem();L.setThumbSelected(e.objThumbWrapper),h(e.objThumbWrapper)}function y(){L.initEvents();var e=C.find(".ug-thumb-wrapper");e.on("click touchend",function(e){var t=jQuery(this);m(t)}),x.on(k.events.ITEM_CHANGE,b),D.isNotFixedThumbs&&jQuery(L).on(L.events.AFTERPLACEIMAGE,v)}function w(){return R.stripInnerSize>R.stripActiveSize}function T(){var e={},t=O.getInnerStripPos();return e.minPosThumbs=-1*t+1,e.maxPosThumbs=-1*t+R.stripSize-1,e}function S(e){var t={},i=e.position();return 0==H?(t.min=i.left,t.max=i.left+R.thumbSize):(t.min=i.top,t.max=i.top+R.thumbSize),t}var x,I,E,P,C,j,A,M,O=this,k=new UniteGalleryMain,N=new UGFunctions,H=!1,L=new UGThumbsGeneral,z=(N=new UGFunctions,{strip_vertical_type:!1,strip_thumbs_align:"left",strip_space_between_thumbs:6,strip_thumb_touch_sensetivity:15,strip_scroll_to_thumb_duration:500,strip_scroll_to_thumb_easing:"easeOutCubic",strip_control_avia:!0,strip_control_touch:!0,strip_padding_top:0,strip_padding_bottom:0,strip_padding_left:0,strip_padding_right:0}),D={isRunOnce:!1,is_placed:!1,isNotFixedThumbs:!1,handle:null},R={stripSize:0,stripActiveSize:0,stripInnerSize:0,thumbSize:0,thumbSecondSize:0};this.events={STRIP_MOVE:"stripmove",INNER_SIZE_CHANGE:"size_change"};var W={strip_thumbs_align:"top",thumb_resize_by:"width"};this.setHtml=function(e){if(!e){e=E;null!=z.parent_container&&(e=z.parent_container)}e.append("<div class='ug-thumbs-strip'><div class='ug-thumbs-strip-inner'></div></div>"),C=e.children(".ug-thumbs-strip"),j=C.children(".ug-thumbs-strip-inner"),L.setHtmlThumbs(j),1==D.isNotFixedThumbs&&L.hideThumbs()},this.destroy=function(){var e=C.find(".ug-thumb-wrapper");e.off("click"),e.off("touchend"),x.off(k.events.ITEM_CHANGE),jQuery(L).off(L.events.AFTERPLACEIMAGE),M&&M.destroy(),A&&A.destroy(),L.destroy()},this.________EXTERNAL_GENERAL___________=function(){},this.init=function(t,i){e(t,i)},this.run=function(){n()},this.positionInnerStrip=function(e,t){if(void 0===t)t=!1;if(0==H)var i={left:e+"px"};else i={top:e+"px"};0==t?(j.css(i),O.triggerStripMoveEvent()):(O.triggerStripMoveEvent(),j.stop(!0).animate(i,{duration:z.strip_scroll_to_thumb_duration,easing:z.strip_scroll_to_thumb_easing,queue:!1,progress:function(){O.triggerStripMoveEvent()},always:function(){O.triggerStripMoveEvent()}}))},this.triggerStripMoveEvent=function(){jQuery(O).trigger(O.events.STRIP_MOVE)},this.isTouchMotionActive=function(){if(!M)return!1;var e=M.isTouchActive();return e},this.isItemThumbVisible=function(e){var t=e.objThumbWrapper,i=t.position(),n=-1*O.getInnerStripPos();if(0==H)var r=n+R.stripSize,o=i.left,a=i.left+t.width();else r=n+R.stripSize,o=i.top,a=i.top+t.height();var s=!1;return a>=n&&r>=o&&(s=!0),s},this.getInnerStripPos=function(){return 0==H?j.position().left:j.position().top},this.getInnerStripLimits=function(){var e={};return e.maxPos=0==H?z.strip_padding_left:z.strip_padding_top,e.minPos=-(R.stripInnerSize-R.stripActiveSize),e},this.fixInnerStripLimits=function(e){var t=O.getInnerStripLimits();return e>t.maxPos&&(e=t.maxPos),e<t.minPos&&(e=t.minPos),e},this.scrollForeward=function(){u(-R.stripSize)},this.scrollBack=function(){u(R.stripSize)},this.________EXTERNAL_SETTERS___________=function(){},this.setOptions=function(e){z=jQuery.extend(z,e),L.setOptions(e),t()},this.setSizeVertical=function(e){if(0==H)throw new Error("setSizeVertical error, the strip size is not vertical");var t=R.thumbSecondSize,i={};i.width=t+"px",i.height=e+"px",C.css(i),r(e);var n={};n.width=t+"px",n.left="0px",n.top="0px",j.css(n),D.is_placed=!0,f()},this.setSizeHorizontal=function(e){if(1==H)throw new Error("setSizeHorizontal error, the strip size is not horizontal");var t=R.thumbSecondSize+z.strip_padding_top+z.strip_padding_bottom,i={};i.width=e+"px",i.height=t+"px",C.css(i),r(e);var n=z.strip_padding_left,o={};o.height=t+"px",o.left=n+"px",o.top="0px",j.css(o),D.is_placed=!0,f()},this.setPosition=function(e,t,i,n){N.placeElement(C,e,t,i,n)},this.resize=function(e){0==H?(C.width(e),R.stripActiveSize=e-z.strip_padding_left-z.strip_padding_right):(C.height(e),R.stripActiveSize=e-z.strip_padding_top-z.strip_padding_bottom),r(e),f(),p(),_(),g()},this.setThumbUnselected=function(e){L.setThumbUnselected(e)},this.setCustomThumbs=function(e){L.setCustomThumbs(e)},this.________EXTERNAL_GETTERS___________=function(){},this.getObjects=function(){var e=L.getOptions(),t=jQuery.extend(z,e),i={g_gallery:k,g_objGallery:x,g_objWrapper:E,g_arrItems:P,g_objStrip:C,g_objStripInner:j,g_aviaControl:A,g_touchThumbsControl:M,isVertical:H,g_options:t,g_thumbs:L};return i},this.getObjThumbs=function(){return L},this.getSelectedThumb=function(){var e=k.getSelectedItemIndex();return-1==e?null:L.getThumbByIndex(e)},this.getSizeAndPosition=function(){var e=N.getElementSize(C);return e},this.getHeight=function(){var e=C.outerHeight();return e},this.getWidth=function(){var e=C.outerWidth();return e},this.getSizes=function(){return R},this.isVertical=function(){return H},this.isPlaced=function(){return D.is_placed},this.isMoveEnabled=function(){var e=w();return e}}function UGTouchThumbsControl(){function e(){var e=jQuery.now(),t={};return t.passedTime=T.lastTime-T.startTime,t.lastActiveTime=e-T.buttonReleaseTime,t.passedDistance=T.lastPos-T.startPos,t.passedDistanceAbs=Math.abs(t.passedDistance),t}function t(){w.thumb_touch_slowFactor=y.normalizeSetting(5e-5,.01,1,100,v.strip_thumb_touch_sensetivity,!0)}function i(e){return 0==b?y.getMousePosition(e).pageX:y.getMousePosition(e).pageY}function n(e){var t=T.mousePos-e,i=T.innerPos-t,n=p.getInnerStripLimits();if(i>n.maxPos){var r=i-n.maxPos;i=n.maxPos+r/3}if(i<n.minPos){r=n.minPos-i;i=n.minPos-r/3}p.positionInnerStrip(i)}function r(e){var t=p.getInnerStripPos();T.mousePos=e,T.innerPos=t,T.lastPortionPos=t,T.lastDeltaTime=0,T.lastDeltaPos=0,T.startTime=jQuery.now(),T.startPos=T.innerPos,T.lastTime=T.startTime,T.lastPos=T.startPos,T.speed=0}function o(){var e=jQuery.now(),t=e-T.lastTime;t>=w.touch_portion_time&&(T.lastDeltaTime=e-T.lastTime,T.lastDeltaTime>w.touch_portion_time&&(T.lastDeltaTime=w.touch_portion_time),T.lastDeltaPos=T.lastPos-T.lastPortionPos,T.lastPortionPos=T.lastPos,T.lastTime=e)}function a(){var e=w.thumb_touch_slowFactor,t=w.minDeltaTime,i=w.minPath,n=p.getInnerStripPos(),r=jQuery.now(),o=r-T.lastTime,a=n-T.lastPortionPos;t>o&&T.lastDeltaTime>0&&(o=T.lastDeltaTime,a=T.lastDeltaPos+a),t>o&&(o=t);var l=a>0?1:-1,u=0;o>0&&(u=a/o);var d=u*u/(2*e)*l;Math.abs(d)<=i&&(d=0);var c=p.getInnerStripPos(),h=c+d,g=p.fixInnerStripLimits(h),f=p.getInnerStripLimits(),_=w.limitsBreakAddition,v=!1,y=g;if(h>f.maxPos&&(v=!0,g=_,_>h&&(g=h)),h<f.minPos){v=!0;var S=f.minPos-_;g=S,h>S&&(g=h)}var x=g-c,I=Math.abs(Math.round(u/e));if(0!=d&&(I=I*x/d),c!=g){var E={left:g+"px"};1==b&&(E={top:g+"px"}),m.animate(E,{duration:I,easing:w.animationEasing,queue:!0,progress:s})}if(1==v){var P=w.returnAnimateSpeed,C={left:y+"px"};1==b&&(C={top:y+"px"}),m.animate(C,{duration:P,easing:w.returnAnimationEasing,queue:!0,progress:s})}}function s(){T.lastPos=p.getInnerStripPos(),p.triggerStripMoveEvent()}function l(){return 1==T.loop_active||(T.loop_active=!0,void(T.handle=setInterval(o,10)))}function u(e){if(0==T.loop_active)return!0;if(e){var t=i(e);a(t)}T.loop_active=!1,T.handle=clearInterval(T.handle)}function d(e){return 0==T.isControlEnabled||(T.buttonReleaseTime=jQuery.now(),0==T.touch_active?(u(e),!0):(e.preventDefault(),T.touch_active=!1,u(e),void _.removeClass("ug-dragging")))}function c(e){if(0==T.isControlEnabled)return!0;e.preventDefault(),T.touch_active=!0;var t=i(e);m.stop(!0),r(t),l(),_.addClass("ug-dragging")}function h(e){if(0==T.isControlEnabled)return!0;if(0==T.touch_active)return!0;if(e.preventDefault(),0==e.buttons)return T.touch_active=!1,u(e),!0;var t=i(e);T.lastPos=p.getInnerStripPos(),n(t),o()}function g(){_.bind("mousedown touchstart",c),jQuery(window).add("body").bind("mouseup touchend",d),jQuery("body").bind("mousemove touchmove",h)}var p,f,_,m,v,b,y=new UGFunctions,w={touch_portion_time:200,thumb_touch_slowFactor:0,minDeltaTime:70,minPath:10,limitsBreakAddition:30,returnAnimateSpeed:500,animationEasing:"easeOutCubic",returnAnimationEasing:"easeOutCubic"},T={touch_active:!1,loop_active:!1,mousePos:0,innerPos:0,startPos:0,startTime:0,lastTime:0,buttonReleaseTime:0,lastPos:0,lastPortionPos:0,lastDeltaTime:0,lastDeltaPos:0,speed:0,handle:"",touchEnabled:!1,isControlEnabled:!0};this.enable=function(){T.isControlEnabled=!0},this.disable=function(){T.isControlEnabled=!1},this.init=function(e){p=e,f=e.getObjects(),f.g_gallery,f.g_objGallery,_=f.g_objStrip,m=f.g_objStripInner,v=f.g_options,b=f.isVertical,t(),g()},this.isSignificantPassed=function(){var t=e();return t.passedTime>300||t.passedDistanceAbs>30},this.isTouchActive=function(){if(1==T.touch_active)return!0;if(1==m.is(":animated"))return!0;var t=e();return t.lastActiveTime<50},this.destroy=function(){_.unbind("mousedown"),_.unbind("touchstart"),jQuery(window).add("body").unbind("mouseup").unbind("touchend"),jQuery("body").unbind("mousemove").unbind("touchmove")}}function UGPanelsBase(){function e(e,t){switch(n.orientation){case"right":case"left":var i={left:e+"px"};break;case"top":case"bottom":i={top:e+"px"}}o.stop(!0).animate(i,{duration:300,easing:"easeInOutQuad",queue:!1,complete:function(){t&&t()}})}function t(e){switch(n.orientation){case"right":case"left":h.placeElement(o,e,null);break;case"top":case"bottom":h.placeElement(o,null,e)}}function i(){s.trigger(r.events.FINISH_MOVE)}var n,r,o,a,s,l,u,d=new UniteGalleryMain,c=this,h=new UGFunctions;this.init=function(e,t,i,o,l){n=t,r=i,d=e,a=o,s=l,u=jQuery(d)},this.setHtml=function(e){if(o=e,"strip"==n.panelType)var t=a.strippanel_enable_handle;else t=a.gridpanel_enable_handle;if(1==t&&(l=new UGPanelHandle,l.init(r,o,a,n.panelType,d),l.setHtml()),!0===n.isDisabledAtStart){var i="<div class='ug-overlay-disabled'></div>";o.append(i),setTimeout(function(){o.children(".ug-overlay-disabled").hide()},n.disabledAtStartTimeout)}},this.placeElements=function(){l&&l.placeHandle()},this.initEvents=function(){l&&(l.initEvents(),u.on(d.events.SLIDER_ACTION_START,function(){l.hideHandle()}),u.on(d.events.SLIDER_ACTION_END,function(){l.showHandle()}))},this.destroy=function(){l&&(l.destroy(),u.off(d.events.SLIDER_ACTION_START),u.off(d.events.SLIDER_ACTION_END))},this.openPanel=function(a){if(!a)a=!1;return!o.is(":animated")&&(0!=n.isClosed&&(n.isClosed=!1,s.trigger(r.events.OPEN_PANEL),void(!1===a?e(n.originalPos,i):(t(n.originalPos),i()))))},this.closePanel=function(a){if(!a)a=!1;if(o.is(":animated"))return!1;if(1==n.isClosed)return!1;var l=c.getClosedPanelDest();n.isClosed=!0,s.trigger(r.events.CLOSE_PANEL),!1===a?e(l,i):(t(l),i())},this.setClosedState=function(e){n.originalPos=e,s.trigger(r.events.CLOSE_PANEL),n.isClosed=!0},this.setOpenedState=function(e){s.trigger(r.events.OPEN_PANEL),n.isClosed=!1},this.getClosedPanelDest=function(){var e,t=h.getElementSize(o);switch(n.orientation){case"left":n.originalPos=t.left,e=-n.panelWidth;break;case"right":n.originalPos=t.left;var i=d.getSize();e=i.width;break;case"top":n.originalPos=t.top,e=-n.panelHeight;break;case"bottom":n.originalPos=t.top;i=d.getSize();e=i.height}return e},this.isPanelClosed=function(){return n.isClosed},this.setDisabledAtStart=function(e){return!(0>=e)&&(n.isDisabledAtStart=!0,void(n.disabledAtStartTimeout=e))}}function UGPanelHandle(){function e(){s.removeClass("ug-button-hover")}function t(){s.addClass("ug-button-closed")}function i(){s.removeClass("ug-button-closed")}function n(e){return e.stopPropagation(),e.stopImmediatePropagation(),0==l.validateClickTouchstartEvent(e.type)||void(a.isPanelClosed()?a.openPanel():a.closePanel())}function r(){var e=a.getOrientation();switch(e){case"right":case"left":"top"!=u.panel_handle_align&&"bottom"!=u.panel_handle_align&&(u.panel_handle_align="top");break;case"bottom":"left"!=u.panel_handle_align&&"right"!=u.panel_handle_align&&(u.panel_handle_align="left");break;case"top":"left"!=u.panel_handle_align&&"right"!=u.panel_handle_align&&(u.panel_handle_align="right")}}var o,a,s,l=new UGFunctions,u={panel_handle_align:"top",panel_handle_offset:0,panel_handle_skin:0};this.init=function(e,t,i,n,r){switch(a=e,o=t,n){case"grid":u.panel_handle_align=i.gridpanel_handle_align,u.panel_handle_offset=i.gridpanel_handle_offset,u.panel_handle_skin=i.gridpanel_handle_skin;break;case"strip":u.panel_handle_align=i.strippanel_handle_align,u.panel_handle_offset=i.strippanel_handle_offset,u.panel_handle_skin=i.strippanel_handle_skin;break;default:throw new Error("Panel handle error: wrong panel type: "+n)}var s=r.getOptions(),l=s.gallery_skin;""==u.panel_handle_skin&&(u.panel_handle_skin=l)},this.setHtml=function(){var e=a.getOrientation(),t="ug-panel-handle-tip";switch(e){case"right":t+=" ug-handle-tip-left";break;case"left":t+=" ug-handle-tip-right";break;case"bottom":t+=" ug-handle-tip-top";break;case"top":t+=" ug-handle-tip-bottom"}o.append("<div class='"+t+" ug-skin-"+u.panel_handle_skin+"'></div>"),s=o.children(".ug-panel-handle-tip")},this.initEvents=function(){l.addClassOnHover(s),s.bind("click touchstart",n),jQuery(a).on(a.events.OPEN_PANEL,function(){e(),i()}),jQuery(a).on(a.events.CLOSE_PANEL,function(){e(),t()})},this.destroy=function(){l.destroyButton(s),jQuery(a).off(a.events.OPEN_PANEL),jQuery(a).off(a.events.CLOSE_PANEL)},this.placeHandle=function(){var e=l.getElementSize(s);r();var t=a.getOrientation();switch(t){case"left":l.placeElement(s,"right",u.panel_handle_align,-e.width);break;case"right":l.placeElement(s,-e.width,u.panel_handle_align,0,u.panel_handle_offset);break;case"top":l.placeElement(s,u.panel_handle_align,"bottom",u.panel_handle_offset,-e.height);break;case"bottom":l.placeElement(s,u.panel_handle_align,"top",u.panel_handle_offset,-e.height);break;default:throw new Error("Wrong panel orientation: "+t)}},this.hideHandle=function(){1==s.is(":visible")&&s.hide()},this.showHandle=function(){0==s.is(":visible")&&s.show()}}function UGStripPanel(){function e(e,t){x=e,m=jQuery(x),C=jQuery.extend(C,t);var i=!1;1==C.strippanel_vertical_type&&(C=jQuery.extend(C,j),i=!0),0==C.strippanel_enable_buttons&&(C=jQuery.extend(C,A),i=!0),1==i&&(C=jQuery.extend(C,t));var n=x.getOptions(),r=n.gallery_skin;""==C.strippanel_buttons_skin&&(C.strippanel_buttons_skin=r),v=x.getElement(),P.init(x,M,T,C,S),E=new UGThumbsStrip,E.init(x,C)}function t(){if(0==C.strippanel_vertical_type){if(0==M.panelWidth)throw new Error("Strip panel error: The width not set, please set width")}else if(0==M.panelHeight)throw new Error("Strip panel error: The height not set, please set height");if(null==M.orientation)throw new Error("Wrong orientation, please set panel orientation before run");return!0}function i(){return(1!=M.isFirstRun||0!=t())&&(E.run(),s(),d(),_(),M.isFirstRun=!1,void g())}function n(e){if(!e)e=v;if(e.append("<div class='ug-strip-panel'></div>"),b=e.children(".ug-strip-panel"),1==C.strippanel_enable_buttons){var t="ug-strip-arrow-left",i="ug-strip-arrow-right";1==C.strippanel_vertical_type&&(t="ug-strip-arrow-up",i="ug-strip-arrow-down"),b.append("<div class='ug-strip-arrow "+t+" ug-skin-"+C.strippanel_buttons_skin+"'><div class='ug-strip-arrow-tip'></div></div>"),b.append("<div class='ug-strip-arrow "+i+" ug-skin-"+C.strippanel_buttons_skin+"'><div class='ug-strip-arrow-tip'></div></div>")}P.setHtml(b),E.setHtml(b),1==C.strippanel_enable_buttons&&(w=b.children("."+t),y=b.children("."+i)),r()}function r(){""!=C.strippanel_background_color&&b.css("background-color",C.strippanel_background_color)}function o(){var e=E.getHeight(),t=M.panelWidth;if(y){w.height(e),y.height(e);var i=w.children(".ug-strip-arrow-tip");I.placeElement(i,"center","middle");var n=y.children(".ug-strip-arrow-tip");I.placeElement(n,"center","middle")}var r=e+C.strippanel_padding_top+C.strippanel_padding_bottom;b.width(t),b.height(r),M.panelHeight=r;var o=t-C.strippanel_padding_left-C.strippanel_padding_right;if(y){var a=y.outerWidth();o=o-2*a-2*C.strippanel_padding_buttons}E.resize(o)}function a(){var e=E.getWidth(),t=M.panelHeight;if(y){w.width(e),y.width(e);var i=w.children(".ug-strip-arrow-tip");I.placeElement(i,"center","middle");var n=y.children(".ug-strip-arrow-tip");I.placeElement(n,"center","middle")}var r=e+C.strippanel_padding_left+C.strippanel_padding_right;b.width(r),b.height(t),M.panelWidth=r;var o=t-C.strippanel_padding_top-C.strippanel_padding_bottom;if(y){var a=y.outerHeight();o=o-2*a-2*C.strippanel_padding_buttons}E.resize(o)}function s(){0==C.strippanel_vertical_type?o():a()}function l(){y&&(I.placeElement(w,"left","top",C.strippanel_padding_left,C.strippanel_padding_top),I.placeElement(y,"right","top",C.strippanel_padding_right,C.strippanel_padding_top));var e=C.strippanel_padding_left;y&&(e+=y.outerWidth()+C.strippanel_padding_buttons),E.setPosition(e,C.strippanel_padding_top)}function u(){y&&(I.placeElement(w,"left","top",C.strippanel_padding_left,C.strippanel_padding_top),I.placeElement(y,"left","bottom",C.strippanel_padding_left,C.strippanel_padding_bottom));var e=C.strippanel_padding_top;y&&(e+=y.outerHeight()+C.strippanel_padding_buttons),E.setPosition(C.strippanel_padding_left,e)}function d(){0==C.strippanel_vertical_type?l():u(),P.placeElements()}function c(e){return!!I.isButtonDisabled(e)||void("advance_item"==C.strippanel_buttons_role?x.nextItem():E.scrollForeward())}function h(e){return!!I.isButtonDisabled(e)||void("advance_item"==C.strippanel_buttons_role?x.prevItem():E.scrollBack())}function g(){if(!y)return!0;if(0==E.isMoveEnabled())return I.disableButton(w),I.disableButton(y),!0;var e=E.getInnerStripLimits(),t=E.getInnerStripPos();t>=e.maxPos?I.disableButton(w):I.enableButton(w),t<=e.minPos?I.disableButton(y):I.enableButton(y)}function p(){g()}function f(){x.isLastItem()?I.disableButton(y):I.enableButton(y),x.isFirstItem()?I.disableButton(w):I.enableButton(w)}function _(){if(1==M.isEventsInited)return!1;if(M.isEventsInited=!0,y)if(I.addClassOnHover(y,"ug-button-hover"),I.addClassOnHover(w,"ug-button-hover"),I.setButtonOnClick(w,h),I.setButtonOnClick(y,c),"advance_item"!=C.strippanel_buttons_role)jQuery(E).on(E.events.STRIP_MOVE,p),jQuery(E).on(E.events.INNER_SIZE_CHANGE,g),m.on(x.events.SIZE_CHANGE,g);else{var e=x.getOptions();0==e.gallery_carousel&&jQuery(x).on(x.events.ITEM_CHANGE,f)}P.initEvents()}var m,v,b,y,w,T=this,S=jQuery(this),x=new UniteGalleryMain,I=new UGFunctions,E=new UGThumbsStrip,P=new UGPanelsBase;this.events={FINISH_MOVE:"gridpanel_move_finish",OPEN_PANEL:"open_panel",CLOSE_PANEL:"close_panel"};var C={strippanel_vertical_type:!1,strippanel_padding_top:8,strippanel_padding_bottom:8,strippanel_padding_left:0,strippanel_padding_right:0,strippanel_enable_buttons:!0,strippanel_buttons_skin:"",strippanel_padding_buttons:2,strippanel_buttons_role:"scroll_strip",strippanel_enable_handle:!0,strippanel_handle_align:"top",strippanel_handle_offset:0,strippanel_handle_skin:"",strippanel_background_color:""},j={strip_vertical_type:!0,strippanel_padding_left:8,strippanel_padding_right:8,strippanel_padding_top:0,strippanel_padding_bottom:0},A={strippanel_padding_left:8,strippanel_padding_right:8,strippanel_padding_top:8,strippanel_padding_bottom:8},M={panelType:"strip",panelWidth:0,panelHeight:0,isEventsInited:!1,isClosed:!1,orientation:null,originalPos:null,isFirstRun:!0};this.destroy=function(){y&&(I.destroyButton(y),I.destroyButton(w),jQuery(E).off(E.events.STRIP_MOVE),jQuery(x).off(x.events.ITEM_CHANGE),jQuery(x).off(x.events.SIZE_CHANGE)),P.destroy(),E.destroy()},this.getOrientation=function(){return M.orientation},this.setOrientation=function(e){M.orientation=e},this.init=function(t,i){e(t,i)},this.run=function(){i()},this.setHtml=function(e){n(e)},this.getElement=function(){return b},this.getSize=function(){var e=I.getElementSize(b);return e},this.setWidth=function(e){M.panelWidth=e},this.setHeight=function(e){M.panelHeight=e},this.resize=function(e){T.setWidth(e),s(),d()},this.__________Functions_From_Base_____=function(){},this.isPanelClosed=function(){return P.isPanelClosed()},this.getClosedPanelDest=function(){return P.getClosedPanelDest()},this.openPanel=function(e){P.openPanel(e)},this.closePanel=function(e){P.closePanel(e)},this.setOpenedState=function(e){P.setOpenedState(e)},this.setClosedState=function(e){P.setClosedState(e)},this.setCustomThumbs=function(e){E.setCustomThumbs(e)},this.setDisabledAtStart=function(e){P.setDisabledAtStart(e)}}function UGGridPanel(){function e(e,i){P=e,t(),i&&i.vertical_scroll&&(M.gridpanel_vertical_scroll=i.vertical_scroll),M=jQuery.extend(M,i),1==N.isHorType?(M=jQuery.extend(M,k),M=jQuery.extend(M,i)):1==M.gridpanel_vertical_scroll&&(M=jQuery.extend(M,O),M=jQuery.extend(M,i),M.grid_panes_direction="bottom");var n=P.getOptions(),r=n.gallery_skin;""==M.gridpanel_arrows_skin&&(M.gridpanel_arrows_skin=r);var o=e.getObjects();w=o.g_objWrapper,A.init(P,N,I,M,E),j=new UGThumbsGrid,j.init(P,M)}function t(){if(null==N.orientation)throw new Error("Wrong orientation, please set panel orientation before run")}function i(){t(),o(),j.run(),l(),u(),y(),d()}function n(){w.append("<div class='ug-grid-panel'></div>"),T=w.children(".ug-grid-panel"),N.isHorType?(T.append("<div class='grid-arrow grid-arrow-left-hortype ug-skin-"+M.gridpanel_arrows_skin+"'></div>"),T.append("<div class='grid-arrow grid-arrow-right-hortype ug-skin-"+M.gridpanel_arrows_skin+"'></div>"),x=T.children(".grid-arrow-left-hortype"),S=T.children(".grid-arrow-right-hortype")):0==M.gridpanel_vertical_scroll?(T.append("<div class='grid-arrow grid-arrow-left ug-skin-"+M.gridpanel_arrows_skin+"'></div>"),T.append("<div class='grid-arrow grid-arrow-right ug-skin-"+M.gridpanel_arrows_skin+"'></div>"),x=T.children(".grid-arrow-left"),S=T.children(".grid-arrow-right")):(T.append("<div class='grid-arrow grid-arrow-up ug-skin-"+M.gridpanel_arrows_skin+"'></div>"),T.append("<div class='grid-arrow grid-arrow-down ug-skin-"+M.gridpanel_arrows_skin+"'></div>"),x=T.children(".grid-arrow-up"),S=T.children(".grid-arrow-down")),A.setHtml(T),x.fadeTo(0,0),S.fadeTo(0,0),j.setHtml(T),r()}function r(){""!=M.gridpanel_background_color&&T.css("background-color",M.gridpanel_background_color)}function o(){"center"==M.gridpanel_grid_align&&(M.gridpanel_grid_align="middle")}function a(){var e=M.gridpanel_padding_border_top+M.gridpanel_padding_border_bottom,t=N.panelHeight-e;if(0==M.gridpanel_arrows_always_on){var i=j.getNumPanesEstimationByHeight(t);if(1==i)return t}var n=C.getElementSize(S),r=n.height;e=r+M.gridpanel_arrows_padding_vert;return 1==M.gridpanel_vertical_scroll&&(e*=2),e+=M.gridpanel_padding_border_top+M.gridpanel_padding_border_bottom,N.panelHeight-e}function s(){var e=M.gridpanel_padding_border_left+M.gridpanel_padding_border_right,t=N.panelWidth-e;if(0==M.gridpanel_arrows_always_on){var i=j.getNumPanesEstimationByWidth(t);if(1==i)return t}var n=C.getElementSize(S),r=n.width;return e+=2*(r+M.gridpanel_arrows_padding_hor),N.panelWidth-e}function l(){var e=!1;if(1==M.gridpanel_arrows_always_on)e=!0;else{var t=j.getNumPanes();t>1&&(e=!0)}1==e?(S.show().fadeTo(0,1),x.show().fadeTo(0,1),N.arrowsVisible=!0):(S.hide(),x.hide(),N.arrowsVisible=!1)}function u(){var e=j.getSize();1==N.isHorType?N.panelHeight=e.height+M.gridpanel_padding_border_top+M.gridpanel_padding_border_bottom:N.panelWidth=e.width+M.gridpanel_padding_border_left+M.gridpanel_padding_border_right,C.setElementSize(T,N.panelWidth,N.panelHeight)}function d(){return 1!=N.isEventsInited&&(N.isEventsInited=!0,x&&(C.addClassOnHover(x),j.attachPrevPaneButton(x)),S&&(C.addClassOnHover(S),j.attachNextPaneButton(S)),void A.initEvents())}function c(){var e=M.gridpanel_padding_border_left;return e}function h(){var e=M.gridpanel_grid_align,t=0;switch(e){case"top":t=M.gridpanel_padding_border_top;break;case"bottom":t=M.gridpanel_padding_border_bottom}var i=c(),n=j.getElement();C.placeElement(n,i,e,0,t)}function g(){var e,t,i,n,r=C.getElementSize(x),o=j.getSize();switch(M.gridpanel_grid_align){default:case"top":e=M.gridpanel_padding_border_top+r.height+M.gridpanel_arrows_padding_vert;break;case"middle":e="middle";break;case"bottom":e=N.panelHeight-o.height-r.height-M.gridpanel_padding_border_bottom-M.gridpanel_arrows_padding_vert}var a=c(),s=j.getElement();C.placeElement(s,a,e);o=j.getSize();switch(M.gridpanel_arrows_align_vert){default:case"center":case"middle":t=(o.top-r.height)/2,i=o.bottom+(N.panelHeight-o.bottom-r.height)/2,n=0;break;case"grid":t=o.top-r.height-M.gridpanel_arrows_padding_vert_vert,i=o.bottom+M.gridpanel_arrows_padding_vert,n=0;break;case"border":case"borders":t=M.gridpanel_padding_border_top,i="bottom",n=M.gridpanel_padding_border_bottom}C.placeElement(x,"center",t),C.placeElement(S,"center",i,0,n)}function p(){1==N.arrowsVisible?g():h()}function f(){var e,t,i,n=C.getElementSize(x),r=j.getSize(),o=M.gridpanel_padding_border_top;switch(M.gridpanel_grid_align){case"middle":switch(M.gridpanel_arrows_align_vert){default:var a=r.height+M.gridpanel_arrows_padding_vert+n.height;o=(N.panelHeight-a)/2;break;case"border":case"borders":var s=N.panelHeight-n.height-M.gridpanel_padding_border_bottom;o=(s-r.height)/2}break;case"bottom":a=r.height+n.height+M.gridpanel_arrows_padding_vert;o=N.panelHeight-a-M.gridpanel_padding_border_bottom}var l=j.getElement(),u=c();C.placeElement(l,u,o);r=j.getSize();switch(M.gridpanel_arrows_align_vert){default:case"center":case"middle":e=r.bottom+(N.panelHeight-r.bottom-n.height)/2,i=0;break;case"grid":e=r.bottom+M.gridpanel_arrows_padding_vert,i=0;break;case"border":case"borders":e="bottom",i=M.gridpanel_padding_border_bottom}t=-n.width/2-M.gridpanel_space_between_arrows/2,C.placeElement(x,"center",e,t,i);var d=Math.abs(t);C.placeElement(S,"center",e,d,i)}function _(){1==N.arrowsVisible?f():h()}function m(){var e,t,i,n,r=C.getElementSize(x),o=j.getSize();switch(M.gridpanel_grid_align){default:case"left":e=M.gridpanel_padding_border_left+M.gridpanel_arrows_padding_hor+r.width;break;case"middle":case"center":e="center";break;case"right":e=N.panelWidth-o.width-r.width-M.gridpanel_padding_border_right-M.gridpanel_arrows_padding_hor}var a=j.getElement();switch(C.placeElement(a,e,M.gridpanel_padding_border_top),o=j.getSize(),M.gridpanel_arrows_align_vert){default:case"center":case"middle":n=(o.height-r.height)/2+o.top;break;case"top":n=M.gridpanel_padding_border_top+M.gridpanel_arrows_padding_vert;break;case"bottom":n=N.panelHeight-M.gridpanel_padding_border_bottom-M.gridpanel_arrows_padding_vert-r.height}switch(M.gridpanel_arrows_align_hor){default:case"borders":t=M.gridpanel_padding_border_left,i=N.panelWidth-M.gridpanel_padding_border_right-r.width;break;case"grid":t=o.left-M.gridpanel_arrows_padding_hor-r.width,i=o.right+M.gridpanel_arrows_padding_hor;break;case"center":t=(o.left-r.width)/2,i=o.right+(N.panelWidth-o.right-r.width)/2}C.placeElement(x,t,n),C.placeElement(S,i,n)}function v(){var e,t=j.getSize();switch(M.gridpanel_grid_align){default:case"left":e=M.gridpanel_padding_border_left;break;case"middle":case"center":e="center";break;case"right":e=N.panelWidth-t.width-M.gridpanel_padding_border_right}var i=j.getElement();C.placeElement(i,e,M.gridpanel_padding_border_top)}function b(){1==N.arrowsVisible?m():v()}function y(){0==N.isHorType?1==M.gridpanel_vertical_scroll?p():_():b(),A.placeElements()}var w,T,S,x,I=this,E=jQuery(this),P=new UniteGalleryMain,C=new UGFunctions,j=new UGThumbsGrid,A=new UGPanelsBase;this.events={FINISH_MOVE:"gridpanel_move_finish",OPEN_PANEL:"open_panel",CLOSE_PANEL:"close_panel"};var M={gridpanel_vertical_scroll:!0,gridpanel_grid_align:"middle",gridpanel_padding_border_top:10,gridpanel_padding_border_bottom:4,gridpanel_padding_border_left:10,gridpanel_padding_border_right:10,gridpanel_arrows_skin:"",gridpanel_arrows_align_vert:"middle",gridpanel_arrows_padding_vert:4,gridpanel_arrows_align_hor:"center",gridpanel_arrows_padding_hor:10,gridpanel_space_between_arrows:20,gridpanel_arrows_always_on:!1,gridpanel_enable_handle:!0,gridpanel_handle_align:"top",gridpanel_handle_offset:0,gridpanel_handle_skin:"",gridpanel_background_color:""},O={gridpanel_grid_align:"middle",gridpanel_padding_border_top:2,gridpanel_padding_border_bottom:2},k={gridpanel_grid_align:"center"},N={panelType:"grid",isHorType:!1,arrowsVisible:!1,panelHeight:0,panelWidth:0,originalPosX:null,isEventsInited:!1,isClosed:!1,orientation:null};this.destroy=function(){x&&C.destroyButton(x),S&&C.destroyButton(S),A.destroy(),
j.destroy()},this.getOrientation=function(){return N.orientation},this.setOrientation=function(e){switch(N.orientation=e,e){case"right":case"left":N.isHorType=!1;break;case"top":case"bottom":N.isHorType=!0;break;default:throw new Error("Wrong grid panel orientation: "+e)}},this.setHeight=function(e){if(1==N.isHorType)throw new Error("setHeight is not appliable to this orientatio ("+N.orientation+"). Please use setWidth");N.panelHeight=e;var t=a();j.setMaxHeight(t)},this.setWidth=function(e){if(0==N.isHorType)throw new Error("setWidth is not appliable to this orientatio ("+N.orientation+"). Please use setHeight");N.panelWidth=e;var t=s();j.setMaxWidth(t)},this.init=function(t,i){e(t,i)},this.setHtml=function(){n()},this.run=function(){i()},this.getElement=function(){return T},this.getSize=function(){var e=C.getElementSize(T);return e},this.__________Functions_From_Base_____=function(){},this.isPanelClosed=function(){return A.isPanelClosed()},this.getClosedPanelDest=function(){return A.getClosedPanelDest()},this.openPanel=function(e){A.openPanel(e)},this.closePanel=function(e){A.closePanel(e)},this.setOpenedState=function(e){A.setOpenedState(e)},this.setClosedState=function(e){A.setClosedState(e)},this.setDisabledAtStart=function(e){A.setDisabledAtStart(e)}}function UGThumbsGrid(){function e(e,t,i){if(L=e.getObjects(),F=e,F.attachThumbsPanel("grid",G),H=jQuery(e),z=L.g_objWrapper,D=L.g_arrItems,!0===i&&(V.isTilesMode=!0),V.numThumbs=D.length,c(t),1==V.isTilesMode){$.setFixedMode(),$.setApproveClickFunction(P),$.init(e,U);var n=$.getOptions();V.tileMaxHeight=n.tile_height,V.tileMaxWidth=n.tile_width,Y=$.getObjThumbs()}else t.thumb_fixed_size=!0,Y.init(e,t)}function t(e){var t=z;e&&(t=e),t.append("<div class='ug-thumbs-grid'><div class='ug-thumbs-grid-inner'></div></div>"),R=t.children(".ug-thumbs-grid"),W=R.children(".ug-thumbs-grid-inner"),1==V.isTilesMode?$.setHtml(W):Y.setHtmlThumbs(W)}function n(){if(0==V.isHorizontal){if(0==V.gridHeight)throw new Error("You must set height before run.")}else if(0==V.gridWidth)throw new Error("You must set width before run.")}function r(){var e=F.getSelectedItem();if(n(),1==V.isFirstTimeRun)N(),1==V.isTilesMode?(a(),u(),$.run()):(Y.setHtmlProperties(),u(),Y.loadThumbsImages());else if(1==V.isTilesMode){var t=a();1==t&&(u(),$.run())}if(f(),1==V.isFirstTimeRun&&V.isTilesMode){var i=Y.getThumbs();i.each(function(e,t){z.trigger(V.eventSizeChange,jQuery(t))}),i.fadeTo(0,1)}null!=e&&d(e.index),Q.trigger(G.events.PANE_CHANGE,V.currentPane),V.isFirstTimeRun=!1}function o(){if(1==V.isTilesMode)var e=$.getGlobalTileSize();else e=Y.getGlobalThumbSize();return e}function a(){if(0==V.isTilesMode)throw new Error("Dynamic size can be set only in tiles mode");var e=!1,t=F.isMobileMode(),i=V.spaceBetweenCols;1==t?(V.spaceBetweenCols=U.grid_space_between_mobile,V.spaceBetweenRows=U.grid_space_between_mobile):(V.spaceBetweenCols=U.grid_space_between_cols,V.spaceBetweenRows=U.grid_space_between_rows),V.spaceBetweenCols!=i&&(e=!0);var n=o(),r=n.width,a=V.tileMaxWidth,s=B.getNumItemsInSpace(V.gridWidth,V.tileMaxWidth,V.spaceBetweenCols);return s<U.grid_min_cols&&(a=B.getItemSizeInSpace(V.gridWidth,U.grid_min_cols,V.spaceBetweenCols)),$.setTileSizeOptions(a),a!=r&&(e=!0),e}function s(){var e=o(),t=e.height,i=V.gridWidth,n=U.grid_num_rows*t+(U.grid_num_rows-1)*V.spaceBetweenRows+2*U.grid_padding;V.gridHeight=n,B.setElementSize(R,i,n),B.setElementSize(W,i,n),V.innerWidth=i,V.innerHeight=n}function l(){var e=o(),t=e.width,i=U.grid_num_cols*t+(U.grid_num_cols-1)*V.spaceBetweenCols+2*U.grid_padding,n=V.gridHeight;V.gridWidth=i,B.setElementSize(R,i,n),B.setElementSize(W,i,n),V.innerWidth=i,V.innerHeight=n}function u(){0==V.isHorizontal?l():s()}function d(e){var t=x(e);return-1!=t&&void G.gotoPane(t,"scroll")}function c(e){U=jQuery.extend(U,e),Y.setOptions(e),V.isNavigationVertical="top"==U.grid_panes_direction||"bottom"==U.grid_panes_direction,V.spaceBetweenCols=U.grid_space_between_cols,V.spaceBetweenRows=U.grid_space_between_rows}function h(){var e=W.children(".ug-thumb-wrapper"),t=0,n=0,r=0,o=0,a=0,s=0;V.innerWidth=0,V.numPanes=1,V.arrPanes=[],V.numThumbsInPane=0,V.arrPanes.push(o);var l=e.length;for(i=0;i<l;i++){var u=jQuery(e[i]);B.placeElement(u,t,n);var d=u.outerWidth(),c=u.outerHeight();t>a&&(a=t);var h=n+c;h>s&&(s=h);var g=a+d;g>V.innerWidth&&(V.innerWidth=g),t+=d+V.spaceBetweenCols,r++,r>=U.grid_num_cols&&(n+=c+V.spaceBetweenRows,t=o,r=0),1==V.numPanes&&V.numThumbsInPane++,n+c>V.gridHeight&&(n=0,o=V.innerWidth+V.spaceBetweenCols,t=o,r=0,1==V.isMaxHeight&&1==V.numPanes&&(V.gridHeight=s,R.height(V.gridHeight)),i<l-1&&(V.numPanes++,V.arrPanes.push(o)))}W.width(V.innerWidth),1==V.isMaxHeight&&1==V.numPanes&&(V.gridHeight=s,R.height(s))}function g(){var e=W.children(".ug-thumb-wrapper"),t=0,n=0,r=0,o=0,a=0,s=0;V.innerWidth=0,V.numPanes=1,V.arrPanes=[],V.numThumbsInPane=0,V.arrPanes.push(a);var l=e.length;for(i=0;i<l;i++){var u=jQuery(e[i]);B.placeElement(u,t,n);var d=u.outerWidth(),c=u.outerHeight();t+=d+V.spaceBetweenCols;var h=n+c;h>r&&(r=h),o++,o>=U.grid_num_cols&&(n+=c+V.spaceBetweenRows,t=a,o=0),1==V.numPanes&&V.numThumbsInPane++,h=n+c;var g=s+V.gridHeight;h>g&&(1==V.isMaxHeight&&1==V.numPanes&&(V.gridHeight=r,R.height(V.gridHeight),g=V.gridHeight),n=g+V.spaceBetweenRows,s=n,a=0,t=a,o=0,i<l-1&&(V.numPanes++,V.arrPanes.push(n)))}W.height(r),V.innerHeight=r,1==V.isMaxHeight&&1==V.numPanes&&(V.gridHeight=r,R.height(r))}function p(){var e=W.children(".ug-thumb-wrapper"),t=U.grid_padding,n=U.grid_padding,r=n,o=t,a=0,s=0,l=0,u=0,d=0;V.innerWidth=0,V.numPanes=1,V.arrPanes=[],V.numThumbsInPane=0,V.arrPanes.push(t-U.grid_padding);var c=e.length;for(i=0;i<c;i++){var h=jQuery(e[i]),g=h.outerWidth(),p=h.outerHeight();o-t+g>V.gridWidth&&(d++,r=0,d>=U.grid_num_rows?(d=0,t=o,r=n,l=0,1==V.numPanes&&(V.gridWidth=a+U.grid_padding,R.width(V.gridWidth),V.gridHeight=u+U.grid_padding,R.height(V.gridHeight)),V.numPanes++,V.arrPanes.push(t-U.grid_padding)):(o=t,r=l+V.spaceBetweenRows)),B.placeElement(h,o,r);var f=o+g;f>a&&(a=f);var _=r+p;_>l&&(l=_),_>u&&(u=_),_>s&&(s=_);f=a+g;f>V.innerWidth&&(V.innerWidth=f),o+=g+V.spaceBetweenCols,1==V.numPanes&&V.numThumbsInPane++}V.innerWidth=a+U.grid_padding,V.innerHeight=u+U.grid_padding,W.width(V.innerWidth),W.height(V.innerHeight),1==V.numPanes&&(V.gridWidth=a+U.grid_padding,V.gridHeight=u+U.grid_padding,R.width(V.gridWidth),R.height(V.gridHeight))}function f(){0==V.isHorizontal?V.isNavigationVertical?g():h():p()}function _(e){if(0>e||e>=V.numThumbs)throw new Error("Thumb not exists: "+e);return!0}function m(e){if(e>=V.numPanes||0>e)throw new Error("Pane "+index+" doesn't exists.");return!0}function v(e){var t=T(e);return 0!=t&&void W.css(t)}function b(e){var t=T(e);return 0!=t&&void W.stop(!0).animate(t,{duration:U.grid_transition_duration,easing:U.grid_transition_easing,queue:!1})}function y(){var e=-V.arrPanes[V.currentPane];b(e)}function w(){return 1==V.isNavigationVertical?V.gridHeight:V.gridWidth}function T(e){var t={};return 1==V.isNavigationVertical?t.top=e+"px":t.left=e+"px",t}function S(){var e=B.getElementSize(W);return 1==V.isNavigationVertical?e.top:e.left}function x(e){if(0==_(e))return-1;var t=Math.floor(e/V.numThumbsInPane);return t}function I(){if(1==V.numPanes)return!1;var e=B.getStoredEventData(V.storedEventID),t=e.diffTime,i=S(),n=Math.abs(i-e.startInnerPos);return n>30||n>5&&t>300}function E(){var e=B.getStoredEventData(V.storedEventID),t=S();diffPos=Math.abs(e.startInnerPos-t);var i=w(),n=Math.round(3*i/8);return diffPos>=n||e.diffTime<300&&diffPos>25}function P(){if(1==V.numPanes)return!0;var e=B.isApproveStoredEventClick(V.storedEventID,V.isNavigationVertical);return e}function C(e){if(1==I())return!0;var t=jQuery(this),i=Y.getItemByThumb(t);F.selectItem(i)}function j(e){if(1==V.numPanes)return!0;if(1==V.touchActive)return!0;0==V.isTilesMode&&e.preventDefault(),V.touchActive=!0;var t={startInnerPos:S()};B.storeEventData(e,V.storedEventID,t)}function A(){if(0==U.grid_vertical_scroll_ondrag)return!1;if(1==V.isNavigationVertical)return!1;var e=B.handleScrollTop(V.storedEventID);return"vert"===e}function M(e){if(0==V.touchActive)return!0;e.preventDefault(),B.updateStoredEventData(e,V.storedEventID);var t=B.getStoredEventData(V.storedEventID,V.isNavigationVertical),i=A();if(i)return!0;var n=t.diffMousePos,r=t.startInnerPos+n,o=n>0?"prev":"next",a=V.arrPanes[V.numPanes-1];0==U.grid_carousel&&r>0&&"prev"==o&&(r/=3),0==U.grid_carousel&&-a>r&&"next"==o&&(r=t.startInnerPos+n/3),v(r)}function O(e){if(0==V.touchActive)return!0;B.updateStoredEventData(e,V.storedEventID);var t=B.getStoredEventData(V.storedEventID,V.isNavigationVertical);if(V.touchActive=!1,0==E())return y(),!0;var i=S(),n=i-t.startInnerPos,r=n>0?"prev":"next";"next"==r?0==U.grid_carousel&&G.isLastPane()?y():G.nextPane():0==U.grid_carousel&&G.isFirstPane()?y():G.prevPane()}function k(){var e=F.getSelectedItem();Y.setThumbSelected(e.objThumbWrapper),d(e.index)}function N(){if(0==V.isTilesMode){Y.initEvents();var e=R.find(".ug-thumb-wrapper");e.on("click touchend",C),H.on(F.events.ITEM_CHANGE,k)}else $.initEvents();R.bind("mousedown touchstart",j),jQuery("body").bind("mousemove touchmove",M),jQuery(window).add("body").bind("mouseup touchend",O)}var H,L,z,D,R,W,G=this,Q=jQuery(this),F=new UniteGalleryMain,B=new UGFunctions,Y=new UGThumbsGeneral,$=new UGTileDesign,U={grid_panes_direction:"left",grid_num_cols:2,grid_min_cols:2,grid_num_rows:2,grid_space_between_cols:10,grid_space_between_rows:10,grid_space_between_mobile:10,grid_transition_duration:300,grid_transition_easing:"easeInOutQuad",grid_carousel:!1,grid_padding:0,grid_vertical_scroll_ondrag:!1};this.events={PANE_CHANGE:"pane_change"};var V={eventSizeChange:"thumb_size_change",isHorizontal:!1,isMaxHeight:!1,isMaxWidth:!1,gridHeight:0,gridWidth:0,innerWidth:0,innerHeight:0,numPanes:0,arrPanes:0,numThumbs:0,currentPane:0,numThumbsInPane:0,isNavigationVertical:!1,touchActive:!1,startScrollPos:0,isFirstTimeRun:!0,isTilesMode:!1,storedEventID:"thumbsgrid",tileMaxWidth:null,tileMaxHeight:null,spaceBetweenCols:null,spaceBetweenRows:null};this.destroy=function(){if(0==V.isTilesMode){var e=R.find(".ug-thumb-wrapper");e.off("click"),e.off("touchend"),H.on(F.events.ITEM_CHANGE),Y.destroy()}else $.destroy();R.unbind("mousedown"),R.unbind("touchstart"),jQuery("body").unbind("mousemove"),jQuery("body").unbind("touchmove"),jQuery(window).add("body").unbind("touchend"),jQuery(window).add("body").unbind("mouseup"),Q.off(G.events.PANE_CHANGE)},this.__________EXTERNAL_GENERAL_________=function(){},this.setThumbUnselected=function(e){Y.setThumbUnselected(e)},this.isItemThumbVisible=function(e){var t=e.index,i=x(t);return i==V.currentPane},this.__________EXTERNAL_API_________=function(){},this.getNumPanesEstimationByHeight=function(e){if(1==V.isTilesMode)var t=U.tile_height;else{var i=Y.getOptions();t=i.thumb_height}var n=Y.getNumThumbs(),r=Math.ceil(n/U.grid_num_cols),o=r*t+(r-1)*V.spaceBetweenRows,a=Math.ceil(o/e);return a},this.getNumPanesEstimationByWidth=function(e){if(V.isTilesMode)var t=U.tile_width;else{var i=Y.getOptions();t=i.thumb_width}var n=Y.getNumThumbs(),r=Math.ceil(n/U.grid_num_rows),o=r*t+(r-1)*V.spaceBetweenCols,a=Math.ceil(o/e);return a},this.getHeightEstimationByWidth=function(e){if(0==V.isTilesMode)throw new Error("This function works only with tiles mode");var t=Y.getNumThumbs(),i=B.getNumItemsInSpace(e,U.tile_width,V.spaceBetweenCols),n=Math.ceil(t/i);n>U.grid_num_rows&&(n=U.grid_num_rows);var r=B.getSpaceByNumItems(n,U.tile_height,V.spaceBetweenRows);return r+2*U.grid_padding},this.getElement=function(){return R},this.getSize=function(){var e=B.getElementSize(R);return e},this.getNumPanes=function(){return V.numPanes},this.isFirstPane=function(){return 0==V.currentPane},this.isLastPane=function(){return V.currentPane==V.numPanes-1},this.getPaneInfo=function(){var e={pane:V.currentPane,total:V.numPanes};return e},this.getPane=function(){return V.currentPane},this.setWidth=function(e){V.gridWidth=e,V.isHorizontal=!0},this.setMaxWidth=function(e){V.gridWidth=e,V.isMaxWidth=!0,V.isHorizontal=!0},this.setHeight=function(e){V.gridHeight=e,V.isHorizontal=!1},this.setMaxHeight=function(e){V.gridHeight=e,V.isMaxHeight=!0,V.isHorizontal=!1},this.gotoPane=function(e,t){if(0==m(e))return!1;if(e==V.currentPane)return!1;var i=-V.arrPanes[e];V.currentPane=e,b(i),Q.trigger(G.events.PANE_CHANGE,e)},this.nextPane=function(){var e=V.currentPane+1;if(e>=V.numPanes){if(0==U.grid_carousel)return!0;e=0}G.gotoPane(e,"next")},this.prevPane=function(){var e=V.currentPane-1;return!(0>e&&(e=V.numPanes-1,0==U.grid_carousel))&&void G.gotoPane(e,"prev")},this.attachNextPaneButton=function(e){return B.setButtonOnClick(e,G.nextPane),1==U.grid_carousel||(G.isLastPane()&&e.addClass("ug-button-disabled"),void Q.on(G.events.PANE_CHANGE,function(){G.isLastPane()?e.addClass("ug-button-disabled"):e.removeClass("ug-button-disabled")}))},this.attachPrevPaneButton=function(e){return B.setButtonOnClick(e,G.prevPane),1==U.grid_carousel||(G.isFirstPane()&&e.addClass("ug-button-disabled"),void Q.on(G.events.PANE_CHANGE,function(){G.isFirstPane()?e.addClass("ug-button-disabled"):e.removeClass("ug-button-disabled")}))},this.attachBullets=function(e){e.setActive(V.currentPane),jQuery(e).on(e.events.BULLET_CLICK,function(t,i){G.gotoPane(i,"theme"),e.setActive(i)}),jQuery(G).on(G.events.PANE_CHANGE,function(t,i){e.setActive(i)})},this.getObjTileDesign=function(){return $},this.init=function(t,i,n){e(t,i,n)},this.run=function(){r()},this.setHtml=function(e){t(e)}}function UGTiles(){function e(e,i){g_objects=e.getObjects(),re=e,Z=jQuery(e),K=g_objects.g_objWrapper,g_objects.g_arrItems,ue=jQuery.extend(ue,i),t(),ae.init(e,ue),se=ae.getObjThumbs()}function t(){ue.tiles_min_columns<1&&(ue.tiles_min_columns=1),0!=ue.tiles_max_columns&&ue.tiles_max_columns<ue.tiles_min_columns&&(ue.tiles_max_columns=ue.tiles_min_columns)}function i(e){if(!e)if(J)e=J;else e=K;J=e;var t=ue.tiles_type;e.addClass("ug-tiletype-"+t),ae.setHtml(e),e.children(".ug-thumb-wrapper").hide()}function n(){if(J.addClass("ug-tiles-rest-mode"),de.isTransInited=!0,1==ue.tiles_enable_transition){J.addClass("ug-tiles-transit");var e=ae.getOptions();1==e.tile_enable_image_effect&&0==e.tile_image_effect_reverse&&J.addClass("ug-tiles-transit-overlays"),de.isTransActive=!0}}function r(){return oe.getElementSize(J).width}function o(){return 0!=de.isTransInited&&(J.addClass("ug-tiles-transition-active"),J.removeClass("ug-tiles-rest-mode"),0!=de.isTransActive&&void ae.disableEvents())}function a(){return 0!=de.isTransInited&&(J.removeClass("ug-tiles-transition-active"),void J.addClass("ug-tiles-rest-mode"))}function s(){1==de.isTransActive?(setTimeout(function(){ae.enableEvents(),ae.triggerSizeChangeEventAllTiles(),a()},800),de.handle&&clearTimeout(de.handle),de.handle=setTimeout(function(){a(),ae.triggerSizeChangeEventAllTiles(),de.handle=null},2e3)):(ae.triggerSizeChangeEventAllTiles(),a())}function l(){le.colWidth=(le.availWidth-le.colGap*(le.numCols-1))/le.numCols,le.colWidth=Math.floor(le.colWidth),le.totalWidth=oe.getSpaceByNumItems(le.numCols,le.colWidth,le.colGap)}function u(){if(le.colWidth=ue.tiles_col_width,le.minCols=ue.tiles_min_columns,le.maxCols=ue.tiles_max_columns,0==re.isMobileMode()?le.colGap=ue.tiles_space_between_cols:le.colGap=ue.tiles_space_between_cols_mobile,le.galleryWidth=r(),le.availWidth=le.galleryWidth,1==ue.tiles_include_padding&&(le.availWidth=le.galleryWidth-2*le.colGap),1==ue.tiles_exact_width)le.numCols=oe.getNumItemsInSpace(le.availWidth,le.colWidth,le.colGap),le.maxCols>0&&le.numCols>le.maxCols&&(le.numCols=le.maxCols),le.numCols<le.minCols?(le.numCols=le.minCols,l()):le.totalWidth=le.numCols*(le.colWidth+le.colGap)-le.colGap;else{var e=oe.getNumItemsInSpaceRound(le.availWidth,le.colWidth,le.colGap);e<le.minCols?e=le.minCols:0!=le.maxCols&&e>le.maxCols&&(e=le.maxCols),le.numCols=e,l()}switch(ue.tiles_align){case"center":default:le.addX=Math.round((le.galleryWidth-le.totalWidth)/2);break;case"left":le.addX=0;break;case"right":le.addX=le.galleryWidth-le.totalWidth}for(le.arrPosx=[],col=0;col<le.numCols;col++){var t=oe.getColX(col,le.colWidth,le.colGap);le.arrPosx[col]=t+le.addX}}function d(){le.maxColHeight=0,le.colHeights=[0]}function c(){var e=0,t=999999999;for(col=0;col<le.numCols;col++){if(null==le.colHeights[col]||0==le.colHeights[col])return col;le.colHeights[col]<t&&(e=col,t=le.colHeights[col])}return e}function h(e,t,i,n){if(null==n)n=c();var r=0;void 0!==le.colHeights[n]&&(r=le.colHeights[n]);var o=ae.getTileHeightByWidth(le.colWidth,e);if(null===o){if(1==ue.tiles_enable_transition)throw new Error("Can't know tile height, please turn off transition");var a=oe.getElementSize(e);o=a.height}var s=le.arrPosx[n];oe.placeElement(e,s,r);var l=r+o;le.colHeights[n]=l+le.colGap,le.maxColHeight<l&&(le.maxColHeight=l),1==t&&e.show().fadeTo(0,1),1==i&&J.height(le.maxColHeight)}function g(e){e||(e=!1),u(),d();var t=se.getThumbs(se.type.GET_THUMBS_RATIO);o(),ae.resizeAllTiles(le.colWidth,ae.resizemode.VISIBLE_ELEMENTS,t);for(var i=0;i<t.length;i++){var n=jQuery(t[i]),r=void 0;1==ue.tiles_keep_order&&(r=oe.getColByIndex(le.numCols,i)),h(n,e,!1,r)}s();var a=J.height();1==de.isTransActive&&a>le.maxColHeight?setTimeout(function(){J.height(le.maxColHeight)},700):J.height(le.maxColHeight)}function p(e){var t=e.index(),i=re.getItem(t);if(!0===i.ordered_placed)return!1;var n=oe.getPrevRowSameColIndex(t,le.numCols);if(0>n)return!0;var r=re.getItem(n);return!0===r.ordered_placed}function f(e,t){if(!0!==t){var i=p(e);if(0==i)return!1}var n=e.index(),r=oe.getColByIndex(le.numCols,n),o=re.getItem(n);ae.resizeTile(e,le.colWidth),h(e,!0,!0,r),o.ordered_placed=!0;var a=re.getNumItems(),s=oe.getNextRowSameColIndex(n,le.numCols);if(s>=a)return!1;var l=se.getThumbByIndex(s),u=re.getItem(s);se.isThumbLoaded(l),se.isThumbLoaded(l)&&!u.ordered_placed&&f(l,!0)}function _(e,t){if(1==t)return!1;e=jQuery(e);var i=jQuery(e).parent();se.triggerImageLoadedEvent(i,e),1==ue.tiles_keep_order?f(i):(ae.resizeTile(i,le.colWidth),h(i,!0,!0))}function m(){var e=se.getThumbs(se.type.GET_THUMBS_NO_RATIO);if(!e||0==e.length)return!1;if(de.isAllLoaded=!1,1==de.isFirstPlaced){u(),d();var t=Math.abs(le.galleryWidth-le.totalWidth);if(1==ue.tiles_set_initial_height&&0==oe.isScrollbarExists()&&25>t){var i=(e.length,Math.ceil(e.length/le.numCols)),r=i*ue.tiles_col_width*.75;J.height(r),u()}}e.fadeTo(0,0);var o=e.find("img.ug-thumb-image"),a=le.numCols,s=le.galleryWidth;oe.checkImagesLoaded(o,function(){u(),(a!=le.numCols||s!=le.galleryWidth)&&g(!1),n(),ne.trigger(ie.events.ALL_TILES_LOADED)},function(e,t){1==de.isFirstPlaced&&re.triggerEvent(ie.events.TILES_FIRST_PLACED),_(e,t)})}function v(){var e=r(),t=se.getThumbs(!0),i=ue.tiles_justified_row_height,n=[],o=0,a=ue.tiles_justified_space_between,s=t.length;jQuery.each(t,function(e,t){t=jQuery(t);var r=se.getItemByThumb(t),a=r.thumbWidth,s=r.thumbHeight;s!==i&&(a=Math.floor(r.thumbRatioByWidth*i)),n[e]=a,o+=a});var l=Math.ceil(o/e);l>s&&(l=s);var u=o/l,d=[],c=0,h=[],g=[],p=0,f=0;jQuery.each(t,function(e,t){var i=n[e];p+i/2>(f+1)*u&&(h[d.length]=c,d.push(g),g=[],c=0,f++),p+=i,c+=i,g.push(t)}),h[d.length]=c,d.push(g);var _=[],m=[],v=0;jQuery.each(d,function(t,r){var o=(r.length,h[t]),s=(r.length-1)*a,l=(e-s)/o,u=Math.round(i*l);v+=u,t>0&&(v+=a),m.push(u);var d=u/i,c=[],g=s;jQuery.each(r,function(e,t){var i=jQuery(t),r=i.index(),o=n[r],a=Math.round(o*d);c[e]=a,g+=a});var p=g-e;jQuery.each(c,function(e,t){return 0!=p&&(0>p?(c[e]=t+1,p++):(c[e]=t-1,p--),void(e==c.length-1&&0!=p&&(c[e]-=p)))}),_[t]=c});var b={arrRows:d,arrRowWidths:_,arrRowHeights:m,gap:a,totalHeight:v};return b}function b(e){if(!e)e=!1;var t=r(),i=v();J.height(i.totalHeight);var n=r();n!=t&&(i=v()),o();var a=0,l=0;jQuery.each(i.arrRows,function(t,n){var r=i.arrRowWidths[t],o=i.arrRowHeights[t],s=0;jQuery.each(n,function(t,n){var u=jQuery(n),d=o,c=r[t];ae.resizeTile(u,c,d,ae.resizemode.VISIBLE_ELEMENTS),oe.placeElement(u,s,a),s+=c,s>l&&(l=s),s+=i.gap,1==e&&jQuery(n).show()}),a+=o+i.gap}),s()}function y(){var e=jQuery(K).find("img.ug-thumb-image"),t=se.getThumbs();de.isAllLoaded=!1,t.fadeTo(0,0),oe.checkImagesLoaded(e,function(){setTimeout(function(){b(!0),t.fadeTo(0,1),re.triggerEvent(ie.events.TILES_FIRST_PLACED),n(),ne.trigger(ie.events.ALL_TILES_LOADED)})},function(e,t){e=jQuery(e);var i=jQuery(e).parent();se.triggerImageLoadedEvent(i,e)})}function w(){var e=jQuery(K).find("img.ug-thumb-image"),t=se.getThumbs();de.isAllLoaded=!1,t.fadeTo(0,0),oe.checkImagesLoaded(e,function(){1==re.isMobileMode()?g(!0):S(!0),re.triggerEvent(ie.events.TILES_FIRST_PLACED),n(),ne.trigger(ie.events.ALL_TILES_LOADED)},function(e,t){e=jQuery(e);var i=jQuery(e).parent();se.triggerImageLoadedEvent(i,e)})}function T(){var e=r();ce.galleryWidth=e,ee={},ce.colWidth=ue.tiles_nested_col_width,ce.optimalTileWidth=ue.tiles_nested_optimal_tile_width,ce.currentGap=ue.tiles_space_between_cols,1==re.isMobileMode()&&(ce.currentGap=ue.tiles_space_between_cols_mobile),null==ce.colWidth?ce.colWidth=Math.floor(ce.optimalTileWidth/ce.nestedOptimalCols):ce.optimalTileWidth>ce.colWidth?ce.nestedOptimalCols=Math.ceil(ce.optimalTileWidth/ce.colWidth):ce.nestedOptimalCols=1,ce.maxColumns=oe.getNumItemsInSpace(e,ce.colWidth,ce.currentGap),ce.colWidth=oe.getItemSizeInSpace(e,ce.maxColumns,ce.currentGap),ce.gridY=0,te=[];var t=se.getThumbs(!0);switch(t.each(function(){var e=jQuery(this),t=x(e);te.push(t)}),ce.optimalTileWidth>ce.colWidth?ce.nestedOptimalCols=Math.ceil(ce.optimalTileWidth/ce.colWidth):ce.nestedOptimalCols=1,ce.totalWidth=ce.maxColumns*(ce.colWidth+ce.currentGap)-ce.currentGap,ue.tiles_align){case"center":default:ce.addX=Math.round((ce.galleryWidth-ce.totalWidth)/2);break;case"left":ce.addX=0;break;case"right":ce.addX=ce.galleryWidth-ce.totalWidth}ce.maxGridY=0}function S(e){var t=r();T(),P();var i=ce.maxGridY*(ce.colWidth+ce.currentGap)-ce.currentGap;J.height(i);var n=r();n!=t&&(T(),P()),0==ue.tiles_nested_debug&&$(e)}function x(e){var t,i,n={},r=ce.colWidth,o=ce.currentGap,a=ae.getTileImageSize(e),s=e.index(),l=Math.ceil(I(s)*(1*ce.nestedOptimalCols/3)+2*ce.nestedOptimalCols/3),u=a.width,d=a.height,c=u/d;return u>d?(t=l,i=Math.round(t/c),0==i&&(i=1)):(i=l,t=Math.round(i*c),0==t&&(t=1)),n.dimWidth=t,n.dimHeight=i,n.width=t*r+o*(t-1),n.height=i*r+o*(i-1),n.imgWidth=u,n.imgHeight=d,n.left=0,n.top=0,n}function I(e){return Math.abs(Math.sin(Math.abs(1e3*Math.sin(e))))}function E(e,t){if(0==t){for(var i=ce.currentItem;i<te.length;i++)C(i,!0);ce.currentItem=te.length-1}else C(ce.currentItem,!0);for(i=0;i<=ce.currentItem;i++)U(i,!0);ce.currentItem++}function P(e){if(1==ue.tiles_nested_debug)return void 0===e&&(e=!0),E(!0,e),!1;for(var t=0;t<te.length;t++)C(t,!0)}function C(e,t){if(!t)t=!1;ce.maxColHeight=0;for(var i=oe.getObjectLength(ee),n=ce.gridY;i+1>=n;n++){for(var r=0;r<ce.maxColumns;r++)if(0==G(ce.gridY)||0==B(ce.gridY,r)){var o=W(r);return void j(e,o,r)}ce.gridY++}}function j(e,t,i){var n=jQuery.extend(!0,{},te[e]),r=n.dimWidth,o=t-n.dimWidth,a=ce.nestedOptimalCols,s=t<=n.dimWidth||.33*a>=o||a>=t;if(s)L(e,t);else if(a>=o)a>=4?1==R(Math.floor(t/2),i)?L(e,Math.floor(t/2)+1):L(e,Math.floor(t/2)):L(objImage,t);else if(1==R(r,i))switch(r>=a){case!0:L(e,r-1);break;case!1:L(e,r+1)}n=jQuery.extend(!0,{},te[e]);var l=N(e,n.dimWidth,i);if(ce.columnsValueToEnableHeightResize<=l[0]&&ce.maxColumns>=2*ce.nestedOptimalCols){var u=H(i,n),d=z(e,u.newHeight,!0);te[e].dimHeight=d.dimHeight;var c=k(l,d.dimWidth,i),h=A(c),g=!1;h>=2&&(g=!0),u.newHeight>=n.dimHeight&&(n=z(e,u.newHeight,!0));var p=M(u.idToResize,u.newHeight,n.dimHeight);n.top=ce.gridY,n.left=i,p.push({tileID:e,sizes:n});var f=D(p),_=D(c);return _>f||1==g?void O(p):void O(c)}n.left=i,n.top=ce.gridY,te[e]=n,Q(e,n,i,ce.gridY),ce.maxGridY=n.top+n.dimHeight}function A(e){for(var t=0,i=0,n=0;n<e.length-1;n++){var r=e[n].sizes,o=-1,a=-1;G(r.top+r.dimHeight)&&ce.maxColumns>r.left+r.dimWidth&&(o=ee[r.top+r.dimHeight-1][r.left+r.dimWidth],a=ee[r.top+r.dimHeight][r.left+r.dimWidth]),o!=a&&t++}for(n=0;n<e.length-1;n++){r=e[n].sizes,o=-1,a=-1;G(r.top+r.dimHeight)&&r.left-1>=0&&(o=ee[r.top+r.dimHeight-1][r.left-1],a=ee[r.top+r.dimHeight][r.left-1]),o!=a&&i++}return Math.max(i,t)}function M(e,t,i){var n=te[e],r=n.dimHeight,o=(n.dimWidth,n.left),a=n.top,s=(parseInt(a/(ce.colWidth+ce.currentGap)),parseInt(o/(ce.colWidth+ce.currentGap)),r-t+i),l=z(e,s,!0),u=[];return u.push({tileID:e,sizes:l}),u}function O(e){for(var t=0;t<e.length;t++){var i=e[t].sizes,n=e[t].tileID;te[n]=jQuery.extend(!0,{},i),Q(n,i,i.left,i.top)}}function k(e,t){for(var i=0,n=0,r=[],o=0,a=0,s=0;s<e[1].length;s++){var l=e[1][s],u=te[e[1][s]];if(n+=u.dimHeight,0!=s)i+=u.dimHeight,r.push([l,u.dimHeight]);else{var d=L(l,t,!0);i+=d.dimHeight,r.push([e[1][s],d.dimHeight])}}o=u.left,a=u.top;var c=n,h=[];for(s=r.length-1;s>=0;s--){var g;l=r[s][0];0!=s?(g=Math.max(Math.round(1*n/3),Math.floor(r[s][1]*(n/i))),c-=g,d=z(l,g,!0),d.left=o,d.top=a,h.push({tileID:l,sizes:d}),a+=d.dimHeight):(g=c,d=z(l,g,!0),d.left=o,d.top=a,h.push({tileID:l,sizes:d}))}return h}function N(e,t,i){var n=ce.gridY-1,r=0,o=0,a=1,s=[],l=[];if(s.push(e),n>=0){for(o=0;n>=0;){if(r=ee[n][i],void 0!==ee[n][i-1]&&ee[n][i-1]==ee[n][i]||void 0!==ee[n][i+t]&&ee[n][i+t-1]==ee[n][i+t]||ee[n][i]!=ee[n][i+t-1])return l.push(a),l.push(s),l;o!=r&&(a++,s.push(r)),n--,o=r}return l.push(a),l.push(s),l}return[0,[]]}function H(e,t){var i=0,n=0,r=t.dimWidth,o=t.dimHeight,a=0,s=0,l=jQuery.map(ee,function(e,t){return[e]});if(void 0===l[ce.gridY]||void 0===l[ce.gridY][e-1])n=0;else for(var u=0;void 0!==ee[ce.gridY+u]&&-1!=ee[ce.gridY+u][e-1];)a=ee[ce.gridY+u][e-2],u++,n++;if(void 0===l[ce.gridY]||void 0===l[ce.gridY][e+r])i=0;else for(u=0;void 0!==ee[ce.gridY+u]&&-1!=ee[ce.gridY+u][e+r];)s=ee[ce.gridY+u][e+r+1],u++,i++;var d=0,c=0;Math.abs(o-n)<Math.abs(o-i)&&0!=n?(d=n,c=a):0!=i?(d=i,c=s):d=o;var h={newHeight:d,idToResize:c};return h}function L(e,t,i){i||(i=!1);var n=ce.colWidth,r=ce.currentGap,o=te[e],a=o.imgWidth,s=o.imgHeight,l=a/s;if(dimWidth=t,dimHeight=Math.round(dimWidth/l),1==i){var u=jQuery.extend(!0,{},o);return u.dimWidth=dimWidth,u.dimHeight=dimHeight,u.width=dimWidth*n+r*(dimWidth-1),u.height=dimHeight*n+r*(dimHeight-1),u}o.dimWidth=dimWidth,o.dimHeight=dimHeight,o.width=dimWidth*n+r*(dimWidth-1),o.height=dimHeight*n+r*(dimHeight-1)}function z(e,t,i){i||(i=!1);var n=te[e],r=n.dimWidth,o=ce.colWidth,a=ce.currentGap;if(1==i){var s=jQuery.extend(!0,{},n);return s.dimHeight=t,s.width=r*o+a*(r-1),s.height=t*o+a*(t-1),s}n.dimHeight=t,n.width=r*o+a*(r-1),n.height=t*o+a*(t-1)}function D(e){for(var t=0,i=0,n=0;n<e.length;n++){var r=te[e[n].tileID];if(0==r.dimHeight||0==r.height)return;resizeVal=r.dimWidth/r.dimHeight/(r.imgWidth/r.imgHeight),resizeVal<1&&(resizeVal=1/resizeVal),t+=resizeVal,i++}return t/i}function R(e,t){var i=ce.gridY-1;return!(0>=i||0==G(i))&&ee[i][t+e-1]!=ee[i][t+e]}function W(e){var t=e,i=0;if(1==G(ce.gridY))for(;0==B(ce.gridY,t);)i++,t++;else i=ce.maxColumns;return i}function G(e){return void 0!==ee[e]}function Q(e,t,i,n){for(var r=0;r<t.dimHeight;r++)for(var o=0;o<t.dimWidth;o++)0==G(n+r)&&F(n+r),Y(n+r,i+o,e)}function F(e){ee[e]=new Object;for(var t=0;t<ce.maxColumns;t++)ee[e][t]=-1}function B(e,t){return-1!=ee[e][t]}function Y(e,t,i){ee[e][t]=i}function $(e){if(!e)e=!1;o();for(var t=0;t<te.length;t++)U(t,e);J.height(ce.maxColHeight),s()}function U(e,t){var i=se.getThumbByIndex(e),n=te[e],r=n.top*(ce.colWidth+ce.currentGap),o=ce.addX+n.left*(ce.colWidth+ce.currentGap);ae.resizeTile(i,n.width,n.height,ae.resizemode.VISIBLE_ELEMENTS),oe.placeElement(i,o,r),r+n.height>ce.maxColHeight&&(ce.maxColHeight=r+n.height),1==t&&i.fadeTo(0,1)}function V(){if(1==de.isFirstTimeRun)return!0;if(0==de.isAllLoaded)return!1;switch(ue.tiles_type){case"columns":g(!1);break;case"justified":b(!1);break;case"nested":var e=re.isMobileMode();1==e?g(!1):S(!1)}}function q(){ne.on(ie.events.ALL_TILES_LOADED,function(){de.isAllLoaded=!0}),Z.on(re.events.SIZE_CHANGE,V),Z.on(ie.events.TILES_FIRST_PLACED,function(){de.isFirstPlaced=!1}),ae.initEvents()}function X(){switch(K.children(".ug-tile").show(),1==de.isFirstTimeRun&&q(),ae.run(),ue.tiles_type){default:case"columns":m();break;case"justified":y();break;case"nested":w()}de.isFirstTimeRun=!1}var Z,K,J,ee,te,ie=this,ne=jQuery(this),re=new UniteGalleryMain,oe=new UGFunctions,ae=new UGTileDesign,se=new UGThumbsGeneral,le={},ue={tiles_type:"columns",tiles_col_width:250,tiles_align:"center",tiles_exact_width:!1,tiles_space_between_cols:3,tiles_space_between_cols_mobile:3,tiles_include_padding:!0,tiles_min_columns:2,tiles_max_columns:0,tiles_keep_order:!1,tiles_set_initial_height:!0,tiles_justified_row_height:150,tiles_justified_space_between:3,tiles_nested_optimal_tile_width:250,tiles_nested_col_width:null,tiles_nested_debug:!1,tiles_enable_transition:!0};this.events={THUMB_SIZE_CHANGE:"thumb_size_change",TILES_FIRST_PLACED:"tiles_first_placed",ALL_TILES_LOADED:"all_tiles_loaded"};var de={isFirstTimeRun:!0,handle:null,isTransActive:!1,isTransInited:!1,isFirstPlaced:!0,isAllLoaded:!1},ce={colWidth:null,nestedOptimalCols:5,gridY:0,maxColumns:0,columnsValueToEnableHeightResize:3,resizeLeftRightToColumn:!0,currentItem:0,currentGap:null,optimalTileWidth:null,maxGridY:0};this.destroy=function(){Z.off(re.events.SIZE_CHANGE),ae.destroy(),Z.off(ie.events.TILES_FIRST_PLACED)},this.init=function(t,i){e(t,i)},this.setHtml=function(e){i(e)},this.getObjTileDesign=function(){return ae},this.run=function(){X()},this.runNewItems=function(){if(!J)throw new Error("Can't run new items - parent not set");switch(ae.setHtml(J,!0),ae.run(!0),ue.tiles_type){case"columns":m();break;default:case"justified":case"nested":throw new Error("Tiles type: "+ue.tiles_type+" not support load more yet")}}}function UGTileDesign(){function e(e,i){D=e,jQuery(e);var r=D.getObjects();H=r.g_objWrapper,D.getArrItems(),G=jQuery.extend(G,Q),G=jQuery.extend(G,i),t(),W.init(e,G);var o={allow_onresize:!1},a=["overlay"];F.funcCustomTileHtml&&(a=[]),W.setCustomThumbs(n,a,o);var s=W.getOptions();G=jQuery.extend(G,s),F.ratioByWidth=G.tile_width/G.tile_height,F.ratioByHeight=G.tile_height/G.tile_width,G.tile_size_by==L.sizeby.GLOBAL_RATIO&&F.isTextpanelOutside&&(F.hasImageContainer=!0)}function t(){if(1==G.tile_enable_overlay?(G.thumb_overlay_opacity=G.tile_overlay_opacity,G.thumb_overlay_color=G.tile_overlay_color):0==G.tile_enable_icons?G.thumb_color_overlay_effect=!1:G.thumb_overlay_opacity=0,G.tile_as_link&&(G.thumb_wrapper_as_link=!0,G.thumb_link_newpage=G.tile_link_newpage),1==G.tile_enable_outline&&0==G.tile_enable_border&&(G.tile_enable_outline=!1),F.tileInnerReduce=0,G.tile_enable_border&&(F.tileInnerReduce=2*G.tile_border_width,W.setThumbInnerReduce(F.tileInnerReduce)),F.isSaparateIcons=!R.isRgbaSupported(),1==G.tile_enable_textpanel){switch(G.tile_textpanel_position){case"top":G.tile_textpanel_align="top";case"bottom":F.isTextpanelOutside=!0,G.tile_textpanel_always_on=!0,G.tile_textpanel_offset=0;break;case"inside_top":G.tile_textpanel_align="top";break;case"middle":G.tile_textpanel_align="middle",G.tile_textpanel_appear_type="fade"}0==G.tile_textpanel_always_on&&(F.isSaparateIcons=!0)}0!=G.tile_textpanel_offset&&(G.tile_textpanel_appear_type="fade",G.tile_textpanel_margin=G.tile_textpanel_offset),"title_and_desc"==G.tile_textpanel_source&&(G.tile_textpanel_enable_description=!0,G.tile_textpanel_desc_style_as_title=!0)}function i(){var e=D.isMobileMode();switch(F.isTextPanelHidden=!1,1==e&&0==G.tile_textpanel_always_on&&(F.isTextPanelHidden=!0),F.isVideoplayIconAlwaysOn=G.tile_videoplay_icon_always_on,G.tile_videoplay_icon_always_on){case"always":F.isVideoplayIconAlwaysOn=!0;break;case"never":F.isVideoplayIconAlwaysOn=!1;break;case"mobile_only":F.isVideoplayIconAlwaysOn=1==e;break;case"desktop_only":F.isVideoplayIconAlwaysOn=0==e}}function n(e,t){if(e.addClass("ug-tile"),F.funcCustomTileHtml)return F.funcCustomTileHtml(e,t),!1;var i="";1==F.hasImageContainer&&(i+="<div class='ug-image-container ug-trans-enabled'>")
;var n="ug-thumb-image";(0==G.tile_enable_image_effect||1==G.tile_image_effect_reverse)&&(n+=" ug-trans-enabled");var r=R.stripTags(t.title);r=R.htmlentitles(r),i+='<img src="'+R.escapeDoubleSlash(t.urlThumb)+"\" alt='"+r+"' class='"+n+"'>",1==F.hasImageContainer&&(i+="</div>"),e.append(i),G.tile_size_by==L.sizeby.GLOBAL_RATIO&&e.fadeTo(0,0);var o={};if(1==G.tile_enable_background&&(o["background-color"]=G.tile_background_color),1==G.tile_enable_border&&(o["border-width"]=G.tile_border_width+"px",o["border-style"]="solid",o["border-color"]=G.tile_border_color,G.tile_border_radius&&(o["border-radius"]=G.tile_border_radius+"px")),1==G.tile_enable_outline&&(o.outline="1px solid "+G.tile_outline_color),1==G.tile_enable_shadow){var a=G.tile_shadow_h+"px ";a+=G.tile_shadow_v+"px ",a+=G.tile_shadow_blur+"px ",a+=G.tile_shadow_spread+"px ",a+=G.tile_shadow_color,o["box-shadow"]=a}e.css(o);var s="";if(G.tile_enable_icons){if(0==G.tile_as_link&&1==G.tile_enable_action){var l="ug-button-play ug-icon-zoom";"image"!=t.type&&(l="ug-button-play ug-icon-play"),s+="<div class='ug-tile-icon "+l+"' style='display:none'></div>"}if(t.link&&1==G.tile_show_link_icon||1==G.tile_as_link)if(0==G.tile_as_link){var u="";1==G.tile_link_newpage&&(u=" target='_blank'"),s+="<a href='"+t.link+"'"+u+" class='ug-tile-icon ug-icon-link'></a>"}else s+="<div class='ug-tile-icon ug-icon-link' style='display:none'></div>";var c=F.isSaparateIcons;if(0==c&&"image"!=t.type&&1==F.isVideoplayIconAlwaysOn&&(c=!0),c)var h=e;else h=e.children(".ug-thumb-overlay");h.append(s);var g=h.children("."+l);0==g.length?g=null:g.hide();var p=h.children(".ug-icon-link");0==p.length?p=null:p.hide(),p||1!=G.tile_enable_action||e.addClass("ug-tile-clickable")}else 1==G.tile_enable_action&&e.addClass("ug-tile-clickable");if(1==G.tile_enable_image_effect){var f="";0==G.tile_image_effect_reverse&&(f=" ug-trans-enabled");var _="<div class='ug-tile-image-overlay"+f+"' >",m=" ug-"+G.tile_image_effect_type+"-effect";_+='<img src="'+R.escapeDoubleSlash(t.urlThumb)+"\" alt='"+t.title+"' class='"+m+f+"'>",_+="</div>",e.append(_),1==G.tile_image_effect_reverse&&e.children(".ug-tile-image-overlay").fadeTo(0,0)}if(1==G.tile_enable_textpanel){var v=new UGTextPanel;v.init(D,G,"tile");var b="";(1==G.tile_textpanel_always_on||1==F.isTextpanelOutside)&&(b="ug-trans-enabled"),v.appendHTML(e,b);var y=t.title,w="";switch(G.tile_textpanel_source){case"desc":case"description":y=t.description;break;case"desc_title":""!=t.description&&(y=t.description);break;case"title_and_desc":y=t.title,w=t.description}if(v.setTextPlain(y,w),0==G.tile_textpanel_always_on&&v.getElement().fadeTo(0,0),e.data("objTextPanel",v),1==G.tile_textpanel_always_on){var T=d(e);T.css("z-index",2)}if(1==F.isTextpanelOutside){var S="<div class='ug-tile-cloneswrapper'></div>";e.append(S);var x=e.children(".ug-tile-cloneswrapper"),I=new UGTextPanel;I.init(D,G,"tile"),I.appendHTML(x),I.setTextPlain(y,w),e.data("objTextPanelClone",I)}}null!==t.addHtml&&e.append(t.addHtml)}function r(e){var t=e.children(".ug-tile-image-overlay");return t}function o(e){var t=e.children(".ug-thumb-overlay");return t}function a(e){if(0==F.hasImageContainer)return null;var t=e.children(".ug-image-container");return t}function s(e){var t=e.find(".ug-tile-image-overlay img");return t}function l(e){var t=e.data("objTextPanel");return t}function u(e){var t=e.data("objTextPanelClone");return t}function d(e){var t=e.children(".ug-textpanel");return t}function c(e){var t=e.find(".ug-tile-cloneswrapper .ug-textpanel");if(0==t.length)throw new Error("text panel cloned element not found");return t}function h(e){if(1==F.isTextpanelOutside)var t=c(e);else t=d(e);if(!t)return 0;var i=R.getElementSize(t);return i.height}function g(e){var t=e.find(".ug-icon-link");return 0==t.length?null:t}function p(e){var t=F.ratioByHeight;switch(G.tile_size_by){default:t=F.ratioByHeight;break;case L.sizeby.IMAGE_RATIO:if(!e)throw new Error("tile should be given for tile ratio");var i=L.getItemByTile(e);if(void 0!==i.thumbRatioByHeight){if(0==i.thumbRatioByHeight)throw trace(i),new Error("the item ratio not inited yet");t=i.thumbRatioByHeight}break;case L.sizeby.CUSTOM:return null}return t}function f(e){var t=e.find(".ug-button-play");return 0==t.length?null:t}function _(e){return!!e.hasClass("ug-thumb-over")}function m(e){return e.hasClass("ug-tile-clickable")}function v(e){return 1==G.tile_enable_icons&&1==F.isVideoplayIconAlwaysOn&&"image"!=e.type}function b(e,t,i,n){var o=r(e),l=L.getTileImage(e),u=s(e);t-=F.tileInnerReduce,i-=F.tileInnerReduce;var d=null;if(1==F.isTextpanelOutside){var c=h(e);if(i-=c,"top"==G.tile_textpanel_position&&(d=c),1==F.hasImageContainer){var g=a(e);R.setElementSize(g,t,i),null!==d&&R.placeElement(g,0,d)}}if(0==G.tile_enable_image_effect)R.scaleImageCoverParent(l,t,i),0==F.hasImageContainer&&null!==d&&R.placeElement(l,0,d);else{var p="nothing";!0===n&&0==F.isTextpanelOutside&&(p=1==G.tile_image_effect_reverse?"effect":"image"),"effect"!=p&&(R.setElementSize(o,t,i),null!==d&&R.placeElement(o,0,d),R.scaleImageCoverParent(u,t,i)),"image"!=p&&(1==F.hasImageContainer?R.scaleImageCoverParent(l,t,i):"effect"==p?(R.scaleImageCoverParent(l,t,i),null!==d&&R.placeElement(l,0,d)):R.cloneElementSizeAndPos(u,l,!1,null,d))}}function y(e,t,i,n){var r=null;if(i&&(r=i-F.tileInnerReduce),n&&(n-=F.tileInnerReduce),"clone"==t){var o=u(e);o.refresh(!0,!0,r);var a=L.getItemByTile(e);return a.textPanelCloneSizeSet=!0,!1}var s=l(e);if(!s)return!1;var d=null;1==F.isTextpanelOutside&&(d=h(e)),s.refresh(!1,!0,r,d);var c=1==G.tile_textpanel_always_on||"fade"==G.tile_textpanel_appear_type;if(c)if(1==F.isTextpanelOutside&&n&&"bottom"==G.tile_textpanel_position){var g=n-d;s.positionPanel(g)}else s.positionPanel()}function w(e){var t=(L.getItemByTile(e),f(e)),i=g(e),n=R.getElementSize(e);b(e,n.width,n.height),1==G.tile_enable_textpanel&&y(e,"regular",n.width,n.height);var r=n.width-F.tileInnerReduce,a=n.height-F.tileInnerReduce,s=0;if(1==F.isTextpanelOutside){var l=h(e);a-=l,"top"==G.tile_textpanel_position&&(s=l)}var u=o(e);if(R.setElementSizeAndPosition(u,0,s,r,a),t||i){var c=0;if(1==G.tile_enable_textpanel&&0==F.isTextPanelHidden&&0==F.isTextpanelOutside){var p=d(e),_=R.getElementSize(p);_.height>0&&(c=Math.floor(_.height/2*-1))}}if(t&&i){var m=R.getElementSize(t),v=R.getElementSize(i),w=G.tile_space_between_icons,T=m.width+w+v.width,S=Math.floor((n.width-T)/2);w>S&&(w=Math.floor((n.width-m.width-v.width)/3),T=m.width+w+v.width,S=Math.floor((n.width-T)/2)),R.placeElement(t,S,"middle",0,c),R.placeElement(i,S+m.width+w,"middle",0,c)}else t&&R.placeElement(t,"center","middle",0,c),i&&R.placeElement(i,"center","middle",0,c);t&&t.show(),i&&i.show()}function T(e,t){var i=(L.getItemByTile(e),r(e)),n=G.thumb_transition_duration;if(0==G.tile_image_effect_reverse){var o=L.getTileImage(e);t?(o.fadeTo(0,1),i.stop(!0).fadeTo(n,0)):i.stop(!0).fadeTo(n,1)}else t?i.stop(!0).fadeTo(n,1):i.stop(!0).fadeTo(n,0)}function S(e,t){var i=G.thumb_transition_duration,n=d(e);if(!n)return!0;if("slide"==G.tile_textpanel_appear_type){var r=R.getElementSize(n);if(0==r.width)return!1;var o=-r.height,a=0,s={},l={},u="bottom";"inside_top"==G.tile_textpanel_position&&(u="top"),s[u]=o+"px",l[u]=a+"px",1==t?(n.fadeTo(0,1),0==n.is(":animated")&&n.css(s),l.opacity=1,n.stop(!0).animate(l,i)):n.stop(!0).animate(s,i)}else 1==t?n.stop(!0).fadeTo(i,1):n.stop(!0).fadeTo(i,0)}function x(e,t,i){var n=G.thumb_transition_duration;i&&!0===i&&(n=0);var r=f(e),o=g(e),a=t?1:0;r&&r.stop(!0).fadeTo(n,a),o&&o.stop(!0).fadeTo(n,a)}function I(e,t){if(t=jQuery(t),G.tile_enable_image_effect&&T(t,!0),1==G.tile_enable_textpanel&&0==G.tile_textpanel_always_on&&0==F.isTextPanelHidden&&S(t,!0),F.isSaparateIcons&&1==G.tile_enable_icons){var i=1==G.thumb_overlay_reverse,n=L.getItemByTile(t);0==v(n)&&x(t,i,!1)}}function E(e,t){if(t=jQuery(t),G.tile_enable_image_effect&&T(t,!1),1==G.tile_enable_textpanel&&0==G.tile_textpanel_always_on&&S(t,!1),1==F.isSaparateIcons&&1==G.tile_enable_icons){var i=1!=G.thumb_overlay_reverse,n=L.getItemByTile(t);0==v(n)?x(t,i,!1):x(t,!0,!0)}}function P(e){var t=W.getThumbs().not(e);t.each(function(e,t){W.setThumbNormalStyle(jQuery(t))})}function C(e,t,i){return t=jQuery(t),1==G.tile_visible_before_image&&!0!==t.data("image_placed")&&!0!==i||(w(t),void W.setThumbNormalStyle(t))}function j(e,t,i){w(t),i.fadeTo(0,1),t.data("image_placed",!0)}function A(e){return 1==m(e)?(z.trigger(L.events.TILE_CLICK,e),!0):void(0==_(e)&&(P(e),W.setThumbOverStyle(e)))}function M(e){var t=jQuery(this),i=t.prop("tagName").toLowerCase(),n=!0;if(F.funcParentApproveClick&&0==F.funcParentApproveClick()&&(n=!1),"a"==i)0==n&&e.preventDefault();else if(0==_(t))1==n&&A(t);else{if(0==m(t))return!0;1==n&&z.trigger(L.events.TILE_CLICK,t)}}function O(e){e.stopPropagation();var t=jQuery(this).parents(".ug-tile"),i=!0;return F.funcParentApproveClick&&0==F.funcParentApproveClick()&&(i=!1),0==_(t)?(A(t),!0):1==i?(z.trigger(L.events.TILE_CLICK,t),!1):void 0}function k(e){var t=jQuery(this).parents(".ug-tile");F.funcParentApproveClick&&0==F.funcParentApproveClick()&&e.preventDefault(),0==_(t)&&0==G.tile_as_link&&(e.preventDefault(),A(t))}var N,H,L=this,z=jQuery(this),D=new UniteGalleryMain,R=new UGFunctions,W=new UGThumbsGeneral;this.resizemode={FULL:"full",WRAPPER_ONLY:"wrapper_only",VISIBLE_ELEMENTS:"visible_elements"},this.sizeby={GLOBAL_RATIO:"global_ratio",TILE_RATIO:"tile_ratio",IMAGE_RATIO:"image_ratio",CUSTOM:"custom"},this.events={TILE_CLICK:"tile_click"};var G={tile_width:250,tile_height:200,tile_size_by:L.sizeby.IMAGE_RATIO,tile_visible_before_image:!1,tile_enable_background:!0,tile_background_color:"#F0F0F0",tile_enable_border:!1,tile_border_width:3,tile_border_color:"#F0F0F0",tile_border_radius:0,tile_enable_outline:!1,tile_outline_color:"#8B8B8B",tile_enable_shadow:!1,tile_shadow_h:1,tile_shadow_v:1,tile_shadow_blur:3,tile_shadow_spread:2,tile_shadow_color:"#8B8B8B",tile_enable_action:!0,tile_as_link:!1,tile_link_newpage:!0,tile_enable_overlay:!0,tile_overlay_opacity:.4,tile_overlay_color:"#000000",tile_enable_icons:!0,tile_show_link_icon:!1,tile_videoplay_icon_always_on:"never",tile_space_between_icons:26,tile_enable_image_effect:!1,tile_image_effect_type:"bw",tile_image_effect_reverse:!1,tile_enable_textpanel:!1,tile_textpanel_source:"title",tile_textpanel_always_on:!1,tile_textpanel_appear_type:"slide",tile_textpanel_position:"inside_bottom",tile_textpanel_offset:0},Q={thumb_color_overlay_effect:!0,thumb_overlay_reverse:!0,thumb_image_overlay_effect:!1,tile_textpanel_enable_description:!1,tile_textpanel_bg_opacity:.6,tile_textpanel_padding_top:8,tile_textpanel_padding_bottom:8},F={ratioByHeight:0,ratioByWidth:0,eventSizeChange:"thumb_size_change",funcCustomTileHtml:null,funcCustomPositionElements:null,funcParentApproveClick:null,isSaparateIcons:!1,tileInnerReduce:0,isTextpanelOutside:!1,hasImageContainer:!1,isVideoplayIconAlwaysOn:!1,isTextPanelHidden:!1};this.loadTileImage=function(e){var t=L.getTileImage(e);R.checkImagesLoaded(t,null,function(t,i){j(null,e,jQuery(t))})},this.setHtml=function(e,t){N=e,!0!==t&&i(),W.setHtmlThumbs(e,t)},this.initEvents=function(){W.initEvents(),jQuery(W).on(W.events.SETOVERSTYLE,I),jQuery(W).on(W.events.SETNORMALSTYLE,E),jQuery(W).on(W.events.PLACEIMAGE,j),H.on(F.eventSizeChange,C),N.on("click",".ug-tile",M),N.on("click",".ug-tile .ug-button-play",O),N.on("click",".ug-tile .ug-icon-link",k)},this.destroy=function(){if(N.off("click",".ug-tile"),N.off("click",".ug-tile .ug-button-play"),N.off("click",".ug-tile .ug-icon-link"),jQuery(W).off(W.events.SETOVERSTYLE),jQuery(W).off(W.events.SETNORMALSTYLE),jQuery(W).off(W.events.PLACEIMAGE),H.off(F.eventSizeChange),1==G.tile_enable_textpanel){var e=W.getThumbs();jQuery.each(e,function(e,t){var i=l(jQuery(t));i&&i.destroy()})}W.destroy()},this.init=function(t,i,n){e(t,i,n)},this.setFixedMode=function(){G.tile_size_by=L.sizeby.GLOBAL_RATIO,G.tile_visible_before_image=!0},this.setApproveClickFunction=function(e){F.funcParentApproveClick=e},this.resizeTile=function(e,t,i,n){if(1==F.isTextpanelOutside&&y(e,"clone",t),t){if(!i)i=L.getTileHeightByWidth(t,e)}else t=G.tile_width,i=G.tile_height;switch(R.setElementSize(e,t,i),n){default:case L.resizemode.FULL:L.triggerSizeChangeEvent(e,!0);break;case L.resizemode.WRAPPER_ONLY:return!0;case L.resizemode.VISIBLE_ELEMENTS:if(F.funcCustomTileHtml)return L.triggerSizeChangeEvent(e,!0),!0;b(e,t,i,!0),1==G.tile_enable_textpanel&&1==G.tile_textpanel_always_on&&t&&y(e,"regular",t,i)}},this.resizeAllTiles=function(e,t,n){i();var r=null;if(G.tile_size_by==L.sizeby.GLOBAL_RATIO&&(r=L.getTileHeightByWidth(e)),!n)n=W.getThumbs();n.each(function(i,n){L.resizeTile(jQuery(n),e,r,t)})},this.triggerSizeChangeEvent=function(e,t){if(!e)return!1;if(!t)t=!1;H.trigger(F.eventSizeChange,[e,t])},this.triggerSizeChangeEventAllTiles=function(e){var t=W.getThumbs();t.each(function(){var t=jQuery(this);L.triggerSizeChangeEvent(t,e)})},this.disableEvents=function(){var e=W.getThumbs();e.css("pointer-events","none")},this.enableEvents=function(){var e=W.getThumbs();e.css("pointer-events","auto")},this.setOptions=function(e){G=jQuery.extend(G,e),W.setOptions(e)},this.setTileSizeOptions=function(e){if(G.tile_size_by!==L.sizeby.GLOBAL_RATIO)throw new Error("setNewTileOptions works with global ration only");G.tile_width=e,G.tile_height=Math.floor(e*F.ratioByHeight)},this.setCustomFunctions=function(e,t){F.funcCustomTileHtml=e,F.funcCustomPositionElements=t},this.run=function(e){var t=W.type.GET_THUMBS_ALL;!0===e&&(t=W.type.GET_THUMBS_NEW);var i=W.getThumbs(t);G.tile_size_by==L.sizeby.GLOBAL_RATIO&&L.resizeAllTiles(G.tile_width,L.resizemode.WRAPPER_ONLY,i),1==G.tile_enable_image_effect&&0==G.tile_image_effect_reverse&&i.children(".ug-thumb-image").fadeTo(0,0),W.setHtmlProperties(i),1==G.tile_visible_before_image&&(i.children(".ug-thumb-image").fadeTo(0,0),W.loadThumbsImages())},this._____________EXTERNAL_GETTERS____________=function(){},this.getObjThumbs=function(){return W},this.getOptions=function(){return G},this.getTileImage=function(e){var t=e.find("img.ug-thumb-image");return t},this.getItemByTile=function(e){return W.getItemByThumb(e)},this.getTileHeightByWidth=function(e,t){var i=p(t);if(null===i)return null;var n=Math.floor((e-F.tileInnerReduce)*i)+F.tileInnerReduce;return t&&1==F.isTextpanelOutside&&G.tile_size_by==L.sizeby.IMAGE_RATIO&&(n+=h(t)),n},this.getTileImageSize=function(e){var t=L.getItemByTile(e);if(!t.thumbWidth||!t.thumbHeight)throw new Error("Can't get image size - image not inited.");var i={width:t.thumbWidth,height:t.thumbHeight};return i},this.getGlobalTileSize=function(){if(G.tile_size_by!=L.sizeby.GLOBAL_RATIO)throw new Error("The size has to be global ratio");var e={width:G.tile_width,height:G.tile_height};return e}}function UGAviaControl(){function e(e){return 0==p?e.pageX:e.pageY}function t(t){jQuery("body").on("touchstart",function(e){return 0==f.isControlEnabled||void(f.touchEnabled=!0)}),jQuery("body").mousemove(function(t){if(0==f.isControlEnabled)return!0;if(1==f.touchEnabled)return jQuery("body").off("mousemove"),!0;f.isMouseInsideStrip=c.ismouseover();var i=u.isTouchMotionActive();if(1==f.isMouseInsideStrip&&0==i){var n=e(t);l(n)}else a()})}function i(e){var t=g.strip_padding_top,i=(g.strip_padding_bottom,c.height()),n=h.height();if(i>n)return null;var r=c.offset(),o=r.top,a=e-o-t;if(0>a)return null;var s=g.thumb_height,l=i-g.thumb_height,u=l-s;s>a&&(a=s),a>l&&(a=l);var d=(a-s)/u,p=(n-i)*d;return-1*Math.round(p)+t}function n(e){var t=g.strip_padding_left,i=g.strip_padding_right,n=c.width()-t-i,r=h.width();if(n>r)return null;var o=c.offset(),a=o.left,s=e-a-t,l=g.thumb_width,u=n-g.thumb_width,d=u-l;l>s&&(s=l),s>u&&(s=u);var p=(s-l)/d,f=(r-n)*p;return-1*Math.round(f)+t}function r(){if(0==f.is_strip_moving)return!1;var e=u.getInnerStripPos();Math.floor(e)==Math.floor(f.strip_finalPos)&&a();var t,i=Math.abs(f.strip_finalPos-e);1>i?t=i:(t=i/4,t>0&&1>t&&(t=1)),f.strip_finalPos<e&&(t*=-1);var n=e+t;u.positionInnerStrip(n)}function o(){return 1!=f.isStripMoving&&(f.isStripMoving=!0,void(f.handle_timeout=setInterval(r,10)))}function a(){return 0!=f.isStripMoving&&(f.isStripMoving=!1,void(f.handle_timeout=clearInterval(f.handle_timeout)))}function s(e){return 0==p?n(e):i(e)}function l(e){var t=s(e);return null!==t&&(f.is_strip_moving=!0,f.strip_finalPos=t,void o())}var u,d,c,h,g,p,f={touchEnabled:!1,isMouseInsideStrip:!1,strip_finalPos:0,handle_timeout:"",isStripMoving:!1,isControlEnabled:!0};this.enable=function(){f.isControlEnabled=!0},this.disable=function(){f.isControlEnabled=!1},this.init=function(e){u=e,d=e.getObjects(),d.g_gallery,c=d.g_objStrip,h=d.g_objStripInner,g=d.g_options,p=d.isVertical,t()},this.destroy=function(){jQuery("body").off("touchstart"),jQuery("body").off("mousemove")}}function UGSlider(){function e(e,t,n){_e=e,n&&(ge=n,t=we.convertCustomPrefixOptions(t,ge,"slider")),te=jQuery(e);var r=_e.getObjects();if(ie=r.g_objWrapper,r.g_objThumbs,t.hasOwnProperty("slider_progress_indicator_type")&&(xe.slider_progress_indicator_type=t.slider_progress_indicator_type),"bar"==xe.slider_progress_indicator_type&&(xe=jQuery.extend(xe,Ie)),t&&pe.setOptions(t),i(),1==xe.slider_enable_bullets){be=new UGBullets;var o={bullets_skin:xe.slider_bullets_skin,bullets_space_between:xe.slider_bullets_space_between};be.init(_e,o)}xe.slider_enable_text_panel&&(Se=new UGTextPanel,Se.init(_e,xe,"slider")),xe.slider_enable_zoom_panel&&(he=new UGZoomButtonsPanel,he.init(pe,xe));var a=_e.getGalleryID();ye.init(xe,!1,a)}function t(){if(1==Ee.isRunOnce)return!1;if(Ee.isRunOnce=!0,xe.slider_background_color){var e=xe.slider_background_color;1!=xe.slider_background_opacity&&(e=we.convertHexToRGB(e,xe.slider_background_opacity)),ne.css("background-color",e)}else 1!=xe.slider_background_opacity&&(e=we.convertHexToRGB("#000000",xe.slider_background_opacity),ne.css("background-color",e));1==xe.slider_control_swipe&&(de=new UGTouchSliderControl,de.init(pe,xe)),1==xe.slider_control_zoom&&(ce=new UGZoomSliderControl,ce.init(pe,xe)),Se&&Se.run(),V()}function i(){var e=_e.getOptions(),t=e.gallery_skin;""==xe.slider_bullets_skin&&(xe.slider_bullets_skin=t),""==xe.slider_arrows_skin&&(xe.slider_arrows_skin=t),""==xe.slider_zoompanel_skin&&(xe.slider_zoompanel_skin=t),""==xe.slider_play_button_skin&&(xe.slider_play_button_skin=t),""==xe.slider_fullscreen_button_skin&&(xe.slider_fullscreen_button_skin=t),xe.video_enable_closebutton=xe.slider_video_enable_closebutton,"zoom"!=e.gallery_mousewheel_role&&(xe.slider_zoom_mousewheel=!1)}function n(e,t){var i="ug-type-square";"round"==xe.slider_videoplay_button_type&&(i="ug-type-round");var n="";return n+="<div class='ug-slide-wrapper ug-slide"+t+"'>",n+="<div class='ug-item-wrapper'></div>",n+="<div class='ug-slider-preloader "+e+"'></div>",n+="<div class='ug-button-videoplay "+i+"' style='display:none'></div>",n+"</div>"}function r(e){e&&(ie=e);var t=q(),i=(_e.getOptions(),"<div class='ug-slider-wrapper'>");if(i+="<div class='ug-slider-inner'>",i+=n(t,1),i+=n(t,2),i+=n(t,3),i+="</div>",1==xe.slider_enable_arrows&&(i+="<div class='ug-slider-control ug-arrow-left ug-skin-"+xe.slider_arrows_skin+"'></div>",i+="<div class='ug-slider-control ug-arrow-right ug-skin-"+xe.slider_arrows_skin+"'></div>"),1==xe.slider_enable_play_button&&(i+="<div class='ug-slider-control ug-button-play ug-skin-"+xe.slider_play_button_skin+"'></div>"),1==xe.slider_enable_fullscreen_button&&(i+="<div class='ug-slider-control ug-button-fullscreen ug-skin-"+xe.slider_fullscreen_button_skin+"'></div>"),i+="</div>",ie.append(i),ne=ie.children(".ug-slider-wrapper"),re=ne.children(".ug-slider-inner"),oe=re.children(".ug-slide1"),ae=re.children(".ug-slide2"),se=re.children(".ug-slide3"),oe.data("slidenum",1),ae.data("slidenum",2),se.data("slidenum",3),be&&be.appendHTML(ne),1==xe.slider_enable_arrows&&(le=ne.children(".ug-arrow-left"),ue=ne.children(".ug-arrow-right")),1==xe.slider_enable_play_button&&(me=ne.children(".ug-button-play")),1==xe.slider_enable_fullscreen_button&&(ve=ne.children(".ug-button-fullscreen")),1==xe.slider_enable_progress_indicator){Te=we.initProgressIndicator(xe.slider_progress_indicator_type,xe,ne);var r=Te.getType();"bar"==r&&"pie"==xe.slider_progress_indicator_type&&(xe.slider_progress_indicator_type="bar",xe=jQuery.extend(xe,Ie)),_e.setProgressIndicator(Te)}if(1==xe.slider_enable_text_panel&&(Se.appendHTML(ne),0==xe.slider_textpanel_always_on)){var o=Se.getElement();o.hide().data("isHidden",!0),Ee.isTextPanelSaparateHover=!0}1==xe.slider_enable_zoom_panel&&he.appendHTML(ne),ye.setHtml(re)}function o(e){var t=K(e);we.placeElementInParentCenter(t);var i=J(e);we.placeElementInParentCenter(i)}function a(){if(be&&(objBullets=be.getElement(),we.placeElement(objBullets,xe.slider_bullets_align_hor,xe.slider_bullets_align_vert,xe.slider_bullets_offset_hor,xe.slider_bullets_offset_vert),we.placeElement(objBullets,xe.slider_bullets_align_hor,xe.slider_bullets_align_vert,xe.slider_bullets_offset_hor,xe.slider_bullets_offset_vert)),1==xe.slider_enable_arrows&&(we.placeElement(le,xe.slider_arrow_left_align_hor,xe.slider_arrow_left_align_vert,xe.slider_arrow_left_offset_hor,xe.slider_arrow_left_offset_vert),we.placeElement(ue,xe.slider_arrow_right_align_hor,xe.slider_arrow_left_align_vert,xe.slider_arrow_right_offset_hor,xe.slider_arrow_right_offset_vert)),0==xe.slider_controls_always_on&&M(!0),Te){var e=Te.getElement();if("bar"==xe.slider_progress_indicator_type){var t=ne.width();Te.setSize(t),we.placeElement(e,"left",xe.slider_progress_indicator_align_vert,0,xe.slider_progress_indicator_offset_vert)}else we.placeElement(e,xe.slider_progress_indicator_align_hor,xe.slider_progress_indicator_align_vert,xe.slider_progress_indicator_offset_hor,xe.slider_progress_indicator_offset_vert)}Se&&Se.positionPanel(),s(),o(oe),o(ae),o(se),j()}function s(){if(me&&we.placeElement(me,xe.slider_play_button_align_hor,xe.slider_play_button_align_vert,xe.slider_play_button_offset_hor,xe.slider_play_button_offset_vert),ve&&we.placeElement(ve,xe.slider_fullscreen_button_align_hor,xe.slider_fullscreen_button_align_vert,xe.slider_fullscreen_button_offset_hor,xe.slider_fullscreen_button_offset_vert),he){var e=he.getElement();we.placeElement(e,xe.slider_zoompanel_align_hor,xe.slider_zoompanel_align_vert,xe.slider_zoompanel_offset_hor,xe.slider_zoompanel_offset_vert)}}function l(){var e,t,i,n,r=pe.getSlidesReference(),o=0,a=0,s=0;i=pe.isSlideHasItem(r.objNextSlide),n=pe.isSlideHasItem(r.objPrevSlide),n?(s=r.objPrevSlide.outerWidth(),r.objPrevSlide.css("z-index",1)):r.objPrevSlide.hide(),t=s+r.objCurrentSlide.outerWidth(),e=t,i?(e=t+r.objNextSlide.outerWidth(),r.objPrevSlide.css("z-index",2)):r.objNextSlide.hide(),r.objCurrentSlide.css("z-index",3),we.placeElement(r.objCurrentSlide,s,o),re.css({left:-s+"px",width:e+"px"}),n&&(we.placeElement(r.objPrevSlide,a,o),we.showElement(r.objPrevSlide)),i&&(we.showElement(r.objNextSlide),we.placeElement(r.objNextSlide,t,o))}function u(e){var t=e.data("index");if(void 0===t||null==t)return!1;var i=_e.getItem(t);return!!i&&void _(e,i)}function d(e){e.stop(!0).show(100)}function c(e){e.stop(!0).hide(100)}function h(e,t){var i=xe.slider_image_border_width;if(10>=i)return i;var n=we.getElementSize(e),r=n.width,o=n.height;if(t&&(t.hasOwnProperty("imageWidth")&&(r=t.imageWidth),t.hasOwnProperty("imageHeight")&&(o=t.imageHeight)),0>=r)return i;var a=o>r?r:o,s=2*i,l=s/a;if(l<xe.slider_image_border_maxratio)return i;i=a*xe.slider_image_border_maxratio/2;return Math.round(i)}function g(e,t,i){var n={};if(1==xe.slider_image_border){n["border-style"]="solid";var r=h(e,i);n["border-width"]=r+"px",n["border-color"]=xe.slider_image_border_color,n["border-radius"]=xe.slider_image_border_radius}"image"!=t&&1==xe.slider_video_constantsize&&(n["background-color"]="#000000"),1==xe.slider_image_shadow&&(n["box-shadow"]="3px 3px 10px 0px #353535"),e.css(n)}function p(e,t){var i=xe.slider_video_constantsize_width,n=xe.slider_video_constantsize_height,r=xe.slider_video_constantsize_scalemode,o=we.scaleImageExactSizeInParent(e,t.imageWidth,t.imageHeight,i,n,r);return o}function f(e,t,i){var n=e.children(".ug-item-wrapper"),r=K(e);if(void 0===t.urlImage||""==t.urlImage)throw new Error("The slide don't have big image defined ( data-image='imageurl' ). Please check gallery items.","showbig");var o=t.urlImage,a=e.data("urlImage");e.data("urlImage",o);var s=pe.getScaleMode(e),l=pe.getSlideType(e);if(objPadding=pe.getObjImagePadding(),a==o&&!0!==i){var u=n.children("img");(0==t.imageWidth||0==t.imageHeight)&&_e.checkFillImageSize(u,t);var h={};h="image"!=l&&1==xe.slider_video_constantsize?p(u,t):we.scaleImageFitParent(u,t.imageWidth,t.imageHeight,s,objPadding),g(u,l,h),fe.trigger(pe.events.AFTER_PUT_IMAGE,e)}else if(u=we.placeImageInsideParent(o,n,t.imageWidth,t.imageHeight,s,objPadding),1==t.isBigImageLoaded){if(u.fadeTo(0,1),c(r),"image"!=l&&1==xe.slider_video_constantsize)h=p(u,t);else h=we.getImageInsideParentData(n,t.imageWidth,t.imageHeight,s,objPadding);u.css("width",h.imageWidth+"px"),g(u,l,h),fe.trigger(pe.events.AFTER_PUT_IMAGE,e)}else u.fadeTo(0,0),d(r),e.data("isLoading",!0),pe.isSlideCurrent(e)&&fe.trigger(pe.events.CURRENTSLIDE_LOAD_START),u.data("itemIndex",t.index),u.on("load",function(){var e=jQuery(this),t=e.data("itemIndex");e.fadeTo(0,1);var i=e.parent().parent(),n=pe.getSlideType(i),r=K(i),o=pe.getObjImagePadding(),a=pe.getScaleMode(i);c(r),i.data("isLoading",!1),pe.isSlideCurrent(i)&&fe.trigger(pe.events.CURRENTSLIDE_LOAD_END),_e.onItemBigImageLoaded(null,e);var s=_e.getItem(t),l={};"image"!=n&&1==xe.slider_video_constantsize?p(e,s):l=we.scaleImageFitParent(e,s.imageWidth,s.imageHeight,a,o),e.fadeTo(0,1),g(e,n,l),fe.trigger(pe.events.AFTER_PUT_IMAGE,i)})}function _(e,t){try{var i=e.children(".ug-item-wrapper");if(null==t)return i.html(""),e.removeData("index"),e.removeData("type"),e.removeData("urlImage"),!1;e.data("index"),e.data("index",t.index),e.data("type",t.type),1==xe.slider_enable_links&&"image"==t.type&&(t.link?e.addClass("ug-slide-clickable"):e.removeClass("ug-slide-clickable")),f(e,t);var n=J(e);switch(t.type){case"image":n.hide();break;default:n.show()}}catch(e){throw void 0!==e.fileName&&"showbig"==e.fileName&&_e.showErrorMessageReplaceGallery(e.message),i.html(""),new Error(e)}}function m(){if(!Se)return!1;if(1==b())return!1;var e=Se.getElement(),t=0;(1==Ee.isTextPanelSaparateHover||1==xe.slider_textpanel_always_on)&&(t=xe.slider_controls_appear_duration),e.stop().fadeTo(t,0),e.data("isHidden",!0)}function v(){if(!Se)return!1;if(0==b())return!1;var e=Se.getElement(),t=0;(1==Ee.isTextPanelSaparateHover||1==xe.slider_textpanel_always_on)&&(e.show(),Se.positionElements(),t=xe.slider_controls_appear_duration),e.stop().show().fadeTo(t,1),e.data("isHidden",!1)}function b(){var e=Se.getElement(),t=e.data("isHidden");return!1!==t}function y(e,t){if(null==t)t=pe.getCurrentSlide();var i=pe.getSlideType(t);if(i!=e)throw new Error("Wrong slide type: "+i+", should be: "+e);return!0}function w(){var e=pe.getCurrentSlide(),t=pe.getSlideImage(e),i=we.getElementSize(e),n=i.left,r=i.top;if(1==xe.slider_video_constantsize){var o=we.getElementSize(t);n+=o.left,r+=o.top}else n+=xe.slider_video_padding_left,r+=xe.slider_video_padding_top;ye.setPosition(n,r)}function T(){var e=xe.slider_video_constantsize_width,t=xe.slider_video_constantsize_height;ye.setSize(e,t);var i=ye.getObject();g(i,"video")}function S(e,t,i){fe.trigger(pe.events.TRANSITION_START);var n=xe.slider_transition;switch(i&&(n=i),pe.stopSlideAction(null,!0),n){default:case"fade":E(t);break;case"slide":x(e,t);break;case"lightbox_open":E(t,!1,!0)}}function x(e,t){var i=pe.isAnimating();if(1==i)return Ee.itemWaiting=t,!0;null!=Ee.itemWaiting&&(Ee.itemWaiting=null);var n=pe.getSlidesReference();switch(e){case"right":_(n.objPrevSlide,t),l();var r=we.getElementSize(n.objPrevSlide),o=-r.left;pe.switchSlideNums("right");break;case"left":_(n.objNextSlide,t),l();var a=we.getElementSize(n.objNextSlide);o=-a.left;pe.switchSlideNums("left");break;default:throw new Error("wrong direction: "+e)}var s=xe.slider_transition_speed,u=xe.slider_transition_easing,d={duration:s,easing:u,queue:!1,always:function(){if(pe.stopSlideAction(),ye.hide(),null!=Ee.itemWaiting){var e=Z(Ee.itemWaiting);x(e,Ee.itemWaiting)}else pe.placeNabourItems(),fe.trigger(pe.events.TRANSITION_END)}};re.animate({left:o+"px"},d)}function I(e,t,i){i?e.fadeTo(xe.slider_transition_speed,t,i):e.fadeTo(xe.slider_transition_speed,t)}function E(e,t,i){if(!t)t=!1;var n=pe.getSlidesReference();_(n.objNextSlide,e);var r=we.getElementSize(n.objCurrentSlide);we.placeElement(n.objNextSlide,r.left,r.top);var o=Ee.numCurrent;if(Ee.numCurrent=Ee.numNext,Ee.numNext=o,fe.trigger(pe.events.ITEM_CHANGED),n.objNextSlide.stop(!0),n.objCurrentSlide.stop(!0),1==t)n.objCurrentSlide.fadeTo(0,0),n.objNextSlide.fadeTo(0,1),pe.placeNabourItems(),fe.trigger(pe.events.TRANSITION_END),!0!==i&&ye.hide();else{if(n.objNextSlide.fadeTo(0,0),I(n.objCurrentSlide,0,function(){pe.placeNabourItems(),fe.trigger(pe.events.TRANSITION_END),!0!==i&&ye.hide()}),1==ye.isVisible()){var a=ye.getObject();I(a,0)}I(n.objNextSlide,1)}}function P(){1==xe.slider_fullscreen_button_mobilehide&&ve&&ve.hide(),1==xe.slider_play_button_mobilehide&&me&&me.hide(),1==xe.slider_zoompanel_mobilehide&&he&&he.getElement().hide()}function C(){1==xe.slider_fullscreen_button_mobilehide&&ve&&ve.show(),1==xe.slider_play_button_mobilehide&&me&&me.show(),1==xe.slider_zoompanel_mobilehide&&he&&he.getElement().show()}function j(){var e=_e.isMobileMode();e?P():C()}function A(){var e=ne.children(".ug-slider-control");return e}function M(e){if(0==we.isTimePassed("sliderControlsToggle"))return!1;if(0==Ee.isControlsVisible)return!1;if(!e)e=!1;var t=A();!0===e?t.stop().fadeTo(0,0).hide():t.stop().fadeTo(xe.slider_controls_appear_duration,0,function(){t.hide()}),Ee.isControlsVisible=!1}function O(e){if(0==we.isTimePassed("sliderControlsToggle"))return!1;if(1==Ee.isControlsVisible)return!0;if(!e)e=!1;var t=A();!0===e?t.stop().show():(t.stop().show().fadeTo(0,0),t.fadeTo(xe.slider_controls_appear_duration,1)),Ee.isControlsVisible=!0}function k(){0==Ee.isControlsVisible?O():M()}function N(e){if(e==Ee.currentControlsMode)return!1;switch(e){case"image":he&&he.getElement().show();break;case"video":he&&he.getElement().hide();break;default:throw new Error("wrong controld mode: "+e)}Ee.currentControlsMode=e}function H(e,t,i){var n=_e.getSelectedItem();pe.setItem(n,!1,i);var r=n.index;be&&be.setActive(r),Se&&0==Ee.isTextPanelSaparateHover&&v(),N("image"==n.type?"image":"video")}function L(e,t){_e.selectItem(t)}function z(e){return!(!de||0!=de.isTapEventOccured(e))||void fe.trigger(pe.events.CLICK,e)}function D(){var e=pe.getCurrentSlide(),t=e.hasClass("ug-slide-clickable"),i=pe.getCurrentItem();return t?(0==xe.slider_links_newpage?location.href=i.link:window.open(i.link,"_blank"),!0):void(0==xe.slider_controls_always_on&&1==xe.slider_controls_appear_ontap&&1==pe.isCurrentSlideType("image")&&(k(),Se&&1==xe.slider_textpanel_always_on&&pe.isCurrentSlideType("image")&&pe.isCurrentSlideImageFit()&&v()))}function R(e){Se&&pe.isCurrentSlideType("image")&&0==pe.isCurrentSlideImageFit()&&m()}function W(){O()}function G(){M()}function Q(e){var t=e.parent();pe.startSlideAction(t)}function F(){_e.isPlayMode()&&_e.pausePlaying(),fe.trigger(pe.events.ACTION_START)}function B(){_e.isPlayMode()&&_e.continuePlaying(),fe.trigger(pe.events.ACTION_END)}function Y(e,t,i){oe.data("index")==t&&(objItem=_e.getItem(t),f(oe,objItem,!0)),ae.data("index")==t&&(objItem=_e.getItem(t),f(ae,objItem,!0)),se.data("index")==t&&(objItem=_e.getItem(t),f(se,objItem,!0))}function $(e,t){t=jQuery(t);var i=pe.getSlideImage(t),n=J(t),r=we.getElementSize(i);we.placeElement(n,"center","middle",r.left,r.top,i)}function U(e){var t=J(e);we.addClassOnHover(t),we.setButtonOnClick(t,Q)}function V(){te.on(_e.events.ITEM_IMAGE_UPDATED,Y),te.on(_e.events.ITEM_CHANGE,H),be&&jQuery(be).on(be.events.BULLET_CLICK,L),
1==xe.slider_enable_arrows&&(we.addClassOnHover(ue,"ug-arrow-hover"),we.addClassOnHover(le,"ug-arrow-hover"),_e.setNextButton(ue),_e.setPrevButton(le)),0==xe.slider_controls_always_on&&ne.hover(W,G),ne.on("touchend click",z),fe.on(pe.events.CLICK,D),Se&&1==Ee.isTextPanelSaparateHover&&ne.hover(v,m),me&&(we.addClassOnHover(me,"ug-button-hover"),_e.setPlayButton(me)),ve&&(we.addClassOnHover(ve,"ug-button-hover"),_e.setFullScreenToggleButton(ve)),ce&&fe.on(pe.events.ZOOM_CHANGE,R),he&&he.initEvents(),ye.initEvents(),jQuery(ye).on(ye.events.SHOW,F),jQuery(ye).on(ye.events.HIDE,B),U(oe),U(ae),U(se),fe.on(pe.events.AFTER_PUT_IMAGE,$),ne.on("mouseenter",".ug-item-wrapper img",function(e){fe.trigger(pe.events.IMAGE_MOUSEENTER)}),ne.on("mouseleave",".ug-item-wrapper img",function(e){var t=pe.isMouseInsideSlideImage(e);0==t&&fe.trigger(pe.events.IMAGE_MOUSELEAVE)})}function q(){var e;switch(xe.slider_loader_type){default:case 1:e="ug-loader1";break;case 2:e="ug-loader2";break;case 3:e="ug-loader3";break;case 4:e="ug-loader4";break;case 5:e="ug-loader5";break;case 6:e="ug-loader6";break;case 7:e="ug-loader7";break;case 8:e="ug-loader8";break;case 9:e="ug-loader9"}return"black"==xe.slider_loader_color&&(e+=" ug-loader-black"),e}function X(e){switch(e){case 1:return oe;case 2:return ae;case 3:return se;default:throw new Error("wrong num: "+e)}}function Z(e){var t=pe.getSlidesReference(),i=t.objCurrentSlide.data("index"),n=e.index,r="left";return i>n&&(r="right"),r}function K(e){if(!e)e=pe.getCurrentSlide();var t=e.children(".ug-slider-preloader");return t}function J(e){var t=e.children(".ug-button-videoplay");return t}function ee(e){if(!e)e=pe.getCurrentSlide();var t=e.data("index");if(null==t)return null;var i=_e.getItem(t);return i}var te,ie,ne,re,oe,ae,se,le,ue,de,ce,he,ge,pe=this,fe=jQuery(pe),_e=new UniteGalleryMain,me=null,ve=null,be=null,ye=new UGVideoPlayer,we=new UGFunctions,Te=null,Se=null;this.events={ITEM_CHANGED:"item_changed",BEFORE_SWITCH_SLIDES:"before_switch",BEFORE_RETURN:"before_return",AFTER_RETURN:"after_return",ZOOM_START:"slider_zoom_start",ZOOM_END:"slider_zoom_end",ZOOMING:"slider_zooming",ZOOM_CHANGE:"slider_zoom_change",START_DRAG:"start_drag",AFTER_DRAG_CHANGE:"after_drag_change",ACTION_START:"action_start",ACTION_END:"action_end",CLICK:"slider_click",TRANSITION_START:"slider_transition_start",TRANSITION_END:"slider_transition_end",AFTER_PUT_IMAGE:"after_put_image",IMAGE_MOUSEENTER:"slider_image_mouseenter",IMAGE_MOUSELEAVE:"slider_image_mouseleave",CURRENTSLIDE_LOAD_START:"slider_current_loadstart",CURRENTSLIDE_LOAD_END:"slider_current_loadend"};var xe={slider_scale_mode:"fill",slider_scale_mode_media:"fill",slider_scale_mode_fullscreen:"down",slider_item_padding_top:0,slider_item_padding_bottom:0,slider_item_padding_left:0,slider_item_padding_right:0,slider_background_color:"",slider_background_opacity:1,slider_image_padding_top:0,slider_image_padding_bottom:0,slider_image_padding_left:0,slider_image_padding_right:0,slider_image_border:!1,slider_image_border_width:10,slider_image_border_color:"#ffffff",slider_image_border_radius:0,slider_image_border_maxratio:.35,slider_image_shadow:!1,slider_video_constantsize:!1,slider_video_constantsize_scalemode:"fit",slider_video_constantsize_width:854,slider_video_constantsize_height:480,slider_video_padding_top:0,slider_video_padding_bottom:0,slider_video_padding_left:0,slider_video_padding_right:0,slider_video_enable_closebutton:!0,slider_transition:"slide",slider_transition_speed:300,slider_transition_easing:"easeInOutQuad",slider_control_swipe:!0,slider_control_zoom:!0,slider_zoom_mousewheel:!0,slider_vertical_scroll_ondrag:!1,slider_loader_type:1,slider_loader_color:"white",slider_enable_links:!0,slider_links_newpage:!1,slider_enable_bullets:!1,slider_bullets_skin:"",slider_bullets_space_between:-1,slider_bullets_align_hor:"center",slider_bullets_align_vert:"bottom",slider_bullets_offset_hor:0,slider_bullets_offset_vert:10,slider_enable_arrows:!0,slider_arrows_skin:"",slider_arrow_left_align_hor:"left",slider_arrow_left_align_vert:"middle",slider_arrow_left_offset_hor:20,slider_arrow_left_offset_vert:0,slider_arrow_right_align_hor:"right",slider_arrow_right_align_vert:"middle",slider_arrow_right_offset_hor:20,slider_arrow_right_offset_vert:0,slider_enable_progress_indicator:!0,slider_progress_indicator_type:"pie",slider_progress_indicator_align_hor:"right",slider_progress_indicator_align_vert:"top",slider_progress_indicator_offset_hor:10,slider_progress_indicator_offset_vert:10,slider_enable_play_button:!0,slider_play_button_skin:"",slider_play_button_align_hor:"left",slider_play_button_align_vert:"top",slider_play_button_offset_hor:40,slider_play_button_offset_vert:8,slider_play_button_mobilehide:!1,slider_enable_fullscreen_button:!0,slider_fullscreen_button_skin:"",slider_fullscreen_button_align_hor:"left",slider_fullscreen_button_align_vert:"top",slider_fullscreen_button_offset_hor:11,slider_fullscreen_button_offset_vert:9,slider_fullscreen_button_mobilehide:!1,slider_enable_zoom_panel:!0,slider_zoompanel_skin:"",slider_zoompanel_align_hor:"left",slider_zoompanel_align_vert:"top",slider_zoompanel_offset_hor:12,slider_zoompanel_offset_vert:92,slider_zoompanel_mobilehide:!1,slider_controls_always_on:!1,slider_controls_appear_ontap:!0,slider_controls_appear_duration:300,slider_enable_text_panel:!0,slider_textpanel_always_on:!0,slider_videoplay_button_type:"square"},Ie={slider_progress_indicator_align_hor:"left",slider_progress_indicator_align_vert:"bottom",slider_progress_indicator_offset_hor:0,slider_progress_indicator_offset_vert:0},Ee={isRunOnce:!1,isTextPanelSaparateHover:!1,numPrev:1,numCurrent:2,numNext:3,isControlsVisible:!0,currentControlsMode:"image"};this.switchSlideNums=function(e){switch(fe.trigger(pe.events.BEFORE_SWITCH_SLIDES),e){case"left":var t=Ee.numCurrent;Ee.numCurrent=Ee.numNext,Ee.numNext=Ee.numPrev,Ee.numPrev=t;break;case"right":t=Ee.numCurrent;Ee.numCurrent=Ee.numPrev,Ee.numPrev=Ee.numNext,Ee.numNext=t;break;default:throw new Error("wrong direction: "+e)}fe.trigger(pe.events.ITEM_CHANGED)},this.destroy=function(){fe.off(pe.events.AFTER_PUT_IMAGE),te.off(_e.events.ITEM_IMAGE_UPDATED),te.off(_e.events.ITEM_CHANGE),be&&jQuery(be).on(be.events.BULLET_CLICK),ne.off("mouseenter"),ne.off("mouseleave"),ne.off("touchend"),ne.off("click"),fe.off(pe.events.CLICK),ce&&fe.off(pe.events.ZOOM_CHANGE),fe.off(pe.events.BEFORE_SWITCH_SLIDES),jQuery(ye).off(ye.events.SHOW),jQuery(ye).off(ye.events.HIDE),ye.destroy(),ne.off("mouseenter",".ug-item-wrapper img"),ne.off("mouseleave",".ug-item-wrapper img")},this.________EXTERNAL_GENERAL___________=function(){},this.init=function(t,i,n){e(t,i,n)},this.getSlideImage=function(e){if(!e)e=pe.getCurrentSlide();var t=e.find(".ug-item-wrapper img");return t},this.setHtml=function(e){r(e)},this.run=function(){t()},this.isInnerInPlace=function(){var e=pe.getSlidesReference(),t=we.getElementSize(e.objCurrentSlide),i=-t.left,n=we.getElementSize(re);return i==n.left},this.isAnimating=function(){var e=re.is(":animated");return e},this.isSlideCurrent=function(e){var t=e.data("slidenum");return Ee.numCurrent==t},this.isSlideHasItem=function(e){var t=e.data("index");return null!=t},this.getObjImagePadding=function(){var e={padding_top:xe.slider_image_padding_top,padding_bottom:xe.slider_image_padding_bottom,padding_left:xe.slider_image_padding_left,padding_right:xe.slider_image_padding_right};return e},this.getSlidesReference=function(){var e={objPrevSlide:X(Ee.numPrev),objNextSlide:X(Ee.numNext),objCurrentSlide:X(Ee.numCurrent)};return e},this.getCurrentSlide=function(){var e=pe.getSlidesReference();return e.objCurrentSlide},this.getCurrentItemIndex=function(){var e=pe.getSlidesReference(),t=e.objCurrentSlide.data("index");return null==t&&(t=-1),t},this.getCurrentItem=function(){var e=pe.getCurrentItemIndex();if(-1==e)return null;var t=_e.getItem(e);return t},this.getSlideType=function(e){null==e&&(e=pe.getCurrentSlide());var t=e.data("type");return t},this.isMouseInsideSlideImage=function(e){var t=pe.getSlideImage(),i=we.getMousePosition(e);void 0===i.pageX&&(i=de.getLastMousePos());var n=we.getMouseElementPoint(i,t),r=we.getElementSize(t);return isMouseInside=we.isPointInsideElement(n,r),isMouseInside},this.isCurrentSlideType=function(e){var t=pe.getSlideType();return t==e},this.isCurrentSlideLoadingImage=function(){var e=pe.getCurrentSlide(),t=e.data("isLoading");return!0===t},this.setItem=function(e,t,i){var n=pe.getSlidesReference(),r=n.objCurrentSlide.data("index"),o=e.index;if(o==r)return!0;var a=null==r;if(a)_(n.objCurrentSlide,e),pe.placeNabourItems();else{var s="left";_e.getNumItems(),"next"==i?s="left":"prev"==i||r>o?s="right":r>o&&(s="right"),S(s,e,t)}},this.placeNabourItems=function(){var e=pe.getSlidesReference(),t=e.objCurrentSlide.data("index"),i=_e.getPrevItem(t),n=_e.getNextItem(t);_(e.objNextSlide,n),_(e.objPrevSlide,i),l()},this.________EXTERNAL_API___________=function(){},this.stopSlideAction=function(e,t){e||(e=pe.getCurrentSlide()),!0===t?ye.pause():ye.hide()},this.startSlideAction=function(e){e||(e=pe.getCurrentSlide());var t=ee(e);if("image"==t.type)return!0;switch(1==xe.slider_video_constantsize&&T(),w(),ye.show(),t.type){case"youtube":ye.playYoutube(t.videoid);break;case"vimeo":ye.playVimeo(t.videoid);break;case"html5video":ye.playHtml5Video(t.videoogv,t.videowebm,t.videomp4,t.urlImage);break;case"soundcloud":ye.playSoundCloud(t.trackid);break;case"wistia":ye.playWistia(t.videoid)}},this.getScaleMode=function(e){if(!e)e=pe.getCurrentSlide();var t=pe.getSlideType(e);return"image"!=t?xe.slider_scale_mode_media:xe.slider_scale_mode==xe.slider_scale_mode_fullscreen?xe.slider_scale_mode:1==_e.isFullScreen()?xe.slider_scale_mode_fullscreen:xe.slider_scale_mode},this.getObjects=function(){var e={g_objSlider:ne,g_objInner:re,g_options:xe,g_objZoomSlider:ce};return e},this.getObjZoom=function(){return ce},this.getOptions=function(){return xe},this.getElement=function(){return ne},this.getVideoObject=function(){return ye},this.isCurrentSlideImageFit=function(){var e=pe.getCurrentSlide();pe.getSlideType(e),y("image",e);var t=pe.getSlideImage(e);if(0==t.length)return!1;var i=we.isImageFitParent(t);return i},this.isCurrentImageInPlace=function(){var e=pe.getSlideImage();if(0==e.length)return!1;var t=pe.getScaleMode(),i=pe.getObjImagePadding(),n=ee(),r=e.parent(),o=we.getImageInsideParentData(r,n.imageWidth,n.imageHeight,t,i),a=we.getElementSize(e),s=!1;return o.imageWidth==a.width&&(s=!0),s},this.isSlideActionActive=function(){return ye.isVisible()},this.isSwiping=function(){if(!de)return!1;var e=de.isTouchActive();return e},this.isPreloading=function(){var e=K();return!!e.is(":visible")},this.setOptions=function(e){ge&&(e=we.convertCustomPrefixOptions(e,ge,"slider")),xe=jQuery.extend(xe,e)},this.setSize=function(e,t){if(0>e||0>t)return!0;var i={};i.width=e+"px",i.height=t+"px",ne.css(i);var n={};n.height=t+"px",n.top="0px",n.left="0px",re.css(n);var r={};r.height=t+"px",r.width=e+"px",oe.css(r),ae.css(r),se.css(r);var o=e-xe.slider_item_padding_left-xe.slider_item_padding_right,s=t-xe.slider_item_padding_top-xe.slider_item_padding_bottom,d={};d.width=o+"px",d.height=s+"px",d.top=xe.slider_item_padding_top+"px",d.left=xe.slider_item_padding_left+"px",ne.find(".ug-item-wrapper").css(d),Se&&Se.setSizeByParent(),a(),u(oe),u(ae),u(se),l();var c=pe.getSlideType();if("image"!=c&&1==xe.slider_video_constantsize)T();else{var h=e-xe.slider_video_padding_left-xe.slider_video_padding_right,g=t-xe.slider_video_padding_top-xe.slider_video_padding_bottom;ye.setSize(h,g)}w()},this.refreshSlideItems=function(){return 1==pe.isAnimating()||(u(oe),u(ae),u(se),void l())},this.isMouseOver=function(){return ne.ismouseover()},this.setPosition=function(e,t){we.placeElement(ne,e,t)},this.zoomIn=function(){return!ce||void ce.zoomIn()},this.zoomOut=function(){return!ce||void ce.zoomOut()},this.zoomBack=function(){return!ce||void ce.zoomBack()}}function UGTextPanel(){function e(e,t){if(!t)t=v.textpanel_padding_top;var i=t;if(d){var n=i;_.placeElement(d,0,n);var o=d.is(":visible");if(1==o){var a=_.getElementSize(d);i=a.bottom;i>0&&(b.lastTitleBottom=i)}else{i=20;b.lastTitleBottom>0&&(i=b.lastTitleBottom)}}var s="";if(c&&(s=jQuery.trim(c.text())),""!=s){var l=i;d&&(l+=v.textpanel_padding_title_description),_.placeElement(c,0,l);var u=jQuery(c).is(":visible");if(1==u){var h=_.getElementSize(c);i=h.bottom,h.height>0&&(b.lastDescHeight=h.height)}else{var g=16;b.lastDescHeight>0&&(g=b.lastDescHeight),i=l+g}}if(!v.textpanel_height&&1==b.setInternalHeight){var p=i+v.textpanel_padding_bottom;r(p,e)}}function t(){var e=0;if(d&&(e+=d.outerHeight()),c){var t="";c&&(t=jQuery.trim(c.text())),""!=t&&(d&&(e+=v.textpanel_padding_title_description),e+=c.outerHeight())}return e}function i(){var i=t(),n=(g.height()-i)/2;e(!1,n)}function n(){var i=t(),n=g.height()-i-v.textpanel_padding_bottom;e(!1,n)}function r(e,t){if(!t)t=!1;if(1==t){if(h){var i=h.height();e>i&&h.height(e)}var n={height:e+"px"};l.add(g).animate(n,v.textpanel_fade_duration)}else h&&h.height(e),l.add(g).height(e)}function o(){if(1==v.textpanel_enable_bg){h=l.children(".ug-textpanel-bg"),h.fadeTo(0,v.textpanel_bg_opacity);var e={"background-color":v.textpanel_bg_color};e=jQuery.extend(e,v.textpanel_bg_css),h.css(e)}if(1==v.textpanel_enable_title){d=g.children(".ug-textpanel-title");var t={};null!==v.textpanel_title_color&&(t.color=v.textpanel_title_color),null!==v.textpanel_title_font_family&&(t["font-family"]=v.textpanel_title_font_family),null!==v.textpanel_title_text_align&&(t["text-align"]=v.textpanel_title_text_align),null!==v.textpanel_title_font_size&&(t["font-size"]=v.textpanel_title_font_size+"px"),null!==v.textpanel_title_bold&&(!0===v.textpanel_title_bold?t["font-weight"]="bold":t["font-weight"]="normal"),v.textpanel_css_title&&(t=jQuery.extend(t,v.textpanel_css_title)),d.css(t)}if(1==v.textpanel_enable_description){c=g.children(".ug-textpanel-description");var i={};null!==v.textpanel_desc_color&&(i.color=v.textpanel_desc_color),null!==v.textpanel_desc_font_family&&(i["font-family"]=v.textpanel_desc_font_family),null!==v.textpanel_desc_text_align&&(i["text-align"]=v.textpanel_desc_text_align),null!==v.textpanel_desc_font_size&&(i["font-size"]=v.textpanel_desc_font_size+"px"),null!==v.textpanel_desc_bold&&(!0===v.textpanel_desc_bold?i["font-weight"]="bold":i["font-weight"]="normal"),v.textpanel_css_title&&(i=jQuery.extend(i,v.textpanel_css_description)),c.css(i)}}function a(){var e=p.getSelectedItem();f.setText(e.title,e.description)}function s(){jQuery(p).on(p.events.ITEM_CHANGE,a)}var l,u,d,c,h,g,p,f=this,_=new UGFunctions,m="",v={textpanel_align:"bottom",textpanel_margin:0,textpanel_text_valign:"middle",textpanel_padding_top:10,textpanel_padding_bottom:10,textpanel_height:null,textpanel_padding_title_description:5,textpanel_padding_right:11,textpanel_padding_left:11,textpanel_fade_duration:200,textpanel_enable_title:!0,textpanel_enable_description:!0,textpanel_enable_bg:!0,textpanel_bg_color:"#000000",textpanel_bg_opacity:.4,textpanel_title_color:null,textpanel_title_font_family:null,textpanel_title_text_align:null,textpanel_title_font_size:null,textpanel_title_bold:null,textpanel_css_title:{},textpanel_desc_color:null,textpanel_desc_font_family:null,textpanel_desc_text_align:null,textpanel_desc_font_size:null,textpanel_desc_bold:null,textpanel_css_description:{},textpanel_desc_style_as_title:!1,textpanel_bg_css:{}},b={isFirstTime:!0,setInternalHeight:!0,lastTitleBottom:0,lastDescHeight:0};this.positionElements=function(t){if(!v.textpanel_height||"top"==v.textpanel_text_valign)return e(t),!1;switch(v.textpanel_text_valign){default:case"top":e(!1);break;case"bottom":n();break;case"center":case"middle":i()}},this.init=function(e,t,i){if(p=e,i&&(m=i,t=_.convertCustomPrefixOptions(t,m,"textpanel")),t&&(v=jQuery.extend(v,t)),0==v.textpanel_enable_title&&0==v.textpanel_enable_description)throw new Error("Textpanel Error: The title or description must be enabled");v.textpanel_height&&v.textpanel_height<0&&(v.textpanel_height=null),1==v.textpanel_desc_style_as_title&&(v.textpanel_desc_color||(v.textpanel_desc_color=v.textpanel_title_color),v.textpanel_desc_bold||(v.textpanel_desc_bold=v.textpanel_title_bold),v.textpanel_desc_font_family||(v.textpanel_desc_font_family=v.textpanel_title_font_family),v.textpanel_desc_font_size||(v.textpanel_desc_font_size=v.textpanel_title_font_size),v.textpanel_desc_text_align||(v.textpanel_desc_text_align=v.textpanel_title_text_align))},this.appendHTML=function(e,t){u=e,t=t?" "+t:"";var i="<div class='ug-textpanel"+t+"'>";1==v.textpanel_enable_bg&&(i+="<div class='ug-textpanel-bg"+t+"'></div>"),i+="<div class='ug-textpanel-textwrapper"+t+"'>",1==v.textpanel_enable_title&&(i+="<div class='ug-textpanel-title"+t+"'></div>"),1==v.textpanel_enable_description&&(i+="<div class='ug-textpanel-description"+t+"'></div>"),i+="</div></div>",e.append(i),l=e.children(".ug-textpanel"),g=l.children(".ug-textpanel-textwrapper"),o()},this.destroy=function(){jQuery(p).off(p.events.ITEM_CHANGE)},this.run=function(){f.setSizeByParent(),s()},this.setPanelSize=function(e,t){if(b.setInternalHeight=!0,t)b.setInternalHeight=!1;else t=80;v.textpanel_height&&(t=v.textpanel_height),l.width(e),l.height(t),h&&(h.width(e),h.height(t));var i=e-v.textpanel_padding_left-v.textpanel_padding_right,n=v.textpanel_padding_left;_.setElementSizeAndPosition(g,n,0,i,t),d&&d.width(i),c&&c.width(i),0==b.isFirstTime&&f.positionElements(!1)},this.setSizeByParent=function(){var e=_.getElementSize(u);f.setPanelSize(e.width)},this.setTextPlain=function(e,t){d&&d.html(e),c&&c.html(t)},this.setText=function(e,t){1==b.isFirstTime?(f.setTextPlain(e,t),b.isFirstTime=!1,f.positionElements(!1)):g.stop().fadeTo(v.textpanel_fade_duration,0,function(){f.setTextPlain(e,t),f.positionElements(!0),jQuery(this).fadeTo(v.textpanel_fade_duration,1)})},this.positionPanel=function(e,t){var i={};if(null!=e)i.top=e,i.bottom="auto";else switch(v.textpanel_align){case"top":i.top=v.textpanel_margin+"px";break;case"bottom":i.top="auto",i.bottom=v.textpanel_margin+"px";break;case"middle":i.top=_.getElementRelativePos(l,"middle",v.textpanel_margin)}null!=t&&(i.left=t),l.css(i)},this.setOptions=function(e){m&&(e=_.convertCustomPrefixOptions(e,m,"textpanel")),v=jQuery.extend(v,e)},this.getElement=function(){return l},this.getSize=function(){var e=_.getElementSize(l);return e},this.refresh=function(e,t,i,n){o(),i?f.setPanelSize(i,n):f.setSizeByParent(),f.positionElements(!1),!0!==t&&f.positionPanel(),!0===e&&f.show()},this.hide=function(){l.hide()},this.show=function(){l.show()},this.getOptions=function(){return v},this.getOption=function(e){return 0==v.hasOwnProperty(e)?null:v[e]}}function UGZoomButtonsPanel(){function e(e){return!e||!!e.hasClass("ug-zoompanel-button-disabled")}function t(e){e&&e.addClass("ug-zoompanel-button-disabled")}function i(e){e&&e.removeClass("ug-zoompanel-button-disabled")}function n(){if(0==u.isCurrentSlideType("image"))return!0;var n=u.isCurrentSlideImageFit();1==n?0==e(a)&&(t(a),t(s)):1==e(a)&&(i(a),i(s))}var r,o,a,s,l=this,u=new UGSlider,d=new UGFunctions,c={slider_zoompanel_skin:""};this.init=function(e,t){u=e,t&&(c=jQuery.extend(c,t))},this.appendHTML=function(e){e;var t="<div class='ug-slider-control ug-zoompanel ug-skin-"+c.slider_zoompanel_skin+"'>";t+="<div class='ug-zoompanel-button ug-zoompanel-plus'></div>",t+="<div class='ug-zoompanel-button ug-zoompanel-minus ug-zoompanel-button-disabled'></div>",t+="<div class='ug-zoompanel-button ug-zoompanel-return ug-zoompanel-button-disabled'></div>",t+="</div>",e.append(t),r=e.children(".ug-zoompanel"),o=r.children(".ug-zoompanel-plus"),a=r.children(".ug-zoompanel-minus"),s=r.children(".ug-zoompanel-return")},this.setObjects=function(e,t,i){o=e,a=t,s=i,a&&a.addClass("ug-zoompanel-button-disabled"),s&&s.addClass("ug-zoompanel-button-disabled")},this.getElement=function(){return r},l.initEvents=function(){d.addClassOnHover(o,"ug-button-hover"),d.addClassOnHover(a,"ug-button-hover"),d.addClassOnHover(s,"ug-button-hover"),d.setButtonOnClick(o,function(){return 1==e(o)||void u.zoomIn()}),d.setButtonOnClick(a,function(){return 1==e(a)||void u.zoomOut()}),d.setButtonOnClick(s,function(){return 1==e(s)||void u.zoomBack()}),jQuery(u).on(u.events.ZOOM_CHANGE,n),jQuery(u).on(u.events.ITEM_CHANGED,n)}}function UGBullets(){function e(){var e="",t="";-1!=h.bullets_space_between&&(t=" style='margin-left:"+h.bullets_space_between+"px'");for(var i=0;l>i;i++)e+=0==i?"<div class='ug-bullet'></div>":"<div class='ug-bullet'"+t+"></div>";if(o.html(e),!a){var n=o.find(".ug-bullet:first-child");n.length&&(a=n.width())}}function t(e){if(1==s.isActive(e))return!0;var t=e.index();jQuery(s).trigger(s.events.BULLET_CLICK,t)}function i(){var e=o.children(".ug-bullet");d.setButtonOnClick(e,t),e.on("mousedown mouseup",function(e){return!1})}function n(e){if(0>e||e>=l)throw new Error("wrong bullet index: "+e)}function r(){if(1==c.isInited)return!0;throw new Error("The bullets are not inited!")}var o,a,s=this,l=0,u=new UniteGalleryMain,d=new UGFunctions,c={isInited:!1},h={bullets_skin:"",bullets_addclass:"",bullets_space_between:-1};this.events={BULLET_CLICK:"bullet_click"},this.init=function(e,t,i){u=e,l=i||u.getNumItems(),c.isInited=!0,h=jQuery.extend(h,t),""==h.bullets_skin&&(h.bullets_skin=h.gallery_skin)},this.getBulletsWidth=function(){if(0==l)return 0;if(!a)return 0;var e=l*a+(l-1)*h.bullets_space_between;return e},this.appendHTML=function(t){t,r();var n="";""!=h.bullets_addclass&&(n=" "+h.bullets_addclass);var a="<div class='ug-slider-control ug-bullets ug-skin-"+h.bullets_skin+n+"'>";a+="</div>",o=jQuery(a),t.append(o),e(),i()},this.updateNumBullets=function(t){l=t,e(),i()},this.getElement=function(){return o},this.setActive=function(e){r(),n(e);var t=o.children(".ug-bullet");t.removeClass("ug-bullet-active");var i=jQuery(t[e]);i.addClass("ug-bullet-active"),e},this.isActive=function(e){if(n(e),"number"!=typeof e)var t=e;else t=o.children(".ug-bullet")[e];return!!t.hasClass("ug-bullet-active")},this.getNumBullets=function(){return l}}function UGProgressBar(){var e,t,i=this,n=0,r=new UGFunctions,o={slider_progressbar_color:"#ffffff",slider_progressbar_opacity:.6,slider_progressbar_line_width:5};this.put=function(i,n){n&&(o=jQuery.extend(o,n)),i.append("<div class='ug-progress-bar'><div class='ug-progress-bar-inner'></div></div>"),e=i.children(".ug-progress-bar"),t=e.children(".ug-progress-bar-inner"),t.css("background-color",o.slider_progressbar_color),e.height(o.slider_progressbar_line_width),t.height(o.slider_progressbar_line_width),t.width("0%");var r=o.slider_progressbar_opacity,a=t[0];a.style.opacity=r,a.style.filter="alpha(opacity="+100*r+")"},this.putHidden=function(t,n){i.put(t,n),e.hide()},this.getElement=function(){return e},this.setSize=function(n){e.width(n),t.width(n),i.draw()},this.setPosition=function(t,i,n,o){r.placeElement(e,t,i,n,o)},this.draw=function(){var e=100*n;t.width(e+"%")},this.setProgress=function(e){n=r.normalizePercent(e),i.draw()},this.getType=function(){return"bar"}}function UGProgressPie(){function e(e){if(!e)e=0;var i=Math.min(o.slider_progresspie_width,o.slider_progresspie_height)/2,r=t[0].getContext("2d");0==n&&(n=!0,r.rotate(1.5*Math.PI),r.translate(-2*i,0)),r.clearRect(0,0,o.slider_progresspie_width,o.slider_progresspie_height);var a=o.slider_progresspie_width/2,s=o.slider_progresspie_height/2,l=0,u=e*Math.PI*2;if(1==o.slider_progresspie_type_fill)r.beginPath(),r.moveTo(a,s),r.arc(a,s,i,l,u),r.lineTo(a,s),r.fillStyle=o.slider_progresspie_color1,r.fill(),r.closePath();else{r.globalCompositeOperation="source-over",r.beginPath(),r.moveTo(a,s),r.arc(a,s,i,l,u),r.lineTo(a,s),r.fillStyle=o.slider_progresspie_color1,r.fill(),r.closePath(),r.globalCompositeOperation="destination-out";var d=i-o.slider_progresspie_stroke_width;r.beginPath(),r.moveTo(a,s),r.arc(a,s,d,l,u),r.lineTo(a,s),r.fillStyle=o.slider_progresspie_color1,r.fill(),r.closePath()}1==o.slider_progresspie_type_fill&&(l=u,u=2*Math.PI,r.beginPath(),r.arc(a,s,i,l,u),r.lineTo(a,s),r.fillStyle=o.slider_progresspie_color2,r.fill(),r.closePath())}var t,i=this,n=!1,r=new UGFunctions,o={slider_progresspie_type_fill:!1,slider_progresspie_color1:"#B5B5B5",slider_progresspie_color2:"#E5E5E5",slider_progresspie_stroke_width:6,slider_progresspie_width:30,slider_progresspie_height:30};this.put=function(e,i){i&&(o=jQuery.extend(o,i)),e.append("<canvas class='ug-canvas-pie' width='"+o.slider_progresspie_width+"' height='"+o.slider_progresspie_height+"'></canvas>"),t=e.children(".ug-canvas-pie")},this.putHidden=function(n,r){i.put(n,r),e(.1),t.hide()},this.getElement=function(){return t},this.setPosition=function(e,i){r.placeElement(t,e,i)},this.getSize=function(){var e={width:o.slider_progresspie_width,height:o.slider_progresspie_height};return e},this.setProgress=function(t){t=r.normalizePercent(t),t,e(t)},this.getType=function(){return"pie"}}function UGTouchSliderControl(){function e(e){if(!e)e=_.getSlidesReference();var t=m.getElementSize(e.objCurrentSlide),i=-t.left,n=m.getElementSize(p),r=i-n.left;return r}function t(){var t=_.getSlidesReference(),i=e(t),n=Math.round(3*t.objCurrentSlide.width()/8);if(Math.abs(i)>=n)return!0;var r=Math.abs(b.lastMouseX-b.startMouseX);if(Math.abs(b.lastMouseY-b.startMouseY),20>r)return!1;var o=jQuery.now(),a=o-b.startTime;return 500>a}function i(e){if(1==_.isInnerInPlace())return!1;if(f.trigger(_.events.BEFORE_RETURN),!e)e=_.getSlidesReference();var t=m.getElementSize(e.objCurrentSlide),i=-t.left;p.animate({left:i+"px"},{duration:v.slider_transition_return_speed,easing:v.slider_transition_continuedrag_easing,queue:!1,progress:function(e,t,n){if(1==b.isDragVideo){var r=m.getElementSize(p),o=r.left,a=o-i,s=b.videoStartX+a;b.videoObject.css("left",s)}},complete:function(){f.trigger(_.events.AFTER_RETURN)}})}function n(e){_.getVideoObject().hide(),_.switchSlideNums(e),_.placeNabourItems()}function r(){var t=_.getSlidesReference(),r=e(t);if(0==r)return!1;var o=r>0?"left":"right",a=!1;switch(o){case"right":if(_.isSlideHasItem(t.objPrevSlide))var s=m.getElementSize(t.objPrevSlide),l=-s.left;else a=!0;break;case"left":if(_.isSlideHasItem(t.objNextSlide)){var u=m.getElementSize(t.objNextSlide);l=-u.left}else a=!0}1==a?i(t):p.stop().animate({left:l+"px"},{duration:v.slider_transition_continuedrag_speed,easing:v.slider_transition_continuedrag_easing,queue:!1,progress:function(){if(1==b.isDragVideo){var e=m.getElementSize(p),t=e.left,i=t-b.startPosx,n=b.videoStartX+i;b.videoObject.css("left",n)}},always:function(){n(o),f.trigger(_.events.AFTER_DRAG_CHANGE)}})}function o(e){var t=b.lastMouseX-b.startMouseX;if(0==t)return!0;var i=0>t?"left":"right",n=_.getObjZoom();if(n){var r=n.isPanEnabled(e,i);if(1==r)return b.isInitDataValid=!1,!0;if(0==b.isInitDataValid)return a(e),!0}var o=b.startPosx+t;if(t>0&&o>0)o/=3;else if(0>t){var s=o+p.width(),l=g.width();l>s&&(o=b.startPosx+t/3)}if(0==b.isDragging&&(b.isDragging=!0,f.trigger(_.events.START_DRAG)),p.css("left",o+"px"),1==b.isDragVideo){var u=o-b.startPosx,d=b.videoStartX+u;b.videoObject.css("left",d)}}function a(e){var t=m.getMousePosition(e);b.startMouseX=t.pageX,b.startMouseY=t.pageY,b.lastMouseX=b.startMouseX,b.lastMouseY=b.startMouseY,b.startTime=jQuery.now();var i=m.getArrTouches(e);b.startArrTouches=m.getArrTouchPositions(i);var n=m.getElementSize(p);b.startPosx=n.left,b.isInitDataValid=!0,b.isDragVideo=!1,m.storeEventData(e,b.storedEventID)}function s(e){b.touch_active=!1}function l(e,t){b.touch_active=!0,a(t)}function u(e){e.preventDefault(),b.isDragging=!1,1==_.isAnimating()&&p.stop(!0,!0);var t=m.getArrTouches(e);return t.length>1?(1==b.touch_active&&s("1"),!0):1==b.touch_active||void l("1",e)}function d(e){if(0==b.touch_active)return!0;if(0==e.buttons)return s("2"),r(),!0;m.updateStoredEventData(e,b.storedEventID),e.preventDefault();var t=m.getMousePosition(e);b.lastMouseX=t.pageX,b.lastMouseY=t.pageY;var i=null;1==v.slider_vertical_scroll_ondrag&&(i=m.handleScrollTop(b.storedEventID)),"vert"!==i&&o(e)}function c(e){var n=m.getArrTouches(e),o=n.length,a=_.isInnerInPlace();if(1==a&&0==b.touch_active&&0==o)return!0;if(0==o&&1==b.touch_active){s("3");var u=!1,d=m.wasVerticalScroll(b.storedEventID);0==d&&(u=t()),1==u?r():i()}else 1==o&&0==b.touch_active&&l("2",e)}function h(){g.bind("mousedown touchstart",u),jQuery("body").bind("mousemove touchmove",d),jQuery(window).add("body").bind("mouseup touchend",c)}var g,p,f,_=new UGSlider,m=new UGFunctions,v={slider_transition_continuedrag_speed:250,slider_transition_continuedrag_easing:"linear",slider_transition_return_speed:300,slider_transition_return_easing:"easeInOutQuad"},b={touch_active:!1,startMouseX:0,startMouseY:0,lastMouseX:0,lastMouseY:0,startPosx:0,startTime:0,isInitDataValid:!1,slides:null,lastNumTouches:0,isDragging:!1,storedEventID:"touchSlider",videoStartX:0,isDragVideo:!1,videoObject:null};this.isTapEventOccured=function(t){var i=m.getArrTouches(t),n=i.length;if(0!=n||0!=b.lastNumTouches)return b.lastNumTouches=n,!1;b.lastNumTouches=n;var r=_.getSlidesReference(),o=(e(r),Math.abs(b.lastMouseX-b.startMouseX)),a=Math.abs(b.lastMouseY-b.startMouseY),s=jQuery.now(),l=s-b.startTime;return 20>o&&50>a&&500>l},this.init=function(e,t){_=e,f=jQuery(_),g_objects=e.getObjects(),g=g_objects.g_objSlider,p=g_objects.g_objInner,v=jQuery.extend(v,t),h()},this.getLastMousePos=function(){var e={pageX:b.lastMouseX,pageY:b.lastMouseY};return e},this.isTouchActive=function(){return b.touch_active}}function UGZoomSliderControl(){function e(e,t){T=e,w=jQuery(T),g_objects=e.getObjects(),y=g_objects.g_objSlider,g_objects.g_objInner,x=jQuery.extend(x,t),b()}function t(){var e=T.getScaleMode();return"down"!=e&&(e="fit"),e}function i(){var e=jQuery.now(),i=e-I.storeImageLastTime;if(20>i)return!1;var n=T.getSlidesReference();if(I.objSlide=n.objCurrentSlide,I.objImage=n.objCurrentSlide.find("img"),0==I.objImage.length)return!1;I.objImageSize=S.getElementSize(I.objImage),I.objParent=I.objImage.parent(),I.objParentSize=S.getElementSize(I.objParent);var r=t();objPadding=T.getObjImagePadding(),I.objFitImageSize=S.getImageInsideParentDataByImage(I.objImage,r,objPadding);e=jQuery.now();return I.storeImageLastTime=e,!0}function n(e,i){var n=T.getSlidesReference(),r=n.objCurrentSlide.find("img"),o=t();w.trigger(T.events.ZOOM_START);var a=!0,s=T.getObjImagePadding();if("back"==e){var l=S.getImageOriginalSize(r);S.scaleImageFitParent(r,l.width,l.height,o,s)}else{var u="in"==e;a=S.zoomImageInsideParent(r,u,x.slider_zoom_step,i,o,x.slider_zoom_max_ratio,s)}1==a&&(w.trigger(T.events.ZOOMING),w.trigger(T.events.ZOOM_CHANGE),w.trigger(T.events.ZOOM_END))}function r(e,t,i){var n=S.getArrTouches(t);if(!0===i){if(1!=n.length)return!1}else if(n.length>1)return!1;return!!S.isElementBiggerThenParent(e)}function o(e){var t=S.getMousePosition(e);I.startMouseX=t.pageX,I.startMouseY=t.pageY,I.lastMouseX=I.startMouseX,I.lastMouseY=I.startMouseY,I.startImageX=I.objImageSize.left,I.startImageY=I.objImageSize.top,I.panXActive=I.objImageSize.width>I.objParentSize.width,I.panYActive=I.objImageSize.height>I.objParentSize.height}function a(e){I.isPanActive=!0,o(e)}function s(e){if(null==I.objImage||0==I.objImage.length)return!0;var t=S.getMousePosition(e),i=(t.pageX,I.startMouseX,t.pageY,I.startMouseY,t.pageX-I.lastMouseX),n=t.pageY-I.lastMouseY,r=0>i?"left":"right",o=0>n?"up":"down";I.lastMouseX=t.pageX,I.lastMouseY=t.pageY;var a=S.getElementSize(I.objImage);0==I.panYActive?n=0:"down"==o&&a.top>0?n/=3:"up"==o&&a.bottom<I.objParentSize.height&&(n/=3),0==I.panXActive||0==T.isInnerInPlace()?i=0:"right"==r&&a.left>0?i/=3:"left"==r&&a.right<I.objParentSize.width&&(i/=3);var s=a.left+i,l=a.top+n;S.placeElement(I.objImage,s,l)}function l(){var e=!1,t=!1,i=0,n=0,r=S.getElementSize(I.objImage),o=T.getObjImagePadding(),a=S.getElementCenterPosition(I.objImage,o);I.panXActive=I.objImageSize.width>I.objParentSize.width,I.panYActive=I.objImageSize.height>I.objParentSize.height,
1==I.panYActive?r.top>0?(n=0,t=!0):r.bottom<I.objParentSize.height&&(n=I.objParentSize.height-r.height,t=!0):r.top!=a.top&&(t=!0,n=a.top),1==I.panXActive?r.left>0?(i=0,e=!0):r.right<I.objParentSize.width&&(i=I.objParentSize.width-r.width,e=!0):r.left!=a.left&&(e=!0,i=a.left);var s={};1==t&&(s.top=n+"px"),1==e&&(s.left=i+"px"),(1==t||1==e)&&I.objImage.animate(s,{duration:x.slider_zoom_return_pan_duration,easing:x.slider_zoom_return_pan_easing,queue:!1})}function u(){return!(!I.objImage||!I.objImage.is(":animated"))}function d(e){I.isZoomActive=!0,I.startDistance=S.getDistance(e[0].pageX,e[0].pageY,e[1].pageX,e[1].pageY),0==I.startDistance&&(I.startDistance=1),I.startMiddlePoint=S.getMiddlePoint(e[0].pageX,e[0].pageY,e[1].pageX,e[1].pageY),I.objImageSize=S.getElementSize(I.objImage),I.startImageX=I.objImageSize.left,I.startImageY=I.objImageSize.top,I.imageOrientPoint=S.getElementLocalPoint(I.startMiddlePoint,I.objImage);var t=S.isPointInsideElement(I.imageOrientPoint,I.objImageSize);0==t&&(I.imageOrientPoint=S.getElementCenterPoint(I.objImage)),w.trigger(T.events.ZOOM_START)}function c(e){if(0==I.isZoomActive)return!1;var t=S.getArrTouches(e);2!=t.length&&(I.isZoomActive=!1,w.trigger(T.events.ZOOM_END))}function h(e){if(1==I.isZoomActive)return!0;var t=S.getArrTouches(e);return 2!=t.length||void d(t)}function g(e){var t=S.getArrTouches(e),i=S.getDistance(t[0].pageX,t[0].pageY,t[1].pageX,t[1].pageY),n=i/I.startDistance,r=S.getMiddlePoint(t[0].pageX,t[0].pageY,t[1].pageX,t[1].pageY),o=I.objImageSize.width*n,a=I.objImageSize.height*n,s=S.getImageOriginalSize(I.objImage),l=1;if(s.width>0&&(l=o/s.width),l>x.slider_zoom_max_ratio)return!0;panX=-(I.imageOrientPoint.x*n-I.imageOrientPoint.x),panY=-(I.imageOrientPoint.y*n-I.imageOrientPoint.y);var u=r.x-I.startMiddlePoint.x,d=r.y-I.startMiddlePoint.y,c=I.startImageX+panX+u,h=I.startImageY+panY+d;S.setElementSizeAndPosition(I.objImage,c,h,o,a),w.trigger(T.events.ZOOMING),w.trigger(T.events.ZOOM_CHANGE)}function p(){if(null==I.objImage||0==I.objImage.length)return!0;var e=S.getElementSize(I.objImage);if(e.width<I.objFitImageSize.imageWidth){I.objImage.css({position:"absolute",margin:"none"});var t={top:I.objFitImageSize.imageTop+"px",left:I.objFitImageSize.imageLeft+"px",width:I.objFitImageSize.imageWidth+"px",height:I.objFitImageSize.imageHeight+"px"};I.objImage.animate(t,{duration:x.slider_zoom_return_pan_duration,easing:x.slider_zoom_return_pan_easing,queue:!1})}else l()}function f(e){return 0==T.isCurrentSlideType("image")||(i(),null==I.objImage||0==I.objImage.length||(e.preventDefault(),1==u()&&I.objImage.stop(!0),1==I.isZoomActive?c(e):h(e),void(1==I.isZoomActive?I.isPanActive=!1:1==r(I.objImage,e)&&1==I.isZoomedOnce&&a(e))))}function _(e){if(0==T.isCurrentSlideType("image"))return!0;var t=jQuery(e.target);if(1==t.data("ug-button"))return!1;if(i(),null==I.objImage||0==I.objImage.length)return!0;var n=I.isPanActive,o=I.isZoomActive;if(0==T.isInnerInPlace())return I.isZoomActive=!1,I.isPanActive=!1,!0;if(1==I.isZoomActive?c(e):h(e),1==I.isZoomActive)I.isPanActive=!1;else{var s=r(I.objImage,e,!0);1==I.isPanActive?I.isPanActive=!1:1==s&&a(e)}(n||o)&&0==I.isZoomActive&&0==I.isPanActive&&p()}function m(e){return 0==T.isCurrentSlideType("image")||void(1==I.isZoomActive?g(e):1==I.isPanActive&&s(e))}function v(e,t,i,r){if(0==x.slider_zoom_mousewheel)return!0;if(0==T.isCurrentSlideType("image"))return!0;e.preventDefault();var o=t>0,a=S.getMousePosition(e),s=1==o?"in":"out";n(s,a)}function b(){y.on("mousewheel",v),y.bind("mousedown touchstart",f),jQuery("body").bind("mousemove touchmove",m),jQuery(window).add("body").bind("mouseup touchend",_),w.bind(T.events.BEFORE_RETURN,function(){p()}),w.bind(T.events.ITEM_CHANGED,function(){I.isZoomedOnce=!1}),w.bind(T.events.ZOOM_CHANGE,function(){I.isZoomedOnce=!0})}var y,w,T=new UGSlider,S=new UGFunctions,x={slider_zoom_step:1.2,slider_zoom_max_ratio:6,slider_zoom_return_pan_duration:400,slider_zoom_return_pan_easing:"easeOutCubic"},I={isPanActive:!1,startMouseX:0,startMouseY:0,lastMouseX:0,lastMouseY:0,startImageX:0,startImageY:0,panXActive:!1,panYActive:!1,objImage:null,objImageSize:null,objParent:null,objParentSize:null,objSlide:null,storeImageLastTime:0,isZoomActive:!1,startDistance:0,startMiddlePoint:null,imageOrientPoint:null,objFitImageSize:null,isZoomedOnce:!1};this.________EXTERNAL_____________=function(){},this.isPanEnabled=function(e,t){if(i(),null==I.objImage||0==I.objImage.length)return!1;if(0==I.isZoomedOnce)return!1;if(0==r(I.objImage,e))return!1;if(0==T.isInnerInPlace())return!1;if("left"==t){if(I.objImageSize.right<=I.objParentSize.width)return!1}else if(I.objImageSize.left>=0)return!1;return!0},this.init=function(t,i){e(t,i)},this.zoomIn=function(){n("in")},this.zoomOut=function(){n("out")},this.zoomBack=function(){n("back")}}function UGWistiaAPI(){function e(){return"undefined"!=typeof Wistia}function t(e,t,n,o,a){r=null,s=!1;var l=e+"_video",u="<div id='"+l+"' class='wistia_embed' style='width:"+n+";height:"+o+";' data-video-width='"+n+"' data-video-height='"+o+"'>&nbsp;</div>";jQuery("#"+e).html(u),r=Wistia.embed(t,{version:"v1",videoWidth:n,videoHeight:o,container:l,autoPlay:a}),s=!0,i()}function i(){r.bind("play",function(){a.trigger(o.events.START_PLAYING)}),r.bind("pause",function(){a.trigger(o.events.STOP_PLAYING)}),r.bind("end",function(){a.trigger(o.events.STOP_PLAYING),a.trigger(o.events.VIDEO_ENDED)})}this.isAPILoaded=!1;var n,r,o=this,a=jQuery(this),s=!1;this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugWistiaAPI.isAPILoaded||(e()?(g_ugWistiaAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("fast.wistia.com/assets/external/E-v1.js",!0),void(g_ugWistiaAPI.isAPILoaded=!0)))},this.doCommand=function(e){if(null==r)return!1;if(0==s)return!1;switch(e){case"play":r.play();break;case"pause":r.pause()}},this.pause=function(){o.doCommand("pause")},this.play=function(){o.doCommand("play")},this.putVideo=function(i,r,o,a,s){return e()?(t(i,r,o,a,s),!0):(this.loadAPI(),void(n=setInterval(function(){e()&&(t(i,r,o,a,s),clearInterval(n))},500)))},this.isPlayerReady=function(){return!(!s||!r)}}function UGSoundCloudAPI(){function e(){return"undefined"!=typeof SC}function t(e,t,n,a,s){r=null,g_isPlayerReady=!1;var l=e+"_iframe",u=location.protocol+"//w.soundcloud.com/player/?url=http://api.soundcloud.com/tracks/"+t;u+="&amp;buying=false&amp;liking=false&amp;download=false&amp;sharing=false&amp;show_artwork=true&show_comments=false&amp;show_playcount=true&amp;show_user=false&amp;hide_related=true&amp;visual=true&amp;start_track=0&amp;callback=true",u+=!0===s?"&amp;auto_play=true":"&amp;auto_play=false";var d="<iframe id='"+l+"' src="+u+" width='"+n+"' height='"+a+"' frameborder='0' scrolling='no' webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>";jQuery("#"+e).html(d),r=SC.Widget(l),r.bind(SC.Widget.Events.READY,function(){r&&(g_isPlayerReady=!0,i())}),o=e}function i(){r.bind(SC.Widget.Events.PLAY,function(){s.trigger(a.events.START_PLAYING)}),r.bind(SC.Widget.Events.PAUSE,function(){s.trigger(a.events.STOP_PLAYING)}),r.bind(SC.Widget.Events.FINISH,function(){s.trigger(a.events.STOP_PLAYING),s.trigger(a.events.VIDEO_ENDED)})}this.isAPILoaded=!1;var n,r,o,a=this,s=jQuery(this);this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugSoundCloudAPI.isAPILoaded||(e()?(g_ugSoundCloudAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("w.soundcloud.com/player/api.js",!0),void(g_ugSoundCloudAPI.isAPILoaded=!0)))},this.putSound=function(i,r,o,a,s){return e()?(t(i,r,o,a,s),!0):(this.loadAPI(),void(n=setInterval(function(){e()&&(t(i,r,o,a,s),clearInterval(n))},500)))},this.doCommand=function(e){if(null==r)return!1;if(0==g_isPlayerReady)return!1;switch(e){case"play":r.play();break;case"pause":r.pause()}},this.pause=function(){a.doCommand("pause")},this.play=function(){a.doCommand("play")},this.destroy=function(){g_isPlayerReady=!1,r=null,o&&(jQuery("#"+o).html(""),o=null)}}function UGHtml5MediaAPI(){function e(){return"undefined"!=typeof mejs}function t(e,t,n,o,a){r=null,g_isPlayerReady=!1;var s=location.protocol+"//cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/flashmediaelement-cdn.swf",l=location.protocol+"//cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/silverlightmediaelement.xap",u=e+"_video",d="";a&&!0===a&&(d="autoplay='autoplay'");var c="";t.posterImage&&(c="poster='"+t.posterImage+"'");var h="<video id='"+u+"' width='"+n+"' height='"+o+"'  controls='controls' preload='none' "+d+" "+c+">";""!=t.mp4&&(h+="<source type='video/mp4' src='"+t.mp4+"' />"),""!=t.webm&&(h+="<source type='video/webm' src='"+t.webm+"' />"),""!=t.ogv&&(h+="<source type='video/ogg' src='"+t.ogv+"' />"),h+="<object width='"+n+"' height='"+o+"' type='application/x-shockwave-flash' data='"+s+"'>",h+="<param name='movie' value='"+s+"' />",h+="<param name='flashvars' value='controls=true&file="+t.mp4+"' />",h+="</object>",h+="</video>",jQuery("#"+e).html(h),new MediaElement(u,{enablePluginDebug:!1,flashName:s,silverlightName:l,success:function(e,t){g_isPlayerReady=!0,r=e,0==a&&r.pause(),i()},error:function(e){trace(e)}})}function i(){g_ugFunctions.addEvent(r,"play",function(){a.trigger(o.events.START_PLAYING)}),g_ugFunctions.addEvent(r,"pause",function(){a.trigger(o.events.STOP_PLAYING)}),g_ugFunctions.addEvent(r,"ended",function(){a.trigger(o.events.STOP_PLAYING),a.trigger(o.events.VIDEO_ENDED)})}this.isAPILoaded=!1;var n,r,o=this,a=jQuery(this);this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugHtml5MediaAPI.isAPILoaded||(e()?(g_ugHtml5MediaAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/mediaelement.min.js",!0),g_ugFunctions.loadCss("cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/mediaelementplayer.min.css",!0),void(g_ugHtml5MediaAPI.isAPILoaded=!0)))},this.putVideo=function(i,r,o,a,s){return e()?(t(i,r,o,a,s),!0):(this.loadAPI(),void(n=setInterval(function(){e()&&(t(i,r,o,a,s),clearInterval(n))},500)))},this.doCommand=function(e){if(null==r)return!1;if(0==g_isPlayerReady)return!1;switch(e){case"play":r.play();break;case"pause":r.pause()}},this.pause=function(){o.doCommand("pause")},this.play=function(){o.doCommand("play")}}function UGVimeoAPI(){function e(){return"undefined"!=typeof Froogaloop}function t(e,t,n,o,a){s=null,l=!1;var u=location.protocol+"//player.vimeo.com/video/"+t+"?api=1";!0===a&&(u+="&amp;byline=0&amp;autoplay=1&amp;title=0&amp;portrait=0");var d="<iframe src="+u+" width='"+n+"' height='"+o+"' frameborder='0' webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>";jQuery("#"+e).html(d);var c=jQuery("#"+e+" iframe")[0];s=Froogaloop(c),s.addEvent("ready",function(){s&&(l=!0,i())}),r=e}function i(){return!!s&&(s.addEvent("cuechange",function(){1==u&&o.play()}),s.addEvent("play",function(){a.trigger(o.events.START_PLAYING)}),s.addEvent("pause",function(){a.trigger(o.events.STOP_PLAYING)}),void s.addEvent("finish",function(){a.trigger(o.events.STOP_PLAYING),a.trigger(o.events.VIDEO_ENDED)}))}this.isAPILoaded=!1;var n,r,o=this,a=jQuery(this),s=null,l=!1,u=!1;this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugVimeoAPI.isAPILoaded||(e()?(g_ugVimeoAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("f.vimeocdn.com/js/froogaloop2.min.js",!0),void(g_ugVimeoAPI.isAPILoaded=!0)))},this.doCommand=function(e){return null!=s&&(0!=l&&void s.api(e))},this.pause=function(){o.doCommand("pause")},this.play=function(){o.doCommand("play")},this.destroy=function(){s&&(s.api("unload"),s=null,l=!1),r&&jQuery("#"+r).html("")},this.putVideo=function(i,r,o,a,s){return e()?(t(i,r,o,a,s),!0):(this.loadAPI(),void(n=setInterval(function(){e()&&(t(i,r,o,a,s),clearInterval(n))},500)))},this.isPlayerReady=function(){return!(!l||!s)},this.changeVideo=function(e,t){return 0!=o.isPlayerReady()&&(u=t,void s.api("loadVideo",e))},this.getVideoImages=function(e,t,i){var n=location.protocol+"//vimeo.com/api/v2/video/"+e+".json";jQuery.get(n,{},function(e){var n={};n.preview=e[0].thumbnail_large,n.thumb=e[0].thumbnail_medium,i(t,n)})}}function UGYoutubeAPI(){function e(e,t,r,a,u){s&&l&&s.destroy();var d={controls:2,showinfo:c.video_youtube_showinfo,rel:0};!0===u&&(d.autoplay=1),l=!1,s=new YT.Player(e,{height:a,width:r,videoId:t,playerVars:d,events:{onReady:i,onStateChange:n}}),o=e}function t(){return"undefined"!=typeof YT&&void 0!==YT.Player}function i(){l=!0}function n(){if("function"!=typeof s.getPlayerState)return trace("Youtube API error: can't get player state"),!1;var e=s.getPlayerState();switch(e){case YT.PlayerState.PLAYING:u.trigger(a.events.START_PLAYING);break;case YT.PlayerState.ENDED:u.trigger(a.events.STOP_PLAYING),u.trigger(a.events.VIDEO_ENDED);break;default:d==YT.PlayerState.PLAYING&&u.trigger(a.events.STOP_PLAYING)}d=e}this.isAPILoaded=!1;var r,o,a=this,s=null,l=!1,u=jQuery(this),d=-1,c={video_youtube_showinfo:!0};this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.setOptions=function(e){c=jQuery.extend(c,e)},this.putVideo=function(i,n,o,a,s){return t()?(e(i,n,o,a,s),!0):(this.loadAPI(),void(r=setInterval(function(){t()&&(e(i,n,o,a,s),clearInterval(r))},500)))},this.loadAPI=function(){return 1==g_ugYoutubeAPI.isAPILoaded||("undefined"!=typeof YT?(g_ugYoutubeAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("https://www.youtube.com/player_api",!1),void(g_ugYoutubeAPI.isAPILoaded=!0)))},this.doCommand=function(e,t){if(!s)return!0;if(0==l)return!1;switch(e){case"play":if("function"!=typeof s.playVideo)return!1;s.playVideo();break;case"pause":if("function"!=typeof s.pauseVideo)return!1;s.pauseVideo();break;case"seek":if("function"!=typeof s.seekTo)return!1;s.seekTo(t);break;case"stopToBeginning":var i=s.getPlayerState();switch(s.pauseVideo(),i){case YT.PlayerState.PLAYING:case YT.PlayerState.ENDED:case YT.PlayerState.PAUSED:s.seekTo(0)}}},this.play=function(){a.doCommand("play")},this.pause=function(){a.doCommand("pause")},this.destroy=function(){try{s&&(l=!1,s.clearVideo(),s.destroy())}catch(e){jQuery("#"+o).html("")}},this.stopToBeginning=function(){a.doCommand("stopToBeginning")},this.changeVideo=function(e,t){return 0!=a.isPlayerReady()&&void(t&&1==t?s.loadVideoById(e,0,"large"):s.cueVideoById(e,0,"large"))},this.isPlayerReady=function(){return!(!l||!s)},this.getVideoImages=function(e){var t={};return t.preview="https://i.ytimg.com/vi/"+e+"/sddefault.jpg",t.thumb="https://i.ytimg.com/vi/"+e+"/default.jpg",t}}function UGVideoPlayer(){function e(){p.hide()}function t(){f.trigger(p.events.PLAY_START),c&&c.hide()}function i(){f.trigger(p.events.PLAY_STOP),c&&c.show()}function n(){f.trigger(p.events.VIDEO_ENDED)}function r(){c&&(_.setButtonMobileReady(c),_.setButtonOnClick(c,e)),jQuery(m).on(m.events.START_PLAYING,t),jQuery(m).on(m.events.STOP_PLAYING,i),jQuery(m).on(m.events.VIDEO_ENDED,n),jQuery(v).on(v.events.START_PLAYING,t),jQuery(v).on(v.events.STOP_PLAYING,i),jQuery(v).on(v.events.VIDEO_ENDED,n),jQuery(b).on(b.events.START_PLAYING,t),jQuery(b).on(b.events.STOP_PLAYING,i),jQuery(b).on(b.events.VIDEO_ENDED,n),jQuery(y).on(y.events.START_PLAYING,t),jQuery(y).on(y.events.STOP_PLAYING,i),jQuery(y).on(y.events.VIDEO_ENDED,n),jQuery(w).on(w.events.START_PLAYING,t),jQuery(w).on(w.events.STOP_PLAYING,i),jQuery(w).on(w.events.VIDEO_ENDED,n)}function o(e){var t=["youtube","vimeo","html5","soundcloud","wistia"];for(var i in t){var n=t[i];if(n!=e)switch(n){case"youtube":m.pause(),m.destroy(),l.hide();break;case"vimeo":v.pause(),v.destroy(),u.hide();break;case"html5":b.pause(),d.hide();break;case"soundcloud":y.pause(),y.destroy(),h.hide();break;case"wistia":w.pause(),g.hide()}}}var a,s,l,u,d,c,h,g,p=this,f=jQuery(this),_=new UGFunctions,m=new UGYoutubeAPI,v=new UGVimeoAPI,b=new UGHtml5MediaAPI,y=new UGSoundCloudAPI,w=new UGWistiaAPI,T=null,S={video_enable_closebutton:!0};this.events={SHOW:"video_show",HIDE:"video_hide",PLAY_START:"video_play_start",PLAY_STOP:"video_play_stop",VIDEO_ENDED:"video_ended"};var x={standAloneMode:!1,youtubeInnerID:"",vimeoPlayerID:"",html5PlayerID:"",wistiaPlayerID:"",soundCloudPlayerID:""};this.init=function(e,t,i){if(a=i,!a)throw new Error("missing gallery ID for video player, it's a must!");S=jQuery.extend(S,e),m.setOptions(S),t&&1==t&&(x.standAloneMode=!0)},this.setHtml=function(e){x.youtubeInnerID=a+"_youtube_inner",x.vimeoPlayerID=a+"_videoplayer_vimeo",x.html5PlayerID=a+"_videoplayer_html5",x.wistiaPlayerID=a+"_videoplayer_wistia",x.soundCloudPlayerID=a+"_videoplayer_soundcloud";var t="<div class='ug-videoplayer' style='display:none'>";t+="<div class='ug-videoplayer-wrapper ug-videoplayer-youtube' style='display:none'><div id='"+x.youtubeInnerID+"'></div></div>",t+="<div id='"+x.vimeoPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-vimeo' style='display:none'></div>",t+="<div id='"+x.html5PlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-html5'></div>",t+="<div id='"+x.soundCloudPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-soundcloud'></div>",t+="<div id='"+x.wistiaPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-wistia'></div>",0==x.standAloneMode&&1==S.video_enable_closebutton&&(t+="<div class='ug-videoplayer-button-close'></div>"),t+="</div>",e.append(t),s=e.children(".ug-videoplayer"),l=s.children(".ug-videoplayer-youtube"),u=s.children(".ug-videoplayer-vimeo"),d=s.children(".ug-videoplayer-html5"),h=s.children(".ug-videoplayer-soundcloud"),g=s.children(".ug-videoplayer-wistia"),0==x.standAloneMode&&1==S.video_enable_closebutton&&(c=s.children(".ug-videoplayer-button-close"))},this.destroy=function(){c&&(c.off("click"),c.off("touchend")),jQuery(m).off(m.events.START_PLAYING),jQuery(m).off(m.events.STOP_PLAYING),jQuery(v).off(v.events.START_PLAYING),jQuery(v).off(v.events.STOP_PLAYING),jQuery(b).off(b.events.START_PLAYING),jQuery(b).off(b.events.STOP_PLAYING),jQuery(y).off(y.events.START_PLAYING,t),jQuery(y).off(y.events.STOP_PLAYING,i),jQuery(w).off(w.events.START_PLAYING,t),jQuery(w).off(w.events.STOP_PLAYING,i),T=null},this.initEvents=function(){r()},this.setSize=function(e,t){_.setElementSize(s,e,t),c&&_.placeElement(c,"right","top")},this.setPosition=function(e,t){_.placeElement(s,e,t)},this.getObject=function(){return s},this.show=function(){return 1==p.isVisible()||(s.show(),s.fadeTo(0,1),c&&c.show(),void f.trigger(p.events.SHOW))},this.hide=function(){return 0==p.isVisible()||(o(),T=null,s.hide(),void f.trigger(p.events.HIDE))},this.getActiveAPI=function(){switch(T){case"youtube":return m;case"vimeo":return v;case"wistia":return w;case"soundcloud":return y;case"html5":return b;default:return null}},this.pause=function(){var e=p.getActiveAPI();return null!=e&&void("function"==typeof e.pause&&e.pause())},this.isVisible=function(){return s.is(":visible")},this.playYoutube=function(e,t){if(void 0===t)t=!0;o("youtube"),l.show();var i=l.children("#"+x.youtubeInnerID);0==i.length&&l.append("<div id='"+x.youtubeInnerID+"'></div>"),1==m.isPlayerReady()&&1==x.standAloneMode?m.changeVideo(e,t):m.putVideo(x.youtubeInnerID,e,"100%","100%",t),T="youtube"},this.playVimeo=function(e,t){if(void 0===t)t=!0;o("vimeo"),u.show(),v.putVideo(x.vimeoPlayerID,e,"100%","100%",t),T="vimeo"},this.playHtml5Video=function(e,t,i,n,r){if(void 0===r)r=!0;o("html5"),d.show();var a={ogv:e,webm:t,mp4:i,posterImage:n};b.putVideo(x.html5PlayerID,a,"100%","100%",r),T="html5"},this.playSoundCloud=function(e,t){if(void 0===t)t=!0;o("soundcloud"),h.show(),y.putSound(x.soundCloudPlayerID,e,"100%","100%",t),T="soundcloud"},this.playWistia=function(e,t){if(void 0===t)t=!0;o("wistia"),g.show(),w.putVideo(x.wistiaPlayerID,e,"100%","100%",t),T="wistia"}}function ugCheckForMinJQueryVersion(){var e=g_ugFunctions.checkMinJqueryVersion("1.8.0");if(0==e)throw new Error("The gallery can run from jquery 1.8 You have jQuery "+jQuery.fn.jquery+" Please update your jQuery library.")}function ugCheckForErrors(e,t){function i(){if("undefined"==typeof jQuery)throw new Error("jQuery library not included")}function n(){if("function"==typeof jQuery.fn.unitegallery)return!0;var e="You have some jquery.js library include that comes after the gallery files js include.";throw e+="<br> This include eliminates the gallery libraries, and make it not work.","cms"==t?(e+="<br><br> To fix it you can:<br>&nbsp;&nbsp;&nbsp; 1. In the Gallery Settings -> Troubleshooting set option:  <strong><b>Put JS Includes To Body</b></strong> option to true.",e+="<br>&nbsp;&nbsp;&nbsp; 2. Find the double jquery.js include and remove it."):e+="<br><br> Please find and remove this jquery.js include and the gallery will work. <br> * There should be only one jquery.js include before all other js includes in the page.",new Error(e)}try{"jquery"==t?(i(),ugCheckForMinJQueryVersion()):(ugCheckForMinJQueryVersion(),n())}catch(i){var r=i.message;if(r="Unite Gallery Error: "+r,r="<div style='font-size:16px;color:#BC0C06;max-width:900px;border:1px solid red;padding:10px;'>"+r+"</div>","jquery"==t){var o=document.getElementById(e);o.innerHTML=r,o.style.display="block"}else jQuery(e).show().html(r);return!1}return!0}function UniteGalleryMain(){function __________INIT_GALLERY_______(){}function getThemeFunction(e){var t=e;return-1==t.indexOf("UGTheme_")&&(t="UGTheme_"+t),t}function initTheme(objCustomOptions){if(objCustomOptions.hasOwnProperty("gallery_theme"))g_options.gallery_theme=objCustomOptions.gallery_theme;else{var defaultTheme=g_options.gallery_theme;0==g_ugFunctions.isThemeRegistered(defaultTheme)&&(g_options.gallery_theme=g_ugFunctions.getFirstRegisteredTheme())}var themeFunction=getThemeFunction(g_options.gallery_theme);try{g_options.gallery_theme=eval(themeFunction)}catch(e){}g_options.gallery_theme=eval(themeFunction),g_objTheme=new g_options.gallery_theme,g_objTheme.init(t,objCustomOptions)}function resetOptions(){g_options=jQuery.extend({},g_temp.originalOptions),g_selectedItemIndex=-1,g_selectedItem=null,g_objSlider=void 0,g_objThumbs=void 0,g_objSlider=void 0}function checkForStartupErrors(){try{ugCheckForMinJQueryVersion()}catch(e){throwErrorShowMessage(e.message)}"object"==typeof g_objWrapper.outerWidth()&&throwErrorShowMessage("You have some buggy script. most chances jquery-ui.js that destroy jquery outerWidth, outerHeight functions. The gallery can't run. Please update jquery-ui.js to latest version."),setTimeout(function(){ugCheckForErrors(g_galleryID,"cms")},5e3)}function runGallery(e,i,n,r){var o="object"==typeof i;if(o&&(g_temp.objCustomOptions=i),1==g_temp.isRunFirstTime){if(g_galleryID=e,g_objWrapper=jQuery(g_galleryID),0==g_objWrapper.length)return trace("div with id: "+g_galleryID+" not found"),!1;g_objParent=g_objWrapper.parent(),checkForStartupErrors(),g_temp.originalOptions=jQuery.extend({},g_options),o&&(g_options=jQuery.extend(g_options,i)),1==g_options.gallery_enable_cache&&g_options.gallery_initial_catid&&cacheItems(g_options.gallery_initial_catid),t.setSizeClass();var a=g_objWrapper.children();fillItemsArray(a),loadAPIs(),g_objWrapper.find("img").fadeTo(0,0).hide(),g_objWrapper.show(),clearInitData()}else if(t.destroy(),resetOptions(),g_options=jQuery.extend(g_options,g_temp.objCustomOptions),n){if(r&&1==g_options.gallery_enable_cache&&cacheItems(r,n),"noitems"==n)return showErrorMessage("No items in this category",""),!1;g_objWrapper.html(n);a=g_objWrapper.children();fillItemsArray(a),loadAPIs(),g_objWrapper.children().fadeTo(0,0).hide(),g_objWrapper.show(),clearInitData()}1==g_temp.isRunFirstTime&&1==g_options.gallery_enable_tabs&&(g_objTabs=new UGTabs,g_objTabs.init(t,g_options)),1==g_temp.isRunFirstTime&&1==g_options.gallery_enable_loadmore&&(g_objLoadMore=new UGLoadMore,g_objLoadMore.init(t,g_options)),o&&modifyInitParams(g_temp.objCustomOptions),validateParams(),1==g_options.gallery_shuffle&&t.shuffleItems(),initTheme(g_temp.objCustomOptions),setGalleryHtml(),setHtmlObjectsProperties();var s=g_objWrapper.width();0==s?g_functions.waitForWidth(g_objWrapper,runGalleryActually):runGalleryActually()}function runGalleryActually(){t.setSizeClass(),0==g_temp.isFreestyleMode&&1==g_options.gallery_preserve_ratio&&setHeightByOriginalRatio(),g_objTheme.run(),g_objTabs&&g_temp.isRunFirstTime&&g_objTabs.run(),preloadBigImages(),initEvents(),g_numItems>0&&t.selectItem(0),1==g_options.gallery_autoplay&&t.startPlayMode(),g_temp.isRunFirstTime=!1}function showErrorMessage(e,t){if(void 0===t)t="<b>Unite Gallery Error: </b>";else t="<b>"+t+": </b>";e=t+e;var i="<div class='ug-error-message-wrapper'><div class='ug-error-message'>"+e+"</div></div>";g_objWrapper.children().remove(),g_objWrapper.html(i),g_objWrapper.show()}function throwErrorShowMessage(e){throw showErrorMessage(e),new Error(e)}function modifyInitParams(){g_options.gallery_images_preload_type||(g_options.gallery_images_preload_type="minimal"),(null==g_options.gallery_min_height||g_options.gallery_height<g_options.gallery_min_height)&&(g_options.gallery_min_height=0),(null==g_options.gallery_min_width||g_options.gallery_width<g_options.gallery_min_width)&&(g_options.gallery_min_width=0)}function validateParams(){if(!g_options.gallery_theme)throw new Error("The gallery can't run without theme");if(jQuery.isNumeric(g_options.gallery_height)&&g_options.gallery_height<g_options.gallery_min_height)throw new Error("The <b>gallery_height</b> option must be bigger then <b>gallery_min_height option</b>");if(g_options.gallery_width<g_options.gallery_min_width)throw new Error("The <b>gallery_width</b> option must be bigger then <b>gallery_min_width option</b>")}function setGalleryHtml(){g_objWrapper.addClass("ug-gallery-wrapper"),g_objWrapper.append("<div class='ug-overlay-disabled' style='display:none'></div>"),t.setSizeClass()}function clearInitData(){g_objWrapper.children().remove()}function storeLastSize(){var e=t.getSize();g_temp.lastWidth=e.width,g_temp.lastHeight=e.height}function setHeightByOriginalRatio(){var e=t.getSize(),i=e.width/e.height;if(i!=e.orig_ratio){var n=e.width/e.orig_ratio;n=Math.round(n),n<g_options.gallery_min_height&&(n=g_options.gallery_min_height),g_objWrapper.height(n)}}function setHtmlObjectsProperties(){var e=g_functions.getCssSizeParam(g_options.gallery_width),t={"max-width":e,"min-width":g_functions.getCssSizeParam(g_options.gallery_min_width)};if(0==g_temp.isFreestyleMode){var i=g_functions.getCssSizeParam(g_options.gallery_height);t.height=i}else t.overflow="visible";g_options.gallery_background_color&&(t["background-color"]=g_options.gallery_background_color),g_objWrapper.css(t)}function fillItemByChild(e){var i=t.isMobileMode(),n=e.prop("tagName").toLowerCase(),r="";if("a"==n){r=e.attr("href"),e=e.children();n=e.prop("tagName").toLowerCase()}var o=e.data("type");null==o&&(o="image");var a={};if(a.type=o,"img"==n){var s=e.data("lazyload-src");s&&""!=s&&(e.attr("src",s),jQuery.removeData(e,"lazyload-src"));var l=e.data("image"),u=e.data("thumb");void 0===l&&(l=null),void 0===u&&(u=null);var d=e.attr("src");l||(l=d),u||(u=d),u||(u=l),l||(l=u),a.urlThumb=u,a.urlImage=l,a.title=e.attr("alt"),a.objThumbImage=e,a.objThumbImage.attr("src",a.urlThumb)}else{if("image"==o)throw trace("Problematic gallery item found:"),trace(e),trace("Please look for some third party js script that could add this item to the gallery"),new Error("The item should not be image type");a.urlThumb=e.data("thumb"),a.title=e.data("title"),a.objThumbImage=null,a.urlImage=e.data("image")}if(1==i){var c=e.data("thumb-mobile");void 0!==c&&""!=c&&(a.urlThumb=c,"img"==n&&e.attr("src",a.urlThumb));var h=e.data("image-mobile");void 0!==h&&""!=h&&(a.urlImage=h)}a.link=r,a.description=e.attr("title"),a.description||(a.description=e.data("description")),a.description||(a.description=""),a.isNewAdded=!1,a.isLoaded=!1,a.isThumbImageLoaded=!1,a.objPreloadImage=null,a.isBigImageLoadStarted=!1,a.isBigImageLoaded=!1,a.isBigImageLoadError=!1,a.imageWidth=0,a.imageHeight=0,a.thumbWidth=0,a.thumbHeight=0,a.thumbRatioByWidth=0,a.thumbRatioByHeight=0;var g=e.data("width"),p=e.data("height");g&&"number"==typeof g&&p&&"number"==typeof p&&(a.thumbWidth=g,a.thumbHeight=p,a.thumbRatioByWidth=g/p,a.thumbRatioByHeight=p/g),a.addHtml=null;var f=null==a.urlImage||""==a.urlImage,_=null==a.urlThumb||""==a.urlThumb;switch(a.type){case"youtube":if(a.videoid=e.data("videoid"),f||_){var m=g_ugYoutubeAPI.getVideoImages(a.videoid);f&&(a.urlImage=m.preview),_&&(a.urlThumb=m.thumb,"img"==n&&e.attr("src",a.urlThumb))}g_temp.isYoutubePresent=!0;break;case"vimeo":a.videoid=e.data("videoid"),g_temp.isVimeoPresent=!0;break;case"html5video":a.videoogv=e.data("videoogv"),a.videowebm=e.data("videowebm"),a.videomp4=e.data("videomp4"),g_temp.isHtml5VideoPresent=!0;break;case"soundcloud":a.trackid=e.data("trackid"),g_temp.isSoundCloudPresent=!0;break;case"wistia":a.videoid=e.data("videoid"),g_temp.isWistiaPresent=!0;break;case"custom":var v=e.children("img");v.length&&(v=jQuery(v[0]),a.urlThumb=v.attr("src"),a.title=v.attr("alt"),a.objThumbImage=v);var b=e.children().not("img:first-child");b.length&&(a.addHtml=b.clone())}return a.objThumbImage&&(a.objThumbImage.removeAttr("data-description",""),a.objThumbImage.removeAttr("data-image",""),a.objThumbImage.removeAttr("data-thumb",""),a.objThumbImage.removeAttr("title","")),a}function fillItemsArray(e,t){if(!0!==t)g_arrItems=[];else for(var i=0;g_numItems>i;i++)g_arrItems[i].isNewAdded=!1;for(i=0;i<e.length;i++){var n=jQuery(e[i]),r=fillItemByChild(n);numIndex=g_arrItems.length,r.index=numIndex,!0===t&&(r.isNewAdded=!0),g_arrItems.push(r)}g_numItems=g_arrItems.length}function loadAPIs(){g_temp.isYoutubePresent&&g_ugYoutubeAPI.loadAPI(),g_temp.isVimeoPresent&&g_ugVimeoAPI.loadAPI(),g_temp.isHtml5VideoPresent&&g_ugHtml5MediaAPI.loadAPI(),g_temp.isSoundCloudPresent&&g_ugSoundCloudAPI.loadAPI(),g_temp.isWistiaPresent&&g_ugWistiaAPI.loadAPI()}function preloadBigImages(){if("visible"!=g_options.gallery_images_preload_type||g_objThumbs||(g_options.gallery_images_preload_type="minimal"),1==g_temp.isAllItemsPreloaded)return!0;switch(g_options.gallery_images_preload_type){default:case"minimal":break;case"all":jQuery(g_arrItems).each(function(){preloadItemImage(this)});break;case"visible":jQuery(g_arrItems).each(function(){var e=this,t=g_objThumbs.isItemThumbVisible(e);1==t&&preloadItemImage(e)})}}function checkPreloadItemImage(e){if(1==e.isBigImageLoadStarted||1==e.isBigImageLoaded||1==e.isBigImageLoadError)return!1;switch(g_options.gallery_images_preload_type){default:case"minimal":break;case"all":preloadItemImage(e);break;case"visible":var t=g_objThumbs.isItemThumbVisible(e);1==t&&preloadItemImage(e)}}function preloadItemImage(e){if(1==e.isBigImageLoadStarted||1==e.isBigImageLoaded||1==e.isBigImageLoadError)return!0;var i=e.urlImage;return""==i||null==i?(e.isBigImageLoadError=!0,!1):(e.isBigImageLoadStarted=!0,e.objPreloadImage=jQuery("<img/>").attr("src",i),e.objPreloadImage.data("itemIndex",e.index),e.objPreloadImage.on("load",t.onItemBigImageLoaded),e.objPreloadImage.on("error",function(){var e=jQuery(this),i=e.data("itemIndex"),n=g_arrItems[i];n.isBigImageLoadError=!0,n.isBigImageLoaded=!1;var r=jQuery(this).attr("src");console.log("Can't load image: "+r),g_objGallery.trigger(t.events.ITEM_IMAGE_UPDATED,[i,n.urlImage]),n.objThumbImage.attr("src",n.urlThumb)}),void checkAllItemsStartedPreloading())}function preloadNearBigImages(e){if(1==g_temp.isAllItemsPreloaded)return!1;if(!e)e=g_selectedItem;if(!e)return!0;var t=e.index,i=t-1,n=t+1;i>0&&preloadItemImage(g_arrItems[i]),g_numItems>n&&preloadItemImage(g_arrItems[n])}function checkAllItemsStartedPreloading(){if(1==g_temp.isAllItemsPreloaded)return!1;for(var e in g_arrItems)if(0==g_arrItems[e].isBigImageLoadStarted)return!1;g_temp.isAllItemsPreloaded=!0}function __________END_INIT_GALLERY_______(){}function __________EVENTS_____________(){}function onSliderMouseEnter(e){
1==g_options.gallery_pause_on_mouseover&&0==t.isFullScreen()&&1==g_temp.isPlayMode&&g_objSlider&&0==g_objSlider.isSlideActionActive()&&t.pausePlaying()}function onSliderMouseLeave(e){if(1==g_options.gallery_pause_on_mouseover&&1==g_temp.isPlayMode&&g_objSlider&&0==g_objSlider.isSlideActionActive()){var i=g_objSlider.isCurrentSlideLoadingImage();0==i&&t.continuePlaying()}}function onKeyPress(e){var i=jQuery(e.target);if(i.is("textarea")||i.is("select")||i.is("input"))return!0;var n=e.charCode?e.charCode:e.keyCode?e.keyCode:e.which?e.which:0,r=!0;switch(n){case 39:t.nextItem();break;case 37:t.prevItem();break;default:r=!1}1==r&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()),g_objGallery.trigger(t.events.GALLERY_KEYPRESS,[n,e])}function onGalleryResized(){var e=t.getSize();if(0==e.width)return!0;t.setSizeClass();e=t.getSize();if(e.width!=g_temp.lastWidth||0==g_temp.isFreestyleMode&&e.height!=g_temp.lastHeight){var i=!1;if(g_temp.funcCustomHeight){var n=g_temp.funcCustomHeight(e);n&&(g_objWrapper.height(n),i=!0)}0==i&&1==g_options.gallery_preserve_ratio&&0==g_temp.isFreestyleMode&&setHeightByOriginalRatio(),storeLastSize(),g_objGallery.trigger(t.events.SIZE_CHANGE)}}function onThumbsChange(e){"visible"==g_options.gallery_images_preload_type&&0==g_temp.isAllItemsPreloaded&&preloadBigImages()}function onFullScreenChange(){var e=g_functions.isFullScreen(),i=e?t.events.ENTER_FULLSCREEN:t.events.EXIT_FULLSCREEN,n=g_functions.getGlobalData("fullscreenID");return g_galleryID!==n||(e?g_objWrapper.addClass("ug-fullscreen"):g_objWrapper.removeClass("ug-fullscreen"),g_objGallery.trigger(i),void onGalleryResized())}function onItemImageUpdated(e,i){var n=t.getItem(i);checkPreloadItemImage(n)}function onCurrentSlideImageLoadEnd(){1==t.isPlayMode()&&t.continuePlaying()}function initEvents(){if(g_objWrapper.on("dragstart",function(e){e.preventDefault()}),g_objGallery.on(t.events.ITEM_IMAGE_UPDATED,onItemImageUpdated),g_objThumbs)switch(g_temp.thumbsType){case"strip":jQuery(g_objThumbs).on(g_objThumbs.events.STRIP_MOVE,onThumbsChange);break;case"grid":jQuery(g_objThumbs).on(g_objThumbs.events.PANE_CHANGE,onThumbsChange)}if("advance"==g_options.gallery_mousewheel_role&&0==g_temp.isFreestyleMode&&g_objWrapper.on("mousewheel",t.onGalleryMouseWheel),storeLastSize(),jQuery(window).resize(function(){g_objWrapper.css("width","auto"),g_functions.whenContiniousEventOver("gallery_resize",onGalleryResized,g_temp.resizeDelay)}),setTimeout(function(){setInterval(onGalleryResized,2e3)},1e4),g_functions.addFullScreenChangeEvent(onFullScreenChange),g_objSlider){if(jQuery(g_objSlider).on(g_objSlider.events.ITEM_CHANGED,function(){var e=g_objSlider.getCurrentItemIndex();-1!=e&&t.selectItem(e)}),1==g_options.gallery_pause_on_mouseover){var e=g_objSlider.getElement();e.hover(onSliderMouseEnter,onSliderMouseLeave),g_objGallery.on(t.events.ENTER_FULLSCREEN,function(){onSliderMouseLeave()})}retriggerEvent(g_objSlider,g_objSlider.events.ACTION_START,t.events.SLIDER_ACTION_START),retriggerEvent(g_objSlider,g_objSlider.events.ACTION_END,t.events.SLIDER_ACTION_END),jQuery(g_objSlider).on(g_objSlider.events.CURRENTSLIDE_LOAD_END,onCurrentSlideImageLoadEnd)}1==g_options.gallery_control_keyboard&&jQuery(document).keydown(onKeyPress)}function __________GENERAL_______(){}function cacheItems(e,t){if(t){var i=t;"noitems"!=i&&(i=jQuery(t).clone())}else i=g_objWrapper.children().clone();g_objCache[e]=i}function removeAllSizeClasses(e){e||(e=g_objWrapper),e.removeClass("ug-under-480"),e.removeClass("ug-under-780"),e.removeClass("ug-under-960")}function retriggerEvent(e,t,i){jQuery(e).on(t,function(e){g_objGallery.trigger(i,[this])})}function advanceNextStep(){var e=jQuery.now(),i=e-g_temp.playTimeLastStep;g_temp.playTimeLastStep=e;var n=t.isGalleryVisible();if(0==n)return!1;if(g_temp.playTimePassed+=i,g_temp.objProgress){var r=g_temp.playTimePassed/g_options.gallery_play_interval;g_temp.objProgress.setProgress(r)}g_temp.playTimePassed>=g_options.gallery_play_interval&&(t.nextItem(),g_temp.playTimePassed=0)}function unselectSeletedItem(){return null==g_selectedItem||(g_objThumbs&&g_objThumbs.setThumbUnselected(g_selectedItem.objThumbWrapper),g_selectedItem=null,void(g_selectedItemIndex=-1))}function toFakeFullScreen(){jQuery("body").addClass("ug-body-fullscreen"),g_objWrapper.addClass("ug-fake-fullscreen"),g_temp.isFakeFullscreen=!0,g_objGallery.trigger(t.events.ENTER_FULLSCREEN),g_objGallery.trigger(t.events.SIZE_CHANGE)}function exitFakeFullscreen(){jQuery("body").removeClass("ug-body-fullscreen"),g_objWrapper.removeClass("ug-fake-fullscreen"),g_temp.isFakeFullscreen=!1,g_objGallery.trigger(t.events.EXIT_FULLSCREEN),g_objGallery.trigger(t.events.SIZE_CHANGE)}var t=this,g_galleryID,g_objGallery=jQuery(t),g_objWrapper,g_objParent,g_objThumbs,g_objSlider,g_functions=new UGFunctions,g_objTabs,g_objLoadMore,g_arrItems=[],g_numItems,g_selectedItem=null,g_selectedItemIndex=-1,g_objTheme,g_objCache={};this.events={ITEM_CHANGE:"item_change",SIZE_CHANGE:"size_change",ENTER_FULLSCREEN:"enter_fullscreen",EXIT_FULLSCREEN:"exit_fullscreen",START_PLAY:"start_play",STOP_PLAY:"stop_play",PAUSE_PLAYING:"pause_playing",CONTINUE_PLAYING:"continue_playing",SLIDER_ACTION_START:"slider_action_start",SLIDER_ACTION_END:"slider_action_end",ITEM_IMAGE_UPDATED:"item_image_updated",GALLERY_KEYPRESS:"gallery_keypress",GALLERY_BEFORE_REQUEST_ITEMS:"gallery_before_request_items",OPEN_LIGHTBOX:"open_lightbox",CLOSE_LIGHTBOX:"close_lightbox"};var g_options={gallery_width:900,gallery_height:500,gallery_min_width:150,gallery_min_height:100,gallery_theme:"default",gallery_skin:"default",gallery_images_preload_type:"minimal",gallery_autoplay:!1,gallery_play_interval:3e3,gallery_pause_on_mouseover:!0,gallery_mousewheel_role:"zoom",gallery_control_keyboard:!0,gallery_carousel:!0,gallery_preserve_ratio:!0,gallery_background_color:"",gallery_debug_errors:!1,gallery_shuffle:!1,gallery_urlajax:null,gallery_enable_tabs:!1,gallery_enable_loadmore:!1,gallery_enable_cache:!0,gallery_initial_catid:""},g_temp={objCustomOptions:{},isAllItemsPreloaded:!1,isFreestyleMode:!1,lastWidth:0,lastHeigh:0,handleResize:null,isInited:!1,isPlayMode:!1,isPlayModePaused:!1,playTimePassed:0,playTimeLastStep:0,playHandle:"",playStepInterval:33,objProgress:null,isFakeFullscreen:!1,thumbsType:null,isYoutubePresent:!1,isVimeoPresent:!1,isHtml5VideoPresent:!1,isSoundCloudPresent:!1,isWistiaPresent:!1,resizeDelay:100,isRunFirstTime:!0,originalOptions:{},funcCustomHeight:null};this.onItemBigImageLoaded=function(e,t){if(!t)t=jQuery(this);var i=t.data("itemIndex"),n=g_arrItems[i];n.isBigImageLoaded=!0;var r=g_functions.getImageOriginalSize(t);n.imageWidth=r.width,n.imageHeight=r.height},this.checkFillImageSize=function(e,t){if(!t){var i=e.data("itemIndex");if(void 0===i)throw new Error("Wrong image given to gallery.checkFillImageSize");t=g_arrItems[i]}var n=g_functions.getImageOriginalSize(e);t.imageWidth=n.width,t.imageHeight=n.height},this.setFreestyleMode=function(){g_temp.isFreestyleMode=!0},this.attachThumbsPanel=function(e,t){g_temp.thumbsType=e,g_objThumbs=t},this.initSlider=function(e,i){if(!e)e={};e=jQuery.extend(g_temp.objCustomOptions,e),g_objSlider=new UGSlider,g_objSlider.init(t,e,i)},this.onGalleryMouseWheel=function(e,i,n,r){e.preventDefault(),i>0?t.prevItem():t.nextItem()},this.destroy=function(){if(g_objWrapper.off("dragstart"),g_objGallery.off(t.events.ITEM_IMAGE_UPDATED),g_objThumbs)switch(g_temp.thumbsType){case"strip":jQuery(g_objThumbs).off(g_objThumbs.events.STRIP_MOVE);break;case"grid":jQuery(g_objThumbs).off(g_objThumbs.events.PANE_CHANGE)}if(g_objWrapper.off("mousewheel"),jQuery(window).off("resize"),g_functions.destroyFullScreenChangeEvent(),g_objSlider){jQuery(g_objSlider).off(g_objSlider.events.ITEM_CHANGED);var e=g_objSlider.getElement();e.off("mouseenter"),e.off("mouseleave"),g_objGallery.off(t.events.ENTER_FULLSCREEN),jQuery(g_objSlider).off(g_objSlider.events.ACTION_START),jQuery(g_objSlider).off(g_objSlider.events.ACTION_END),jQuery(g_objSlider).off(g_objSlider.events.CURRENTSLIDE_LOAD_END)}1==g_options.gallery_control_keyboard&&jQuery(document).off("keydown"),g_objTheme&&"function"==typeof g_objTheme.destroy&&g_objTheme.destroy(),g_objWrapper.html("")},this.getArrItems=function(){return g_arrItems},this.getObjects=function(){var e={g_galleryID:g_galleryID,g_objWrapper:g_objWrapper,g_objThumbs:g_objThumbs,g_objSlider:g_objSlider,g_options:g_options,g_arrItems:g_arrItems,g_numItems:g_numItems};return e},this.getObjSlider=function(){return g_objSlider},this.getItem=function(e){if(0>e)throw new Error("item with index: "+e+" not found");if(e>=g_numItems)throw new Error("item with index: "+e+" not found");return g_arrItems[e]},this.getWidth=function(){var e=t.getSize();return e.width},this.getHeight=function(){var e=t.getSize();return e.height},this.getSize=function(){var e=g_functions.getElementSize(g_objWrapper);return e.orig_width=g_options.gallery_width,e.orig_height=g_options.gallery_height,e.orig_ratio=e.orig_width/e.orig_height,e},this.getGalleryID=function(){var e=g_galleryID.replace("#","");return e},this.getNextItem=function(e,t){"object"==typeof e&&(e=e.index);var i=e+1;if(!0!==t&&1==g_numItems)return null;if(i>=g_numItems){if(1!=g_options.gallery_carousel&&!0!==t)return null;i=0}var n=g_arrItems[i];return n},this.getPrevItem=function(e){"object"==typeof e&&(e=e.index);var t=e-1;if(0>t){if(1!=g_options.gallery_carousel&&!0!==forceCarousel)return null;t=g_numItems-1}var i=g_arrItems[t];return i},this.getSelectedItem=function(){return g_selectedItem},this.getSelectedItemIndex=function(){return g_selectedItemIndex},this.getNumItems=function(){return g_numItems},this.isLastItem=function(){return g_selectedItemIndex==g_numItems-1},this.isFirstItem=function(){return 0==g_selectedItemIndex},this.getOptions=function(){return g_options},this.getElement=function(){return g_objWrapper},this.___________SET_CONTROLS___________=function(){},this.setNextButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnClick(e,t.nextItem)},this.setPrevButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnClick(e,t.prevItem)},this.setFullScreenToggleButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnTap(e,t.toggleFullscreen),g_objGallery.on(t.events.ENTER_FULLSCREEN,function(){e.addClass("ug-fullscreenmode")}),g_objGallery.on(t.events.EXIT_FULLSCREEN,function(){e.removeClass("ug-fullscreenmode")})},this.destroyFullscreenButton=function(e){g_functions.destroyButton(e),g_objGallery.off(t.events.ENTER_FULLSCREEN),g_objGallery.off(t.events.EXIT_FULLSCREEN)},this.setPlayButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnClick(e,t.togglePlayMode),g_objGallery.on(t.events.START_PLAY,function(){e.addClass("ug-stop-mode")}),g_objGallery.on(t.events.STOP_PLAY,function(){e.removeClass("ug-stop-mode")})},this.destroyPlayButton=function(e){g_functions.destroyButton(e),g_objGallery.off(t.events.START_PLAY),g_objGallery.off(t.events.STOP_PLAY)},this.setProgressIndicator=function(e){g_temp.objProgress=e},this.setTextContainers=function(e,i){g_objGallery.on(t.events.ITEM_CHANGE,function(){var n=t.getSelectedItem();e.html(n.title),i.html(n.description)})},this.showDisabledOverlay=function(){g_objWrapper.children(".ug-overlay-disabled").show()},this.hideDisabledOverlay=function(){g_objWrapper.children(".ug-overlay-disabled").hide()},this.___________END_SET_CONTROLS___________=function(){},this.___________PLAY_MODE___________=function(){},this.startPlayMode=function(){if(g_temp.isPlayMode=!0,g_temp.isPlayModePaused=!1,g_temp.playTimePassed=0,g_temp.playTimeLastStep=jQuery.now(),g_temp.playHandle=setInterval(advanceNextStep,g_temp.playStepInterval),g_temp.objProgress){var e=g_temp.objProgress.getElement();g_temp.objProgress.setProgress(0),e.show()}g_objGallery.trigger(t.events.START_PLAY),g_objSlider&&1==g_objSlider.isCurrentSlideLoadingImage()&&t.pausePlaying()},this.resetPlaying=function(){return 0==g_temp.isPlayMode||(g_temp.playTimePassed=0,void(g_temp.playTimeLastStep=jQuery.now()))},this.pausePlaying=function(){return 1==g_temp.isPlayModePaused||(g_temp.isPlayModePaused=!0,clearInterval(g_temp.playHandle),void g_objGallery.trigger(t.events.PAUSE_PLAYING))},this.continuePlaying=function(){return 0==g_temp.isPlayModePaused||(g_temp.isPlayModePaused=!1,g_temp.playTimeLastStep=jQuery.now(),void(g_temp.playHandle=setInterval(advanceNextStep,g_temp.playStepInterval)))},this.stopPlayMode=function(){if(g_temp.isPlayMode=!1,clearInterval(g_temp.playHandle),g_temp.playTimePassed=0,g_temp.objProgress){var e=g_temp.objProgress.getElement();e.hide()}g_objGallery.trigger(t.events.STOP_PLAY)},this.isPlayMode=function(){return g_temp.isPlayMode},this.togglePlayMode=function(){0==t.isPlayMode()?t.startPlayMode():t.stopPlayMode()},this.___________GENERAL_EXTERNAL___________=function(){},this.shuffleItems=function(){for(var e in g_arrItems=g_functions.arrayShuffle(g_arrItems),g_arrItems)g_arrItems[e].index=parseInt(e)},this.setOptions=function(e){g_options=jQuery.extend(g_options,e)},this.selectItem=function(e,i){"number"==typeof e&&(e=t.getItem(e));var n=e.index;if(n==g_selectedItemIndex)return!0;if(unselectSeletedItem(),g_selectedItem=e,g_selectedItemIndex=n,g_objGallery.trigger(t.events.ITEM_CHANGE,[e,i]),1==g_temp.isPlayMode){t.resetPlaying();var r=g_objSlider.isCurrentSlideLoadingImage();1==r&&t.pausePlaying()}},this.nextItem=function(){var e=g_selectedItemIndex+1;return 0==g_numItems||(0==g_options.gallery_carousel&&e>=g_numItems||(e>=g_numItems&&(e=0),void t.selectItem(e,"next")))},this.prevItem=function(){var e=g_selectedItemIndex-1;return-1==g_selectedItemIndex&&(e=0),0==g_numItems||(0==g_options.gallery_carousel&&0>e||(0>e&&(e=g_numItems-1),void t.selectItem(e,"prev")))},this.isFullScreen=function(){return 1==g_temp.isFakeFullscreen||1==g_functions.isFullScreen()},this.isFakeFullscreen=function(){return g_temp.isFakeFullscreen},this.toFullScreen=function(){g_functions.setGlobalData("fullscreenID",g_galleryID);var e=g_objWrapper.get(0),t=g_functions.toFullscreen(e);0==t&&toFakeFullScreen()},this.exitFullScreen=function(){1==g_temp.isFakeFullscreen?exitFakeFullscreen():g_functions.exitFullscreen()},this.toggleFullscreen=function(){0==t.isFullScreen()?t.toFullScreen():t.exitFullScreen()},this.resize=function(e,t,i){g_objWrapper.css("width","auto"),g_objWrapper.css("max-width",e+"px"),t&&g_objWrapper.height(t),i||!0===i||onGalleryResized()},this.setSizeClass=function(e,i){if(!e)e=g_objWrapper;if(!i){var n=t.getSize();i=n.width}if(0==i)i=jQuery(window).width();var r="";return 480>=i?r="ug-under-480":780>=i?r="ug-under-780":960>i&&(r="ug-under-960"),1==e.hasClass(r)||(removeAllSizeClasses(e),void(""!=r&&e.addClass(r)))},this.isMobileMode=function(){return!!g_objWrapper.hasClass("ug-under-480")},this.isSmallWindow=function(){var e=jQuery(window).width();return!e||480>=e},this.isGalleryVisible=function(){var e=g_objWrapper.is(":visible");return e},this.changeItems=function(e,t){if(!e)e="noitems";runGallery(g_galleryID,"nochange",e,t)},this.addItems=function(e){if(!e||0==e.length)return!1;var t=g_objWrapper.children(".ug-newitems-wrapper");0==t.length&&g_objWrapper.append("<div class='ug-newitems-wrapper' style='display:none'></div>"),t=g_objWrapper.children(".ug-newitems-wrapper"),t.append(e);var i=jQuery(t.children());if(fillItemsArray(i,!0),loadAPIs(),!g_objTheme||"function"!=typeof g_objTheme.addItems)throw new Error("addItems function not found in the theme");t.remove(),g_objTheme.addItems()},this.getNewAddedItemsIndexes=function(){var e=[];return jQuery.each(g_arrItems,function(t,i){1==i.isNewAdded&&e.push(t)}),e},this.showErrorMessageReplaceGallery=function(e){showErrorMessage(e)},this.setFuncCustomHeight=function(e){g_temp.funcCustomHeight=e},this.__________EXTERNAL_EVENTS_______=function(){},this.triggerEvent=function(e,t){t?("array"!=jQuery.type(t)&&(t=[t]),g_objGallery.trigger(e,t)):g_objGallery.trigger(e)},this.onEvent=function(e,t){g_objGallery.on(e,t)},this.destroyEvent=function(e){g_objGallery.off(e)},this.__________AJAX_REQUEST_______=function(){},this.ajaxRequest=function(e,t,i,n){if(!i||"function"!=typeof i)throw new Error("ajaxRequest error: success function should be passed");var r=g_options.gallery_urlajax;if(!r||""==r)throw new Error("ajaxRequest error: Ajax url don't passed");if(void 0===t)t={};var o={action:"unitegallery_ajax_action",client_action:e,galleryID:g_galleryID,data:t};jQuery.ajax({type:"post",url:g_options.gallery_urlajax,dataType:"json",data:o,success:function(e){if(!e)throw new Error("Empty ajax response!");if(-1==e||0===e)throw new Error("ajax error!!!");if(void 0===e.success)throw new Error("ajax error!!!");return 0==e.success?(showErrorMessage(e.message,"ajax error"),!1):void i(e)},error:function(e,t,i){console.log("Ajax Error!!! "+t),responseText=e.responseText,n&&"function"==typeof n?n(responseText):trace(responseText)}})},this.requestNewItems=function(e,i,n){var r=g_options.gallery_enable_cache;if(n||(n=e),1==i&&(r=!1),1==r&&g_objCache.hasOwnProperty(n)){var o=g_objCache[n];t.changeItems(o,n)}else g_objGallery.trigger(t.events.GALLERY_BEFORE_REQUEST_ITEMS),t.ajaxRequest("front_get_cat_items",{catid:e},function(e){var i=e.html;t.changeItems(i,n)})},this.run=function(e,t){if(g_options.gallery_debug_errors,t&&t.hasOwnProperty("gallery_debug_errors")&&(g_options.gallery_debug_errors=t.gallery_debug_errors),1==g_options.gallery_debug_errors)try{runGallery(e,t)}catch(e){if("object"==typeof e){var i=e.message,n=e.lineNumber,r=e.fileName;e.stack,i+=" <br><br> in file: "+r,i+=" <b> line "+n+"</b>",trace(e)}else i=e;i=i.replace("Error:",""),showErrorMessage(i)}else runGallery(e,t)}}function UGLightbox(){function e(e,i){ie=e,$=jQuery(e),ae=jQuery.extend(ae,le),ae=jQuery.extend(ae,i),se.originalOptions=jQuery.extend({},ae),"compact"==ae.lightbox_type&&(se.isCompact=!0,ae=jQuery.extend(ae,ue),ae=jQuery.extend(ae,i)),t(),1==se.putSlider?(ie.initSlider(ae,"lightbox"),g_objects=e.getObjects(),ne=g_objects.g_objSlider):ne=null,1==ae.lightbox_show_textpanel?oe.init(ie,ae,"lightbox"):oe=null}function t(){1==se.isCompact&&1==ae.lightbox_show_textpanel&&(ae.lightbox_slider_image_padding_bottom=se.initTextPanelHeight),1==se.isCompact&&"inside"==ae.lightbox_arrows_position&&(se.isArrowsInside=!0),1==se.isArrowsInside&&0==ae.lightbox_arrows_inside_alwayson&&(se.isArrowsOnHoverMode=!0),0==ae.lightbox_show_textpanel&&(se.isTopPanelEnabled=!1,se.topPanelHeight=0,ae.lightbox_slider_image_padding_top=0)}function i(){var e="",t="";1==se.isCompact&&(t=" ug-lightbox-compact"),e+="<div class='ug-gallery-wrapper ug-lightbox"+t+"'>",e+="<div class='ug-lightbox-overlay'></div>",0==se.isCompact&&se.isTopPanelEnabled?(e+="<div class='ug-lightbox-top-panel'>",e+="<div class='ug-lightbox-top-panel-overlay'></div>",ae.lightbox_show_numbers&&(e+="<div class='ug-lightbox-numbers'></div>"),e+="</div>"):ae.lightbox_show_numbers&&(e+="<div class='ug-lightbox-numbers'></div>"),e+="<div class='ug-lightbox-button-close'></div>",e+="<div class='ug-lightbox-arrow-left'></div>",e+="<div class='ug-lightbox-arrow-right'></div>",e+="</div>",U=jQuery(e),jQuery("body").append(U),ne&&ne.setHtml(U),V=U.children(".ug-lightbox-overlay"),0==se.isCompact&&1==se.isTopPanelEnabled&&(J=U.children(".ug-lightbox-top-panel"),0==J.length&&(J=null)),Z=U.find(".ug-lightbox-button-close"),ae.lightbox_show_numbers&&(K=U.find(".ug-lightbox-numbers")),q=U.children(".ug-lightbox-arrow-left"),X=U.children(".ug-lightbox-arrow-right"),oe&&(J?oe.appendHTML(J):oe.appendHTML(U))}function n(){if(null!==ae.lightbox_overlay_color&&V.css("background-color",ae.lightbox_overlay_color),null!==ae.lightbox_overlay_opacity&&V.fadeTo(0,ae.lightbox_overlay_opacity),J&&null!==ae.lightbox_top_panel_opacity&&J.children(".ug-lightbox-top-panel-overlay").fadeTo(0,ae.lightbox_top_panel_opacity),K){var e={};null!==ae.lightbox_numbers_size&&(e["font-size"]=ae.lightbox_numbers_size+"px"),ae.lightbox_numbers_color&&(e.color=ae.lightbox_numbers_color),null!==ae.lightbox_numbers_padding_right&&(e["padding-right"]=ae.lightbox_numbers_padding_right+"px"),null!==ae.lightbox_numbers_padding_top&&(e["padding-top"]=ae.lightbox_numbers_padding_top+"px"),K.css(e)}}function r(e){if(!ne)return!0;var t={slider_image_padding_top:e};ne.setOptions(t),ne.refreshSlideItems()}function o(e){if(!J)return!1;if(!oe)return!1;var t=J.height();if(0==t)return!1;if(0==J.is(":visible"))return!1;var i=t,n=oe.getSize(),o=n.height;t!=se.topPanelHeight&&(i=se.topPanelHeight),o>i&&(i=o),t!=i&&(J.height(i),ne&&0==ne.isAnimating()&&r(i))}function a(e){var t={},i=ae.lightbox_textpanel_width,n=47,r=40,a=e.width-n-r;i>a?(t.textpanel_padding_left=n,t.textpanel_padding_right=r,t.textpanel_title_text_align="center",t.textpanel_desc_text_align="center"):(t.textpanel_padding_left=Math.floor((e.width-i)/2),t.textpanel_padding_right=t.textpanel_padding_left,t.textpanel_title_text_align="left",t.textpanel_desc_text_align="left",ae.lightbox_textpanel_title_text_align&&(t.textpanel_title_text_align=ae.lightbox_textpanel_desc_text_align),ae.lightbox_textpanel_desc_text_align&&(t.textpanel_desc_text_align=ae.lightbox_textpanel_desc_text_align)),oe.setOptions(t),oe.refresh(!0,!0),o("positionTextPanelWide"),oe.positionPanel()}function s(){return!!J&&void J.hide()}function l(){return!!J&&void J.show()}function u(e){if(0==se.isOpened)return!1;if(!oe)return!1;if(!ne)return!1;var t=re.getElementSize(U),i=oe.getSize();if(0==i.width||i.height>120)return!1;if(!e){var n=ne.getSlideImage();e=re.getElementSize(n)}if(0==e.height||0==e.width)return!1;var r=e.bottom+i.height;if(r<t.height)return!1;var o=ne.getOptions(),a=i.height;if(a!=o.slider_image_padding_bottom){var s={slider_image_padding_bottom:a};if(0==ne.isAnimating())return ne.setOptions(s),ne.refreshSlideItems(),!0}return!1}function d(e,t){if(!e){var i=ne.getSlideImage();e=re.getElementSize(i)}se.textPanelTop=e.bottom,!0===t&&oe.positionPanel(se.textPanelTop,se.textPanelLeft)}function c(e){var t=(re.getElementSize(U),ne.getSlideImage()),i=re.getElementSize(t);if(0==i.width)return!1;se.textPanelLeft=i.left,se.textPanelTop=i.bottom;var n=i.width;if(K){var r=re.getElementSize(K);n-=r.width;var o=i.right-r.width;re.placeElement(K,o,se.textPanelTop)}oe&&(oe.show(),oe.refresh(!0,!0,n),d(i));var a=u(i);0==a&&(se.positionFrom="handleCompactTextpanelSizes",oe&&(oe.positionPanel(se.textPanelTop,se.textPanelLeft),!0===e&&(e(),C())))}function h(){if(0==ne.isCurrentSlideType("image"))return!0;var e=1==ne.isCurrentImageInPlace();return e}function g(e,t){if(0==se.isArrowsInside)return!1;if(!q)return!1;var i=h();if(q.show(),X.show(),se.positionFrom="positionArrowsInside",1==se.isArrowsOnHoverMode&&1==i&&0==y()&&w(!0),0==i)var n=re.getElementRelativePos(q,"left",ae.lightbox_arrows_offset),r=re.getElementRelativePos(q,"middle"),o=re.getElementRelativePos(X,"right",ae.lightbox_arrows_offset),a=r;else{var s=ne.getSlideImage(),l=re.getElementSize(s);n=(re.getElementSize(ne.getElement()),re.getElementRelativePos(q,"left",0,s)+l.left+ae.lightbox_arrows_inside_offset),r=re.getElementRelativePos(q,"middle",0,s)+l.top,o=re.getElementRelativePos(q,"right",0,s)+l.left-ae.lightbox_arrows_inside_offset,a=r}if(!0===t){var u={left:n,top:r},d={left:o,top:a};q.stop().animate(u,{duration:se.fadeDuration}),X.stop().animate(d,{duration:se.fadeDuration})}else q.stop(),X.stop(),re.placeElement(q,n,r),re.placeElement(X,o,a);1==e&&S(t)}function p(e,t){se.positionFrom=null;var i=h(),n=2,r=re.getElementRelativePos(Z,"right",2,U);if(0==i)var o=n,a=r;else{var s=ne.getSlideImage(),l=re.getElementSize(s),u=re.getElementSize(ne.getElement()),d=re.getElementSize(Z);u.top==u.height&&(u.top=0);a=u.left+l.right-d.width/2+ae.lightbox_compact_closebutton_offsetx,o=u.top+l.top-d.height/2-ae.lightbox_compact_closebutton_offsety;n>o&&(o=n),a>r&&(a=r)}if(!0===t){var c={left:a,top:o};Z.stop().animate(c,{duration:se.fadeDuration})}else Z.stop(),re.placeElement(Z,a,o);!0===e&&x(t)}function f(){Z&&Z.stop().fadeTo(se.fadeDuration,0),v(),b(),se.positionFrom="hideCompactElements",1==se.isArrowsInside&&w()}function _(){Z&&Z.hide(),q&&1==se.isArrowsInside&&(q.hide(),X.hide()),K&&K.hide(),oe&&oe.hide()}function m(){var e=re.getElementSize(U);J&&re.setElementSizeAndPosition(J,0,0,e.width,se.topPanelHeight),q&&0==se.isArrowsInside&&(1==ae.lightbox_hide_arrows_onvideoplay&&(q.show(),X.show()),re.placeElement(q,"left","middle",ae.lightbox_arrows_offset),re.placeElement(X,"right","middle",ae.lightbox_arrows_offset)),0==se.isCompact&&re.placeElement(Z,"right","top",2,2),oe&&(se.positionFrom="positionElements",0==se.isCompact?a(e):(P(),C()));var t=e.width,i=e.height,n=0,r=0;if(ne){if(J){var o=J.height(),s={slider_image_padding_top:o};ne.setOptions(s)}ne.setSize(t,i),ne.setPosition(r,n)}}function v(){oe&&oe.getElement().stop().fadeTo(se.fadeDuration,0)}function b(){K&&K.stop().fadeTo(se.fadeDuration,0)}function y(){if(!se.lastMouseX)return!0;var e={pageX:se.lastMouseX,pageY:se.lastMouseY},t=ne.isMouseInsideSlideImage(e);return t}function w(e,t){return!!q&&(1==se.isArrowsOnHoverMode&&!1===t?(y(),!0):void(!0===e?(q.stop().fadeTo(0,0),X.stop().fadeTo(0,0)):(q.stop().fadeTo(se.fadeDuration,0),X.stop().fadeTo(se.fadeDuration,0))))}function T(){if(!q)return!0;if(0==q.is(":visible"))return!0;var e=q.css("opacity");return 1!=e}function S(e,t){return!!q&&(1==se.isArrowsOnHoverMode&&!0!==t&&1==h()||(1==ne.isSwiping()||(!0!==e&&(q.stop(),X.stop()),q.fadeTo(se.fadeDuration,1),void X.fadeTo(se.fadeDuration,1))))}function x(e){!0!==e&&Z.stop(),Z.fadeTo(se.fadeDuration,1)}function I(e){if(!oe)return!1;if(!e)e=ne.getCurrentItem();oe.setTextPlain(e.title,e.description)}function E(e){if(!K)return!1;if(!e)e=ne.getCurrentItem();var t=ie.getNumItems(),i=e.index+1;K.html(i+" / "+t)}function P(){return!!oe&&void oe.getElement().show().stop().fadeTo(se.fadeDuration,1)}function C(){K&&K.stop().fadeTo(se.fadeDuration,1)}function j(){return 0==se.isCompact||void f()}function A(){if(0==se.isCompact)return!0;if(se.positionFrom="onZoomChange",p(!1,!0),g(!1,!0),1==se.isCompact){var e=ne.isCurrentSlideType("image")&&1==ne.isCurrentImageInPlace();0==e?(v(),b()):(se.positionFrom="onZoomChange",P(),C())}}function M(){if(0==se.isCompact)return!0;se.positionFrom="onSliderAfterReturn",p(!0),g(!0);var e=u();0==e&&c(),P(),C()}function O(e,t){return t=jQuery(t),0==se.isCompact||(0==ne.isSlideCurrent(t)||(se.positionFrom="onSliderAfterPutImage",p(!0),g(!0),void c()))}function k(){var e=ne.getOptions(),t=e.slider_image_padding_top;if(J){var i=J.height();i!=t&&r(i)}if(1==se.isCompact){if(I(),E(),se.positionFrom="onSliderTransitionEnd",p(!0),g(!0),0==ne.isSlideActionActive()){var n=u();0==n&&c()}P(),C()}}function N(e,t){0==se.isCompact?(K&&E(t),oe&&(I(t),0==se.isRightNowOpened&&(oe.positionElements(!1),o("onchange"),oe.positionPanel()))):0==ne.isAnimating()&&(oe&&I(t),K&&E(t)),0==se.isSliderChangedOnce&&(se.isSliderChangedOnce=!0,te.trigger(ee.events.LIGHTBOX_INIT))}function H(e,t){var i=ne.getSlideType();if("image"!=i&&0==se.isCompact&&ne.isSlideActionActive())return!0;var n=ne.isPreloading();if(1==n)return ee.close("slider"),!0;if(1==ae.lightbox_close_on_emptyspace){var r=ne.isMouseInsideSlideImage(t);0==r&&ee.close("slider_inside")}}function L(){m()}function z(){J?s():K&&K.hide(),q&&1==ae.lightbox_hide_arrows_onvideoplay&&(q.hide(),X.hide())}function D(){J?(l(),o("onStopVideo")):K&&K.show(),q&&1==ae.lightbox_hide_arrows_onvideoplay&&(q.show(),X.show())}function R(e,t,i){var n=!1;switch(t){case 27:1==se.isOpened&&ee.close("keypress");break;case 38:case 40:case 33:case 34:n=!0}1==se.isOpened&&1==n&&i.preventDefault()}function W(){1==se.isArrowsOnHoverMode&&S(!1,!0)}function G(e){se.positionFrom="hideCompactElements",1==se.isArrowsOnHoverMode&&1==h()&&w(!1,!0)}function Q(e){se.lastMouseX=e.pageX,se.lastMouseY=e.pageY;var t=T();1==t&&y()&&0==ne.isAnimating()&&(se.positionFrom="onMouseMove",q&&0==q.is(":animated")&&S(!1,!0))}function F(e,t,i,n){if(0==se.isOpened)return!0;switch(ae.gallery_mousewheel_role){default:case"zoom":var r=ne.getSlideType();"image"!=r&&e.preventDefault();break;case"none":e.preventDefault();break;case"advance":ie.onGalleryMouseWheel(e,t,i,n)}}function B(){if(V.on("touchstart",function(e){e.preventDefault()}),V.on("touchend",function(e){ee.close("overlay")}),re.addClassOnHover(X,"ug-arrow-hover"),re.addClassOnHover(q,"ug-arrow-hover"),re.addClassOnHover(Z),ie.setNextButton(X),ie.setPrevButton(q),Z.click(function(){ee.close("button")}),$.on(ie.events.ITEM_CHANGE,N),ne){jQuery(ne).on(ne.events.TRANSITION_END,k),jQuery(ne).on(ne.events.CLICK,H);var e=ne.getVideoObject();jQuery(e).on(e.events.PLAY_START,z),jQuery(e).on(e.events.PLAY_STOP,D),jQuery(ne).on(ne.events.START_DRAG,j),jQuery(ne).on(ne.events.TRANSITION_START,j),jQuery(ne).on(ne.events.AFTER_DRAG_CHANGE,M),jQuery(ne).on(ne.events.AFTER_RETURN,M),jQuery(ne).on(ne.events.AFTER_PUT_IMAGE,O),jQuery(ne).on(ne.events.ZOOM_CHANGE,A),jQuery(ne).on(ne.events.IMAGE_MOUSEENTER,W),jQuery(ne).on(ne.events.IMAGE_MOUSELEAVE,G)}jQuery(window).resize(function(){return 0==se.isOpened||void re.whenContiniousEventOver("lightbox_resize",L,100)}),$.on(ie.events.GALLERY_KEYPRESS,R),1==se.isArrowsOnHoverMode&&jQuery(document).bind("mousemove",Q),U.on("mousewheel",F)}function Y(){se.isCompact=!1,t(),se.isArrowsInside=!1,se.isArrowsOnHoverMode=!1,ae=jQuery.extend({},se.originalOptions),ae.lightbox_arrows_position="sides",ne.setOptions(ae)}var $,U,V,q,X,Z,K,J,ee=this,te=jQuery(this),ie=new UniteGalleryMain,ne=new UGSlider,re=new UGFunctions,oe=new UGTextPanel,ae={lightbox_type:"wide",lightbox_show_textpanel:!0,lightbox_textpanel_width:550,lightbox_hide_arrows_onvideoplay:!0,lightbox_arrows_position:"sides",lightbox_arrows_offset:10,lightbox_arrows_inside_offset:10,lightbox_arrows_inside_alwayson:!1,lightbox_overlay_color:null,lightbox_overlay_opacity:1,lightbox_top_panel_opacity:null,lightbox_show_numbers:!0,lightbox_numbers_size:null,lightbox_numbers_color:null,lightbox_numbers_padding_top:null,lightbox_numbers_padding_right:null,lightbox_compact_closebutton_offsetx:1,lightbox_compact_closebutton_offsety:1,lightbox_close_on_emptyspace:!0};this.events={LIGHTBOX_INIT:"lightbox_init"};var se={topPanelHeight:44,initTextPanelHeight:26,isOpened:!1,isRightNowOpened:!1,putSlider:!0,isCompact:!1,fadeDuration:300,positionFrom:null,textPanelTop:null,textPanelLeft:null,isArrowsInside:!1,isArrowsOnHoverMode:!1,lastMouseX:null,lastMouseY:null,originalOptions:null,isSliderChangedOnce:!1,isTopPanelEnabled:!0},le={lightbox_slider_controls_always_on:!0,lightbox_slider_enable_bullets:!1,lightbox_slider_enable_arrows:!1,lightbox_slider_enable_progress_indicator:!1,lightbox_slider_enable_play_button:!1,lightbox_slider_enable_fullscreen_button:!1,lightbox_slider_enable_zoom_panel:!1,lightbox_slider_enable_text_panel:!1,lightbox_slider_scale_mode_media:"down",lightbox_slider_scale_mode:"down",lightbox_slider_loader_type:3,lightbox_slider_loader_color:"black",lightbox_slider_transition:"fade",lightbox_slider_image_padding_top:se.topPanelHeight,lightbox_slider_image_padding_bottom:0,lightbox_slider_video_padding_top:0,lightbox_slider_video_padding_bottom:0,lightbox_textpanel_align:"middle",lightbox_textpanel_padding_top:5,lightbox_textpanel_padding_bottom:5,slider_video_constantsize:!1,lightbox_slider_image_border:!1,lightbox_textpanel_enable_title:!0,lightbox_textpanel_enable_description:!1,lightbox_textpanel_desc_style_as_title:!0,lightbox_textpanel_enable_bg:!1,video_enable_closebutton:!1,lightbox_slider_video_enable_closebutton:!1,video_youtube_showinfo:!1,lightbox_slider_enable_links:!1},ue={lightbox_overlay_opacity:.6,lightbox_slider_image_border:!0,lightbox_slider_image_shadow:!0,lightbox_slider_image_padding_top:30,lightbox_slider_image_padding_bottom:30,slider_video_constantsize:!0,lightbox_textpanel_align:"bottom",lightbox_textpanel_title_text_align:"left",lightbox_textpanel_desc_text_align:"left",lightbox_textpanel_padding_left:10,lightbox_textpanel_padding_right:10};this.destroy=function(){
if(jQuery(document).unbind("mousemove"),V.off("touchstart"),V.off("touchend"),Z.off("click"),$.off(ie.events.ITEM_CHANGE),ne){jQuery(ne).off(ne.events.TRANSITION_END),jQuery(ne).off(ne.events.CLICK),jQuery(ne).off(ne.events.START_DRAG),jQuery(ne).off(ne.events.TRANSITION_START),jQuery(ne).off(ne.events.AFTER_DRAG_CHANGE),jQuery(ne).off(ne.events.AFTER_RETURN);var e=ne.getVideoObject();jQuery(e).off(e.events.PLAY_START),jQuery(e).off(e.events.PLAY_STOP),jQuery(ne).on(ne.events.IMAGE_MOUSEENTER,W),jQuery(ne).on(ne.events.IMAGE_MOUSELEAVE,G),ne.destroy()}jQuery(window).unbind("resize"),$.off(ie.events.GALLERY_KEYPRESS,R),U.off("mousewheel"),U.remove()},this.open=function(e){var t=ie.getItem(e);if(se.isOpened=!0,se.isRightNowOpened=!0,setTimeout(function(){se.isRightNowOpened=!1},100),ne&&ne.setItem(t,"lightbox_open"),oe&&oe.setTextPlain(t.title,t.description),V.stop().fadeTo(0,0),U.show(),U.fadeTo(0,1),V.stop().fadeTo(se.fadeDuration,ae.lightbox_overlay_opacity),m(),1==se.isCompact){var i=ne.isPreloading();1==i?_():1==se.isArrowsInside&&(q.hide(),X.hide())}ne&&ne.startSlideAction(),$.trigger(ie.events.OPEN_LIGHTBOX,t)},this.close=function(e){se.isOpened=!1,1==se.isCompact&&f(),ne&&ne.stopSlideAction();var t=ne.getSlideType();"image"!=t?U.hide():U.fadeTo(se.fadeDuration,0,function(){U.hide()}),$.trigger(ie.events.CLOSE_LIGHTBOX)},this.init=function(t,i){e(t,i)},this.putHtml=function(){var e=ie.isSmallWindow();e&&1==se.isCompact&&Y(),i()},this.run=function(){n(),ne&&ne.run(),B()}}function UGCarousel(){function e(e,t){g_objects=e.getObjects(),G=e,jQuery(e),H=g_objects.g_objWrapper,L=g_objects.g_arrItems,Y=jQuery.extend(Y,t),F.setFixedMode(),F.setApproveClickFunction(N),F.init(e,Y),B=F.getObjThumbs(),Y=F.getOptions(),$.initTileWidth=Y.tile_width,$.initTileHeight=Y.tile_height,$.tileWidth=Y.tile_width}function t(e){if(!e)e=H;var t="<div class='ug-carousel-wrapper'><div class='ug-carousel-inner'></div></div>";H.append(t),z=H.children(".ug-carousel-wrapper"),D=z.children(".ug-carousel-inner"),F.setHtml(D),B.getThumbs().fadeTo(0,1)}function i(e,t){if(!t)t=$.initTileHeight/$.initTileWidth*e;$.tileWidth=e;var i={tile_width:e,tile_height:t};F.setOptions(i),Y.tile_width=e,Y.tile_height=t,F.resizeAllTiles(e),m(!0)}function n(){if(null===$.carouselMaxWidth)throw new Error("The carousel width not set");if($.tileWidth<$.initTileWidth){var e=$.carouselMaxWidth-2*Y.carousel_padding;e>$.initTileWidth&&(e=$.initTileWidth),i(e);var t=Q.getNumItemsInSpace($.carouselMaxWidth,e,Y.carousel_space_between_tiles)}else{t=Q.getNumItemsInSpace($.carouselMaxWidth,$.tileWidth,Y.carousel_space_between_tiles);if(0>=t){t=1;e=$.carouselMaxWidth-2*Y.carousel_padding;i(e)}}var n=Q.getSpaceByNumItems(t,$.tileWidth,Y.carousel_space_between_tiles);n+=2*Y.carousel_padding,z.width(n),1==$.isFirstTimeRun?(k(),F.run(),jQuery.each(L,function(e,t){t.objThumbWrapper.data("index",e),H.trigger($.eventSizeChange,[t.objThumbWrapper,!0]),t.objTileOriginal=t.objThumbWrapper.clone(!0,!0)}),m(!0),1==Y.carousel_autoplay&&R.startAutoplay()):(1==Y.carousel_autoplay&&R.pauseAutoplay(),T(0,!1),1==Y.carousel_autoplay&&R.startAutoplay()),E(),$.isFirstTimeRun=!1}function r(){return Q.getElementSize(D).left}function o(e){return Q.getMousePosition(e).pageX}function a(){var e=D.children(".ug-thumb-wrapper");return e}function s(e){var t=Q.getNumItemsInSpace(e,$.tileWidth,Y.carousel_space_between_tiles);return t}function l(){return a().length}function u(e){v(e);var t=a(),i=jQuery(t[e]);return i}function d(){return D.children(".ug-thumb-wrapper").first()}function c(){return D.children(".ug-thumb-wrapper").last()}function h(e,t,i){var n=e.data("index");if(null==n)throw new Error("every tile should have index!");for(var r=[],o=0;t>o;o++){if("prev"==i)var a=G.getPrevItem(n,!0);else a=G.getNextItem(n,!0);if(!a)throw new Error("the item to add is empty");var s=a.objTileOriginal.clone(!0,!0);n=a.index,s.addClass("cloned"),r.push(s)}return r}function g(){var e=Q.getElementSize(z),t=Q.getElementSize(D),i=t.width-e.width+t.left,n=$.sideSpace-i;return n}function p(){var e=-r(),t=$.sideSpace-e;return t}function f(){var e=Q.getElementSize(z);return e.width}function _(){var e=f(),t=s(e);return t}function m(e){if(!e)e=!1;var t,i=a(),n=0,r=0;return jQuery.each(i,function(e,o){o=jQuery(o),Q.placeElement(o,n,0);var a=Q.getElementSize(o);n+=a.width+Y.carousel_space_between_tiles,r=Math.max(r,a.height),e==i.length-1&&(t=a.right)}),D.width(t),r+=2*Y.carousel_padding,!0===e&&(D.height(r),z.height(r)),T($.numCurrent,!1),t}function v(e){if(e>a().length-1)throw new Error("Wrogn tile number: "+e)}function b(e,t){if("left"==t)var i=d();else i=c();var n="left"==t?"prev":"next",r=h(i,e,n);jQuery.each(r,function(e,i){"left"==t?D.prepend(i):D.append(i),H.trigger($.eventSizeChange,i),F.loadTileImage(i)})}function y(e,t){v(n);for(var i=a(),n=i.length,r=0;e>r;r++)"left"==t?jQuery(i[r]).remove():jQuery(i[n-1-r]).remove()}function w(e){var t={left:e+"px"};D.css(t)}function T(e,t,i){if(void 0===t){t=!0;if(D.is(":animated"))return!0}var n=u(e),r=Q.getElementSize(n),o=-r.left+Y.carousel_padding,a={left:o+"px"};if(!0===t){var s=Y.carousel_scroll_duration,l=Y.carousel_scroll_easing;!0===i&&(s=$.scrollShortDuration,l=$.scrollShortEasing),D.stop(!0).animate(a,{duration:s,easing:l,queue:!1,complete:function(){$.numCurrent=e,I(!0)}})}else $.numCurrent=e,D.css(a)}function S(){var e=-r(),t=s(e),i=Q.getElementSize(u(t)).left,n=Q.getElementSize(u(t+1)).left;return Math.abs(i-e)<Math.abs(n-e)?t:t+1}function x(){var e=S();T(e,!0,!0)}function I(){var e=p(),t=g(),i=0,n=0,r=0,o=0,a=l();if(e>$.spaceActionSize)i=s(e),b(i,"left"),$.numCurrent+=i;else if(e<-$.spaceActionSize){r=s(Math.abs(e));y(r,"left"),$.numCurrent-=r}if(t>$.spaceActionSize?(n=s(t),b(n,"right")):t<-$.spaceActionSize&&(o=s(Math.abs(t)),y(o,"right")),o>a)throw new Error("Can't remove more then num tiles");var u=!1;return(i||n||r||o)&&(m(),u=!0),u}function E(e){Q.placeElement(D,0,Y.carousel_padding),I()}function P(){"left"==Y.carousel_autoplay_direction?R.scrollRight(1):R.scrollLeft(1)}function C(e){return 1==$.touchActive||($.touchActive=!0,R.pauseAutoplay(),$.startTime=jQuery.now(),$.startMousePos=o(e),$.startInnerPos=r(),$.lastTime=$.startTime,$.lastMousePos=$.startMousePos,void Q.storeEventData(e,$.storedEventID))}function j(e){if(0==$.touchActive)return!0;Q.updateStoredEventData(e,$.storedEventID),e.preventDefault();var t=null;if(1==Y.carousel_vertical_scroll_ondrag&&(t=Q.handleScrollTop($.storedEventID)),"vert"===t)return!0;$.lastMousePos=o(e);var i=$.lastMousePos-$.startMousePos,n=$.startInnerPos+i,r=i>0?"prev":"next",a=Q.getElementSize(D).width;n>0&&"prev"==r&&(n/=3),-a>n&&"next"==r&&(n=$.startInnerPos+i/3),w(n)}function A(e){return 0==$.touchActive||($.touchActive=!1,x(),void R.unpauseAutoplay())}function M(e){return 0==Y.carousel_autoplay_pause_onhover||void(1==$.isPlayMode&&0==$.isPaused&&R.pauseAutoplay())}function O(e){return 0==Y.carousel_autoplay_pause_onhover||void R.unpauseAutoplay()}function k(){F.initEvents(),z.bind("mousedown touchstart",C),jQuery("body").bind("mousemove touchmove",j),jQuery(window).add("body").bind("mouseup touchend",A),z.hover(M,O)}function N(){var e=$.lastTime-$.startTime,t=Math.abs($.lastMousePos-$.startMousePos);return!(e>300)&&!(t>30)}var H,L,z,D,R=this,W=jQuery(this),G=new UniteGalleryMain,Q=new UGFunctions,F=new UGTileDesign,B=new UGThumbsGeneral,Y={carousel_padding:8,carousel_space_between_tiles:20,carousel_navigation_numtiles:3,carousel_scroll_duration:500,carousel_scroll_easing:"easeOutCubic",carousel_autoplay:!0,carousel_autoplay_timeout:3e3,carousel_autoplay_direction:"right",carousel_autoplay_pause_onhover:!0,carousel_vertical_scroll_ondrag:!1};this.events={START_PLAY:"carousel_start_play",PAUSE_PLAY:"carousel_pause_play",STOP_PLAY:"carousel_stop_play"};var $={eventSizeChange:"thumb_size_change",isFirstTimeRun:!0,carouselMaxWidth:null,tileWidth:0,initTileWidth:0,initTileHeight:0,sideSpace:1500,spaceActionSize:500,numCurrent:0,touchActive:!1,startInnerPos:0,lastTime:0,startTime:0,startMousePos:0,lastMousePos:0,scrollShortDuration:200,scrollShortEasing:"easeOutQuad",handle:null,isPlayMode:!1,isPaused:!1,storedEventID:"carousel"};this.startAutoplay=function(){$.isPlayMode=!0,$.isPaused=!1,W.trigger(R.events.START_PLAY),$.handle&&clearInterval($.handle),$.handle=setInterval(P,Y.carousel_autoplay_timeout)},this.unpauseAutoplay=function(){return 0==$.isPlayMode||(0==$.isPaused||void R.startAutoplay())},this.pauseAutoplay=function(){return 0==$.isPlayMode||($.isPaused=!0,$.handle&&clearInterval($.handle),void W.trigger(R.events.PAUSE_PLAY))},this.stopAutoplay=function(){return 0==$.isPlayMode||($.isPaused=!1,$.isPlayMode=!1,$.handle&&clearInterval($.handle),void W.trigger(R.events.STOP_PLAY))},this.destroy=function(){$.handle&&clearInterval($.handle),W.off(R.events.START_PLAY),W.off(R.events.STOP_PLAY),z.unbind("mousedown"),z.unbind("touchstart"),jQuery("body").unbind("mousemove"),jQuery("body").unbind("touchmove"),jQuery(window).add("body").unbind("mouseup").unbind("touchend"),z.off("mouseenter").off("mouseleave"),F.destroy()},this.init=function(t,i,n){n&&this.setMaxWidth(n),e(t,i)},this.setMaxWidth=function(e){$.carouselMaxWidth=e},this.setHtml=function(e){t(e)},this.getElement=function(){return z},this.getObjTileDesign=function(){return F},this.getEstimatedHeight=function(){var e=Y.tile_height+2*Y.carousel_padding;return e},this.run=function(){n()},this.scrollRight=function(e){if(!e||"object"==typeof e)e=Y.carousel_navigation_numtiles;var t=_();e>t&&(e=t);var i=$.numCurrent-e;0>=i&&(i=0),T(i)},this.scrollLeft=function(e){if(!e||"object"==typeof e)e=Y.carousel_navigation_numtiles;var t=_();e>t&&(e=t);var i=l(),n=$.numCurrent+e;n>=i&&(n=i-1),T(n)},this.setScrollLeftButton=function(e){Q.setButtonMobileReady(e),Q.setButtonOnClick(e,R.scrollLeft)},this.setScrollRightButton=function(e){Q.setButtonMobileReady(e),Q.setButtonOnClick(e,R.scrollRight)},this.setPlayPauseButton=function(e){Q.setButtonMobileReady(e),1==$.isPlayMode&&0==$.isPaused&&e.addClass("ug-pause-icon"),W.on(R.events.START_PLAY,function(){e.addClass("ug-pause-icon")}),W.on(R.events.STOP_PLAY,function(){e.removeClass("ug-pause-icon")}),Q.setButtonOnClick(e,function(){0==$.isPlayMode||1==$.isPaused?R.startAutoplay():R.stopAutoplay()})}}function UGTabs(){function e(e,t){l=e,jQuery(l),u=jQuery.extend(u,t),"select"==u.tabs_type?s=jQuery(u.tabs_container):a=jQuery(u.tabs_container+" .ug-tab")}function t(){o()}function i(e){l.requestNewItems(e)}function n(){var e=u.tabs_class_selected,t=jQuery(this);if(t.hasClass(e))return!0;a.not(t).removeClass(e),t.addClass(e);var n=t.data("catid");return!n||void i(n)}function r(){var e=jQuery(this),t=e.val();return!t||void i(t)}function o(){"select"==u.tabs_type?s.change(r):a.click(n)}var a,s,l=(jQuery(this),new UniteGalleryMain),u=(new UGFunctions,{tabs_type:"tabs",tabs_container:"#ug_tabs",tabs_class_selected:"ug-tab-selected"});this.events={},this.destroy=function(){s&&s.off("change"),a&&a.off("click")},this.init=function(t,i){e(t,i)},this.run=function(){t()}}function UG_API(e){function t(e){var t={index:e.index,title:e.title,description:e.description,urlImage:e.urlImage,urlThumb:e.urlThumb},i=e.objThumbImage.data();for(var n in i){switch(n){case"image":case"description":continue}t[n]=i[n]}return t}var i,n=this,r=(jQuery(n),new UniteGalleryMain),o=[];r=e,i=jQuery(e),this.events={API_INIT_FUNCTIONS:"api_init",API_ON_EVENT:"api_on_event"},this.on=function(e,a,s){switch(!0!==s&&o.push({event:e,func:a}),e){case"item_change":i.on(r.events.ITEM_CHANGE,function(){var e=r.getSelectedItem(),i=t(e);a(i.index,i)});break;case"resize":i.on(r.events.SIZE_CHANGE,a);break;case"enter_fullscreen":i.on(r.events.ENTER_FULLSCREEN,a);break;case"exit_fullscreen":i.on(r.events.EXIT_FULLSCREEN,a);break;case"play":i.on(r.events.START_PLAY,a);break;case"stop":i.on(r.events.STOP_PLAY,a);break;case"pause":i.on(r.events.PAUSE_PLAYING,a);break;case"continue":i.on(r.events.CONTINUE_PLAYING,a);break;case"open_lightbox":i.on(r.events.OPEN_LIGHTBOX,a);break;case"close_lightbox":i.on(r.events.CLOSE_LIGHTBOX,a);break;default:console&&console.log("wrong api event: "+e)}i.trigger(n.events.API_ON_EVENT,[e,a])},this.play=function(){r.startPlayMode()},this.stop=function(){r.stopPlayMode()},this.togglePlay=function(){r.togglePlayMode()},this.enterFullscreen=function(){r.toFullScreen()},this.exitFullscreen=function(){r.exitFullScreen()},this.toggleFullscreen=function(){r.toggleFullscreen()},this.resetZoom=function(){var e=r.getObjSlider();return!!e&&void e.zoomBack()},this.zoomIn=function(){var e=r.getObjSlider();return!!e&&void e.zoomIn()},this.zoomOut=function(){var e=r.getObjSlider();return!!e&&void e.zoomOut()},this.nextItem=function(){r.nextItem()},this.prevItem=function(){r.prevItem()},this.selectItem=function(e){r.selectItem(e)},this.resize=function(e,t){t?r.resize(e,t):r.resize(e)},this.getItem=function(e){var i=r.getItem(e),n=t(i);return n},this.getNumItems=function(){var e=r.getNumItems();return e},this.reloadGallery=function(e){if(!e)e={};r.run(null,e),o.map(function(e){n.on(e.event,e.func,!0)})},this.destroy=function(){r.destroy()},i.trigger(n.events.API_INIT_FUNCTIONS,n)}function UGLoadMore(){function e(){return r=jQuery("#"+d.loadmore_container),0!=r.length&&(o=r.find(".ug-loadmore-button"),0!=o.length&&(a=r.find(".ug-loadmore-loader"),0!=a.length&&(s=r.find(".ug-loadmore-error"),0!=s.length&&void(u.isInited=!0))))}function t(){r.show()}function i(){o.hide(),a.show();var e={numitems:l.getNumItems()};l.ajaxRequest("front_loadmore",e,function(e){a.hide();var t=e.html_items,i=e.show_loadmore;1==i?(o.blur().show(),a.hide()):r.hide(),l.addItems(t)},function(e){e="Ajax Error!"+e,a.hide(),s.show(),s.html(e)})}function n(){l.onEvent("tiles_first_placed",t),o.click(i)}var r,o,a,s,l=(jQuery(this),new UniteGalleryMain),u=(new UGFunctions,{isInited:!1}),d={loadmore_container:"ug_loadmore_wrapper"};this.events={},this.destroy=function(){return 0!=u.isInited&&void 0},this.init=function(t,i){return l=t,jQuery(l),d=jQuery.extend(d,i),e(),0==u.isInited?(trace("load more not inited, something is wrong"),!1):void n()}}function isValidURL(e){return!!urlRegExp.test(e)}function trataURL(e){return isValidURL(e)?e:(e="http://"+e,!!isValidURL(e)&&e)}function encontraURL(e){var t=!1;return e=e.replace(urlRegExp,function(e){return trataURL(e)?(t=!0,'<a href="'+trataURL(e)+'">'+e+"</a>"):e}),!!t&&e}function editorAltera(e){var t=$(this)[0];t.removeListener("change",editorAltera);var i=encontraURL(e.editor.getData());0!=i&&t.setData(i),t.on("change",editorAltera)}!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function i(e){var t="length"in e&&e.length,i=re.type(e);return"function"!==i&&!re.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e))}function n(e,t,i){if(re.isFunction(t))return re.grep(e,function(e,n){return!!t.call(e,n,e)!==i});if(t.nodeType)return re.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(he.test(t))return re.filter(t,e,i);t=re.filter(t,e)}return re.grep(e,function(e){return re.inArray(e,t)>=0!==i})}function r(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function o(e){var t=we[e]={};return re.each(e.match(ye)||[],function(e,i){t[i]=!0}),t}function a(){pe.addEventListener?(pe.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1)):(pe.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(pe.addEventListener||"load"===event.type||"complete"===pe.readyState)&&(a(),re.ready())}function l(e,t,i){if(void 0===i&&1===e.nodeType){var n="data-"+t.replace(Ie,"-$1").toLowerCase();if(i=e.getAttribute(n),"string"==typeof i){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:xe.test(i)?re.parseJSON(i):i)}catch(e){}re.data(e,t,i)}else i=void 0}return i}function u(e){var t;for(t in e)if(("data"!==t||!re.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function d(e,t,i,n){if(re.acceptData(e)){var r,o,a=re.expando,s=e.nodeType,l=s?re.cache:e,u=s?e[a]:e[a]&&a;if(u&&l[u]&&(n||l[u].data)||void 0!==i||"string"!=typeof t)return u||(u=s?e[a]=V.pop()||re.guid++:a),l[u]||(l[u]=s?{}:{toJSON:re.noop}),("object"==typeof t||"function"==typeof t)&&(n?l[u]=re.extend(l[u],t):l[u].data=re.extend(l[u].data,t)),o=l[u],n||(o.data||(o.data={}),o=o.data),void 0!==i&&(o[re.camelCase(t)]=i),"string"==typeof t?(r=o[t],null==r&&(r=o[re.camelCase(t)])):r=o,r}}function c(e,t,i){if(re.acceptData(e)){var n,r,o=e.nodeType,a=o?re.cache:e,s=o?e[re.expando]:re.expando;if(a[s]){if(t&&(n=i?a[s]:a[s].data)){re.isArray(t)?t=t.concat(re.map(t,re.camelCase)):t in n?t=[t]:(t=re.camelCase(t),t=t in n?[t]:t.split(" ")),r=t.length;for(;r--;)delete n[t[r]];if(i?!u(n):!re.isEmptyObject(n))return}(i||(delete a[s].data,u(a[s])))&&(o?re.cleanData([e],!0):ie.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function h(){return!0}function g(){return!1}function p(){try{return pe.activeElement}catch(e){}}function f(e){var t=Le.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}function _(e,t){var i,n,r=0,o=typeof e.getElementsByTagName!==Se?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==Se?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],i=e.childNodes||e;null!=(n=i[r]);r++)!t||re.nodeName(n,t)?o.push(n):re.merge(o,_(n,t));return void 0===t||t&&re.nodeName(e,t)?re.merge([e],o):o}function m(e){Ae.test(e.type)&&(e.defaultChecked=e.checked)}function v(e,t){return re.nodeName(e,"table")&&re.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==re.find.attr(e,"type"))+"/"+e.type,e}function y(e){var t=Ue.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){for(var i,n=0;null!=(i=e[n]);n++)re._data(i,"globalEval",!t||re._data(t[n],"globalEval"))}function T(e,t){if(1===t.nodeType&&re.hasData(e)){var i,n,r,o=re._data(e),a=re._data(t,o),s=o.events;if(s)for(i in delete a.handle,a.events={},s)for(n=0,r=s[i].length;r>n;n++)re.event.add(t,i,s[i][n]);a.data&&(a.data=re.extend({},a.data))}}function S(e,t){var i,n,r;if(1===t.nodeType){if(i=t.nodeName.toLowerCase(),!ie.noCloneEvent&&t[re.expando]){for(n in r=re._data(t),r.events)re.removeEvent(t,n,r.handle);t.removeAttribute(re.expando)}"script"===i&&t.text!==e.text?(b(t).text=e.text,y(t)):"object"===i?(t.parentNode&&(t.outerHTML=e.outerHTML),ie.html5Clone&&e.innerHTML&&!re.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&Ae.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.defaultSelected=t.selected=e.defaultSelected:("input"===i||"textarea"===i)&&(t.defaultValue=e.defaultValue)}}function x(t,i){var n,r=re(i.createElement(t)).appendTo(i.body),o=e.getDefaultComputedStyle&&(n=e.getDefaultComputedStyle(r[0]))?n.display:re.css(r[0],"display");return r.detach(),o}function I(e){var t=pe,i=Je[e];return i||(i=x(e,t),"none"!==i&&i||(Ke=(Ke||re("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Ke[0].contentWindow||Ke[0].contentDocument).document,t.write(),t.close(),i=x(e,t),Ke.detach()),Je[e]=i),i}function E(e,t){return{get:function(){var i=e();if(null!=i)return i?void delete this.get:(this.get=t).apply(this,arguments)}}}function P(e,t){if(t in e)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),n=t,r=ht.length;r--;)if(t=ht[r]+i,t in e)return t;return n}function C(e,t){for(var i,n,r,o=[],a=0,s=e.length;s>a;a++)n=e[a],n.style&&(o[a]=re._data(n,"olddisplay"),i=n.style.display,t?(o[a]||"none"!==i||(n.style.display=""),""===n.style.display&&Ce(n)&&(o[a]=re._data(n,"olddisplay",I(n.nodeName)))):(r=Ce(n),(i&&"none"!==i||!r)&&re._data(n,"olddisplay",r?i:re.css(n,"display"))));for(a=0;s>a;a++)n=e[a],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?o[a]||"":"none"));return e}function j(e,t,i){var n=lt.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function A(e,t,i,n,r){for(var o=i===(n?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===i&&(a+=re.css(e,i+Pe[o],!0,r)),n?("content"===i&&(a-=re.css(e,"padding"+Pe[o],!0,r)),"margin"!==i&&(a-=re.css(e,"border"+Pe[o]+"Width",!0,r))):(a+=re.css(e,"padding"+Pe[o],!0,r),"padding"!==i&&(a+=re.css(e,"border"+Pe[o]+"Width",!0,r)));return a}function M(e,t,i){var n=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=et(e),a=ie.boxSizing&&"border-box"===re.css(e,"boxSizing",!1,o);if(0>=r||null==r){if(r=tt(e,t,o),(0>r||null==r)&&(r=e.style[t]),nt.test(r))return r;n=a&&(ie.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+A(e,t,i||(a?"border":"content"),n,o)+"px"}function O(e,t,i,n,r){return new O.prototype.init(e,t,i,n,r)}function k(){return setTimeout(function(){gt=void 0}),gt=re.now()}function N(e,t){var i,n={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)i=Pe[r],n["margin"+i]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}function H(e,t,i){for(var n,r=(bt[t]||[]).concat(bt["*"]),o=0,a=r.length;a>o;o++)if(n=r[o].call(i,t,e))return n}function L(e,t,i){var n,r,o,a,s,l,u,d,c=this,h={},g=e.style,p=e.nodeType&&Ce(e),f=re._data(e,"fxshow");for(n in i.queue||(s=re._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,re.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[g.overflow,g.overflowX,g.overflowY],u=re.css(e,"display"),d="none"===u?re._data(e,"olddisplay")||I(e.nodeName):u,"inline"===d&&"none"===re.css(e,"float")&&(ie.inlineBlockNeedsLayout&&"inline"!==I(e.nodeName)?g.zoom=1:g.display="inline-block")),i.overflow&&(g.overflow="hidden",ie.shrinkWrapBlocks()||c.always(function(){g.overflow=i.overflow[0],g.overflowX=i.overflow[1],g.overflowY=i.overflow[2]})),t)if(r=t[n],ft.exec(r)){if(delete t[n],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!f||void 0===f[n])continue;p=!0}h[n]=f&&f[n]||re.style(e,n)}else u=void 0;if(re.isEmptyObject(h))"inline"===("none"===u?I(e.nodeName):u)&&(g.display=u);else for(n in f?"hidden"in f&&(p=f.hidden):f=re._data(e,"fxshow",{}),o&&(f.hidden=!p),p?re(e).show():c.done(function(){re(e).hide()}),c.done(function(){var t;for(t in re._removeData(e,"fxshow"),h)re.style(e,t,h[t])}),h)a=H(p?f[n]:0,n,c),n in f||(f[n]=a.start,p&&(a.end=a.start,a.start="width"===n||"height"===n?1:0))}function z(e,t){var i,n,r,o,a;for(i in e)if(n=re.camelCase(i),r=t[n],o=e[i],re.isArray(o)&&(r=o[1],o=e[i]=o[0]),i!==n&&(e[n]=o,delete e[i]),a=re.cssHooks[n],a&&"expand"in a)for(i in o=a.expand(o),delete e[n],o)i in e||(e[i]=o[i],t[i]=r);else t[n]=r}function D(e,t,i){var n,r,o=0,a=vt.length,s=re.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=gt||k(),i=Math.max(0,u.startTime+u.duration-t),n=i/u.duration||0,o=1-n,a=0,l=u.tweens.length;l>a;a++)u.tweens[a].run(o);return s.notifyWith(e,[u,o,i]),1>o&&l?i:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:re.extend({},t),opts:re.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:gt||k(),duration:i.duration,tweens:[],createTween:function(t,i){var n=re.Tween(e,u.opts,t,i,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(n),n},stop:function(t){var i=0,n=t?u.tweens.length:0;if(r)return this;for(r=!0;n>i;i++)u.tweens[i].run(1);return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),d=u.props;for(z(d,u.opts.specialEasing);a>o;o++)if(n=vt[o].call(u,e,d,u.opts))return n;return re.map(d,H,u),re.isFunction(u.opts.start)&&u.opts.start.call(e,u),re.fx.timer(re.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function R(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,r=0,o=t.toLowerCase().match(ye)||[];if(re.isFunction(i))for(;n=o[r++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function W(e,t,i,n){function r(s){var l;return o[s]=!0,re.each(e[s]||[],function(e,s){var u=s(t,i,n);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(t.dataTypes.unshift(u),r(u),!1)}),l}var o={},a=e===Ft;return r(t.dataTypes[0])||!o["*"]&&r("*")}function G(e,t){var i,n,r=re.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&re.extend(!0,e,i),e}function Q(e,t,i){for(var n,r,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(a in s)if(s[a]&&s[a].test(r)){l.unshift(a);break}if(l[0]in i)o=l[0];else{for(a in i){if(!l[0]||e.converters[a+" "+l[0]]){o=a;break}n||(n=a)}o=o||n}return o?(o!==l[0]&&l.unshift(o),i[o]):void 0}function F(e,t,i,n){var r,o,a,s,l,u={},d=e.dataTypes.slice();if(d[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=d.shift();o;)if(e.responseFields[o]&&(i[e.responseFields[o]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=d.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=u[l+" "+o]||u["* "+o],!a)for(r in u)if(s=r.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[r]:!0!==u[r]&&(o=s[0],d.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function B(e,t,i,n){var r;if(re.isArray(t))re.each(t,function(t,r){i||$t.test(e)?n(e,r):B(e+"["+("object"==typeof r?t:"")+"]",r,i,n)});else if(i||"object"!==re.type(t))n(e,t);else for(r in t)B(e+"["+r+"]",t[r],i,n)}function Y(){try{return new e.XMLHttpRequest}catch(e){}}function $(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function U(e){return re.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var V=[],q=V.slice,X=V.concat,Z=V.push,K=V.indexOf,J={},ee=J.toString,te=J.hasOwnProperty,ie={},ne="1.11.3",re=function(e,t){return new re.fn.init(e,t)},oe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ae=/^-ms-/,se=/-([\da-z])/gi,le=function(e,t){return t.toUpperCase()};re.fn=re.prototype={jquery:ne,constructor:re,selector:"",length:0,toArray:function(){return q.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:q.call(this)},pushStack:function(e){var t=re.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return re.each(this,e,t)},map:function(e){return this.pushStack(re.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(q.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(0>e?t:0);return this.pushStack(i>=0&&t>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Z,sort:V.sort,splice:V.splice},re.extend=re.fn.extend=function(){var e,t,i,n,r,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||re.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(r=arguments[s]))for(n in r)e=a[n],i=r[n],a!==i&&(u&&i&&(re.isPlainObject(i)||(t=re.isArray(i)))?(t?(t=!1,o=e&&re.isArray(e)?e:[]):o=e&&re.isPlainObject(e)?e:{},a[n]=re.extend(u,o,i)):void 0!==i&&(a[n]=i));return a},re.extend({expando:"jQuery"+(ne+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===re.type(e)},isArray:Array.isArray||function(e){return"array"===re.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!re.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==re.type(e)||e.nodeType||re.isWindow(e))return!1;try{if(e.constructor&&!te.call(e,"constructor")&&!te.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(ie.ownLast)for(t in e)return te.call(e,t);for(t in e);return void 0===t||te.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?J[ee.call(e)]||"object":typeof e},globalEval:function(t){t&&re.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ae,"ms-").replace(se,le)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,o=0,a=e.length,s=i(e);if(n){if(s)for(;a>o&&(r=t.apply(e[o],n),!1!==r);o++);else for(o in e)if(r=t.apply(e[o],n),!1===r)break}else if(s)for(;a>o&&(r=t.call(e[o],o,e[o]),!1!==r);o++);else for(o in e)if(r=t.call(e[o],o,e[o]),!1===r)break;return e},trim:function(e){return null==e?"":(e+"").replace(oe,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?re.merge(n,"string"==typeof e?[e]:e):Z.call(n,e)),n},inArray:function(e,t,i){var n;if(t){if(K)return K.call(t,e,i);for(n=t.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,t){for(var i=+t.length,n=0,r=e.length;i>n;)e[r++]=t[n++];if(i!=i)for(;void 0!==t[n];)e[r++]=t[n++];return e.length=r,e},grep:function(e,t,i){for(var n,r=[],o=0,a=e.length,s=!i;a>o;o++)n=!t(e[o],o),n!==s&&r.push(e[o]);return r},map:function(e,t,n){var r,o=0,a=e.length,s=i(e),l=[];if(s)for(;a>o;o++)r=t(e[o],o,n),null!=r&&l.push(r);else for(o in e)r=t(e[o],o,n),null!=r&&l.push(r);return X.apply([],l)},guid:1,proxy:function(e,t){var i,n,r;return"string"==typeof t&&(r=e[t],t=e,e=r),re.isFunction(e)?(i=q.call(arguments,2),n=function(){return e.apply(t||this,i.concat(q.call(arguments)))},n.guid=e.guid=e.guid||re.guid++,n):void 0},now:function(){return+new Date},support:ie}),re.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){J["[object "+t+"]"]=t.toLowerCase()});var ue=function(e){function t(e,t,i,n){var r,o,a,s,l,u,c,g,p,f;if((t?t.ownerDocument||t:W)!==O&&M(t),t=t||O,i=i||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return i;if(!n&&N){if(11!==s&&(r=ve.exec(e)))if(a=r[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return i;if(o.id===a)return i.push(o),i}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&D(t,o)&&o.id===a)return i.push(o),i}else{if(r[2])return K.apply(i,t.getElementsByTagName(e)),i;if((a=r[3])&&w.getElementsByClassName)return K.apply(i,t.getElementsByClassName(a)),i}if(w.qsa&&(!H||!H.test(e))){if(g=c=R,p=t,f=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(u=I(e),(c=t.getAttribute("id"))?g=c.replace(ye,"\\$&"):t.setAttribute("id",g),g="[id='"+g+"'] ",l=u.length;l--;)u[l]=g+h(u[l]);p=be.test(e)&&d(t.parentNode)||t,f=u.join(",")}if(f)try{return K.apply(i,p.querySelectorAll(f)),i}catch(e){}finally{c||t.removeAttribute("id")}}}return P(e.replace(le,"$1"),t,i,n)}function i(){function e(i,n){return t.push(i+" ")>T.cacheLength&&delete e[t.shift()],e[i+" "]=n}var t=[];return e}function n(e){return e[R]=!0,e}function r(e){var t=O.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var i=e.split("|"),n=e.length;n--;)T.attrHandle[i[n]]=t}function a(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||U)-(~e.sourceIndex||U);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function s(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function l(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function u(e){return n(function(t){return t=+t,n(function(i,n){for(var r,o=e([],i.length,t),a=o.length;a--;)i[r=o[a]]&&(i[r]=!(n[r]=i[r]))})})}function d(e){return e&&void 0!==e.getElementsByTagName&&e}function c(){}function h(e){for(var t=0,i=e.length,n="";i>t;t++)n+=e[t].value;return n}
function g(e,t,i){var n=t.dir,r=i&&"parentNode"===n,o=Q++;return t.first?function(t,i,o){for(;t=t[n];)if(1===t.nodeType||r)return e(t,i,o)}:function(t,i,a){var s,l,u=[G,o];if(a){for(;t=t[n];)if((1===t.nodeType||r)&&e(t,i,a))return!0}else for(;t=t[n];)if(1===t.nodeType||r){if(l=t[R]||(t[R]={}),(s=l[n])&&s[0]===G&&s[1]===o)return u[2]=s[2];if(l[n]=u,u[2]=e(t,i,a))return!0}}}function p(e){return e.length>1?function(t,i,n){for(var r=e.length;r--;)if(!e[r](t,i,n))return!1;return!0}:e[0]}function f(e,i,n){for(var r=0,o=i.length;o>r;r++)t(e,i[r],n);return n}function _(e,t,i,n,r){for(var o,a=[],s=0,l=e.length,u=null!=t;l>s;s++)(o=e[s])&&(!i||i(o,n,r))&&(a.push(o),u&&t.push(s));return a}function m(e,t,i,r,o,a){return r&&!r[R]&&(r=m(r)),o&&!o[R]&&(o=m(o,a)),n(function(n,a,s,l){var u,d,c,h=[],g=[],p=a.length,m=n||f(t||"*",s.nodeType?[s]:s,[]),v=!e||!n&&t?m:_(m,h,e,s,l),b=i?o||(n?e:p||r)?[]:a:v;if(i&&i(v,b,s,l),r)for(u=_(b,g),r(u,[],s,l),d=u.length;d--;)(c=u[d])&&(b[g[d]]=!(v[g[d]]=c));if(n){if(o||e){if(o){for(u=[],d=b.length;d--;)(c=b[d])&&u.push(v[d]=c);o(null,b=[],u,l)}for(d=b.length;d--;)(c=b[d])&&(u=o?ee(n,c):h[d])>-1&&(n[u]=!(a[u]=c))}}else b=_(b===a?b.splice(p,b.length):b),o?o(null,a,b,l):K.apply(a,b)})}function v(e){for(var t,i,n,r=e.length,o=T.relative[e[0].type],a=o||T.relative[" "],s=o?1:0,l=g(function(e){return e===t},a,!0),u=g(function(e){return ee(t,e)>-1},a,!0),d=[function(e,i,n){var r=!o&&(n||i!==C)||((t=i).nodeType?l(e,i,n):u(e,i,n));return t=null,r}];r>s;s++)if(i=T.relative[e[s].type])d=[g(p(d),i)];else{if(i=T.filter[e[s].type].apply(null,e[s].matches),i[R]){for(n=++s;r>n&&!T.relative[e[n].type];n++);return m(s>1&&p(d),s>1&&h(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(le,"$1"),i,n>s&&v(e.slice(s,n)),r>n&&v(e=e.slice(n)),r>n&&h(e))}d.push(i)}return p(d)}function b(e,i){var r=i.length>0,o=e.length>0,a=function(n,a,s,l,u){var d,c,h,g=0,p="0",f=n&&[],m=[],v=C,b=n||o&&T.find.TAG("*",u),y=G+=null==v?1:Math.random()||.1,w=b.length;for(u&&(C=a!==O&&a);p!==w&&null!=(d=b[p]);p++){if(o&&d){for(c=0;h=e[c++];)if(h(d,a,s)){l.push(d);break}u&&(G=y)}r&&((d=!h&&d)&&g--,n&&f.push(d))}if(g+=p,r&&p!==g){for(c=0;h=i[c++];)h(f,m,a,s);if(n){if(g>0)for(;p--;)f[p]||m[p]||(m[p]=X.call(l));m=_(m)}K.apply(l,m),u&&!n&&m.length>0&&g+i.length>1&&t.uniqueSort(l)}return u&&(G=y,C=v),f};return r?n(a):a}var y,w,T,S,x,I,E,P,C,j,A,M,O,k,N,H,L,z,D,R="sizzle"+1*new Date,W=e.document,G=0,Q=0,F=i(),B=i(),Y=i(),$=function(e,t){return e===t&&(A=!0),0},U=1<<31,V={}.hasOwnProperty,q=[],X=q.pop,Z=q.push,K=q.push,J=q.slice,ee=function(e,t){for(var i=0,n=e.length;n>i;i++)if(e[i]===t)return i;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ie="[\\x20\\t\\r\\n\\f]",ne="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re=ne.replace("w","w#"),oe="\\["+ie+"*("+ne+")(?:"+ie+"*([*^$|!~]?=)"+ie+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ie+"*\\]",ae=":("+ne+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",se=new RegExp(ie+"+","g"),le=new RegExp("^"+ie+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ie+"+$","g"),ue=new RegExp("^"+ie+"*,"+ie+"*"),de=new RegExp("^"+ie+"*([>+~]|"+ie+")"+ie+"*"),ce=new RegExp("="+ie+"*([^\\]'\"]*?)"+ie+"*\\]","g"),he=new RegExp(ae),ge=new RegExp("^"+re+"$"),pe={ID:new RegExp("^#("+ne+")"),CLASS:new RegExp("^\\.("+ne+")"),TAG:new RegExp("^("+ne.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ie+"*(even|odd|(([+-]|)(\\d*)n|)"+ie+"*(?:([+-]|)"+ie+"*(\\d+)|))"+ie+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ie+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ie+"*((?:-\\d)?\\d*)"+ie+"*\\)|)(?=[^-]|$)","i")},fe=/^(?:input|select|textarea|button)$/i,_e=/^h\d$/i,me=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,ye=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ie+"?|("+ie+")|.)","ig"),Te=function(e,t,i){var n="0x"+t-65536;return n!=n||i?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},Se=function(){M()};try{K.apply(q=J.call(W.childNodes),W.childNodes),q[W.childNodes.length].nodeType}catch(e){K={apply:q.length?function(e,t){Z.apply(e,J.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}for(y in w=t.support={},x=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},M=t.setDocument=function(e){var t,i,n=e?e.ownerDocument||e:W;return n!==O&&9===n.nodeType&&n.documentElement?(O=n,k=n.documentElement,i=n.defaultView,i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",Se,!1):i.attachEvent&&i.attachEvent("onunload",Se)),N=!x(n),w.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=r(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=me.test(n.getElementsByClassName),w.getById=r(function(e){return k.appendChild(e).id=R,!n.getElementsByName||!n.getElementsByName(R).length}),w.getById?(T.find.ID=function(e,t){if(void 0!==t.getElementById&&N){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},T.filter.ID=function(e){var t=e.replace(we,Te);return function(e){return e.getAttribute("id")===t}}):(delete T.find.ID,T.filter.ID=function(e){var t=e.replace(we,Te);return function(e){var i=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}}),T.find.TAG=w.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;i=o[r++];)1===i.nodeType&&n.push(i);return n}return o},T.find.CLASS=w.getElementsByClassName&&function(e,t){return N?t.getElementsByClassName(e):void 0},L=[],H=[],(w.qsa=me.test(n.querySelectorAll))&&(r(function(e){k.appendChild(e).innerHTML="<a id='"+R+"'></a><select id='"+R+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&H.push("[*^$]="+ie+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||H.push("\\["+ie+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+R+"-]").length||H.push("~="),e.querySelectorAll(":checked").length||H.push(":checked"),e.querySelectorAll("a#"+R+"+*").length||H.push(".#.+[+~]")}),r(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&H.push("name"+ie+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||H.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),H.push(",.*:")})),(w.matchesSelector=me.test(z=k.matches||k.webkitMatchesSelector||k.mozMatchesSelector||k.oMatchesSelector||k.msMatchesSelector))&&r(function(e){w.disconnectedMatch=z.call(e,"div"),z.call(e,"[s!='']:x"),L.push("!=",ae)}),H=H.length&&new RegExp(H.join("|")),L=L.length&&new RegExp(L.join("|")),t=me.test(k.compareDocumentPosition),D=t||me.test(k.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},$=t?function(e,t){if(e===t)return A=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&i||!w.sortDetached&&t.compareDocumentPosition(e)===i?e===n||e.ownerDocument===W&&D(W,e)?-1:t===n||t.ownerDocument===W&&D(W,t)?1:j?ee(j,e)-ee(j,t):0:4&i?-1:1)}:function(e,t){if(e===t)return A=!0,0;var i,r=0,o=e.parentNode,s=t.parentNode,l=[e],u=[t];if(!o||!s)return e===n?-1:t===n?1:o?-1:s?1:j?ee(j,e)-ee(j,t):0;if(o===s)return a(e,t);for(i=e;i=i.parentNode;)l.unshift(i);for(i=t;i=i.parentNode;)u.unshift(i);for(;l[r]===u[r];)r++;return r?a(l[r],u[r]):l[r]===W?-1:u[r]===W?1:0},n):O},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if((e.ownerDocument||e)!==O&&M(e),i=i.replace(ce,"='$1']"),!(!w.matchesSelector||!N||L&&L.test(i)||H&&H.test(i)))try{var n=z.call(e,i);if(n||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return t(i,O,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==O&&M(e),D(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==O&&M(e);var i=T.attrHandle[t.toLowerCase()],n=i&&V.call(T.attrHandle,t.toLowerCase())?i(e,t,!N):void 0;return void 0!==n?n:w.attributes||!N?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,i=[],n=0,r=0;if(A=!w.detectDuplicates,j=!w.sortStable&&e.slice(0),e.sort($),A){for(;t=e[r++];)t===e[r]&&(n=i.push(r));for(;n--;)e.splice(i[n],1)}return j=null,e},S=t.getText=function(e){var t,i="",n=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=S(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[n++];)i+=S(t);return i},T=t.selectors={cacheLength:50,createPseudo:n,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,Te),e[3]=(e[3]||e[4]||e[5]||"").replace(we,Te),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return pe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&he.test(i)&&(t=I(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,Te).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=F[e+" "];return t||(t=new RegExp("(^|"+ie+")"+e+"("+ie+"|$)"))&&F(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,i,n){return function(r){var o=t.attr(r,e);return null==o?"!="===i:!i||(o+="","="===i?o===n:"!="===i?o!==n:"^="===i?n&&0===o.indexOf(n):"*="===i?n&&o.indexOf(n)>-1:"$="===i?n&&o.slice(-n.length)===n:"~="===i?(" "+o.replace(se," ")+" ").indexOf(n)>-1:"|="===i&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,i,n,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===n&&0===r?function(e){return!!e.parentNode}:function(t,i,l){var u,d,c,h,g,p,f=o!==a?"nextSibling":"previousSibling",_=t.parentNode,m=s&&t.nodeName.toLowerCase(),v=!l&&!s;if(_){if(o){for(;f;){for(c=t;c=c[f];)if(s?c.nodeName.toLowerCase()===m:1===c.nodeType)return!1;p=f="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?_.firstChild:_.lastChild],a&&v){for(d=_[R]||(_[R]={}),u=d[e]||[],g=u[0]===G&&u[1],h=u[0]===G&&u[2],c=g&&_.childNodes[g];c=++g&&c&&c[f]||(h=g=0)||p.pop();)if(1===c.nodeType&&++h&&c===t){d[e]=[G,g,h];break}}else if(v&&(u=(t[R]||(t[R]={}))[e])&&u[0]===G)h=u[1];else for(;(c=++g&&c&&c[f]||(h=g=0)||p.pop())&&((s?c.nodeName.toLowerCase()!==m:1!==c.nodeType)||!++h||(v&&((c[R]||(c[R]={}))[e]=[G,h]),c!==t)););return h-=r,h===n||h%n==0&&h/n>=0}}},PSEUDO:function(e,i){var r,o=T.pseudos[e]||T.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[R]?o(i):o.length>1?(r=[e,e,"",i],T.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){for(var n,r=o(e,i),a=r.length;a--;)n=ee(e,r[a]),e[n]=!(t[n]=r[a])}):function(e){return o(e,0,r)}):o}},pseudos:{not:n(function(e){var t=[],i=[],r=E(e.replace(le,"$1"));return r[R]?n(function(e,t,i,n){for(var o,a=r(e,null,n,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,n,o){return t[0]=e,r(t,null,o,i),t[0]=null,!i.pop()}}),has:n(function(e){return function(i){return t(e,i).length>0}}),contains:n(function(e){return e=e.replace(we,Te),function(t){return(t.textContent||t.innerText||S(t)).indexOf(e)>-1}}),lang:n(function(e){return ge.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,Te).toLowerCase(),function(t){var i;do{if(i=N?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===e||0===i.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===k},focus:function(e){return e===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return _e.test(e.nodeName)},input:function(e){return fe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,i){return[0>i?i+t:i]}),even:u(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:u(function(e,t){for(var i=1;t>i;i+=2)e.push(i);return e}),lt:u(function(e,t,i){for(var n=0>i?i+t:i;--n>=0;)e.push(n);return e}),gt:u(function(e,t,i){for(var n=0>i?i+t:i;++n<t;)e.push(n);return e})}},T.pseudos.nth=T.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[y]=s(y);for(y in{submit:!0,reset:!0})T.pseudos[y]=l(y);return c.prototype=T.filters=T.pseudos,T.setFilters=new c,I=t.tokenize=function(e,i){var n,r,o,a,s,l,u,d=B[e+" "];if(d)return i?0:d.slice(0);for(s=e,l=[],u=T.preFilter;s;){for(a in(!n||(r=ue.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),n=!1,(r=de.exec(s))&&(n=r.shift(),o.push({value:n,type:r[0].replace(le," ")}),s=s.slice(n.length)),T.filter)!(r=pe[a].exec(s))||u[a]&&!(r=u[a](r))||(n=r.shift(),o.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return i?s.length:s?t.error(e):B(e,l).slice(0)},E=t.compile=function(e,t){var i,n=[],r=[],o=Y[e+" "];if(!o){for(t||(t=I(e)),i=t.length;i--;)o=v(t[i]),o[R]?n.push(o):r.push(o);o=Y(e,b(r,n)),o.selector=e}return o},P=t.select=function(e,t,i,n){var r,o,a,s,l,u="function"==typeof e&&e,c=!n&&I(e=u.selector||e);if(i=i||[],1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&w.getById&&9===t.nodeType&&N&&T.relative[o[1].type]){if(t=(T.find.ID(a.matches[0].replace(we,Te),t)||[])[0],!t)return i;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=pe.needsContext.test(e)?0:o.length;r--&&(a=o[r],!T.relative[s=a.type]);)if((l=T.find[s])&&(n=l(a.matches[0].replace(we,Te),be.test(o[0].type)&&d(t.parentNode)||t))){if(o.splice(r,1),e=n.length&&h(o),!e)return K.apply(i,n),i;break}}return(u||E(e,c))(n,t,!N,i,be.test(e)&&d(t.parentNode)||t),i},w.sortStable=R.split("").sort($).join("")===R,w.detectDuplicates=!!A,M(),w.sortDetached=r(function(e){return 1&e.compareDocumentPosition(O.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,i){return i?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,i){return i||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,i){var n;return i?void 0:!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),t}(e);re.find=ue,re.expr=ue.selectors,re.expr[":"]=re.expr.pseudos,re.unique=ue.uniqueSort,re.text=ue.getText,re.isXMLDoc=ue.isXML,re.contains=ue.contains;var de=re.expr.match.needsContext,ce=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,he=/^.[^:#\[\.,]*$/;re.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?re.find.matchesSelector(n,e)?[n]:[]:re.find.matches(e,re.grep(t,function(e){return 1===e.nodeType}))},re.fn.extend({find:function(e){var t,i=[],n=this,r=n.length;if("string"!=typeof e)return this.pushStack(re(e).filter(function(){for(t=0;r>t;t++)if(re.contains(n[t],this))return!0}));for(t=0;r>t;t++)re.find(e,n[t],i);return i=this.pushStack(r>1?re.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(n(this,e||[],!1))},not:function(e){return this.pushStack(n(this,e||[],!0))},is:function(e){return!!n(this,"string"==typeof e&&de.test(e)?re(e):e||[],!1).length}});var ge,pe=e.document,fe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,_e=re.fn.init=function(e,t){var i,n;if(!e)return this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:fe.exec(e),!i||!i[1]&&t)return!t||t.jquery?(t||ge).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof re?t[0]:t,re.merge(this,re.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:pe,!0)),ce.test(i[1])&&re.isPlainObject(t))for(i in t)re.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}if(n=pe.getElementById(i[2]),n&&n.parentNode){if(n.id!==i[2])return ge.find(e);this.length=1,this[0]=n}return this.context=pe,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):re.isFunction(e)?void 0!==ge.ready?ge.ready(e):e(re):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),re.makeArray(e,this))};_e.prototype=re.fn,ge=re(pe);var me=/^(?:parents|prev(?:Until|All))/,ve={children:!0,contents:!0,next:!0,prev:!0};re.extend({dir:function(e,t,i){for(var n=[],r=e[t];r&&9!==r.nodeType&&(void 0===i||1!==r.nodeType||!re(r).is(i));)1===r.nodeType&&n.push(r),r=r[t];return n},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}}),re.fn.extend({has:function(e){var t,i=re(e,this),n=i.length;return this.filter(function(){for(t=0;n>t;t++)if(re.contains(this,i[t]))return!0})},closest:function(e,t){for(var i,n=0,r=this.length,o=[],a=de.test(e)||"string"!=typeof e?re(e,t||this.context):0;r>n;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(a?a.index(i)>-1:1===i.nodeType&&re.find.matchesSelector(i,e))){o.push(i);break}return this.pushStack(o.length>1?re.unique(o):o)},index:function(e){return e?"string"==typeof e?re.inArray(this[0],re(e)):re.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(re.unique(re.merge(this.get(),re(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),re.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return re.dir(e,"parentNode")},parentsUntil:function(e,t,i){return re.dir(e,"parentNode",i)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return re.dir(e,"nextSibling")},prevAll:function(e){return re.dir(e,"previousSibling")},nextUntil:function(e,t,i){return re.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return re.dir(e,"previousSibling",i)},siblings:function(e){return re.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return re.sibling(e.firstChild)},contents:function(e){return re.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:re.merge([],e.childNodes)}},function(e,t){re.fn[e]=function(i,n){var r=re.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=re.filter(n,r)),this.length>1&&(ve[e]||(r=re.unique(r)),me.test(e)&&(r=r.reverse())),this.pushStack(r)}});var be,ye=/\S+/g,we={};re.Callbacks=function(e){e="string"==typeof e?we[e]||o(e):re.extend({},e);var t,i,n,r,a,s,l=[],u=!e.once&&[],d=function(o){for(i=e.memory&&o,n=!0,a=s||0,s=0,r=l.length,t=!0;l&&r>a;a++)if(!1===l[a].apply(o[0],o[1])&&e.stopOnFalse){i=!1;break}t=!1,l&&(u?u.length&&d(u.shift()):i?l=[]:c.disable())},c={add:function(){if(l){var n=l.length;!function t(i){re.each(i,function(i,n){var r=re.type(n);"function"===r?e.unique&&c.has(n)||l.push(n):n&&n.length&&"string"!==r&&t(n)})}(arguments),t?r=l.length:i&&(s=n,d(i))}return this},remove:function(){return l&&re.each(arguments,function(e,i){for(var n;(n=re.inArray(i,l,n))>-1;)l.splice(n,1),t&&(r>=n&&r--,a>=n&&a--)}),this},has:function(e){return e?re.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],r=0,this},disable:function(){return l=u=i=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,i||c.disable(),this},locked:function(){return!u},fireWith:function(e,i){return!l||n&&!u||(i=i||[],i=[e,i.slice?i.slice():i],t?u.push(i):d(i)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},re.extend({Deferred:function(e){var t=[["resolve","done",re.Callbacks("once memory"),"resolved"],["reject","fail",re.Callbacks("once memory"),"rejected"],["notify","progress",re.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return re.Deferred(function(i){re.each(t,function(t,o){var a=re.isFunction(e[t])&&e[t];r[o[1]](function(){var e=a&&a.apply(this,arguments);e&&re.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[o[0]+"With"](this===n?i.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?re.extend(e,n):n}},r={};return n.pipe=n.then,re.each(t,function(e,o){var a=o[2],s=o[3];n[o[1]]=a.add,s&&a.add(function(){i=s},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?n:this,arguments),this},r[o[0]+"With"]=a.fireWith}),n.promise(r),e&&e.call(r,r),r},when:function(e){var t,i,n,r=0,o=q.call(arguments),a=o.length,s=1!==a||e&&re.isFunction(e.promise)?a:0,l=1===s?e:re.Deferred(),u=function(e,i,n){return function(r){i[e]=this,n[e]=arguments.length>1?q.call(arguments):r,n===t?l.notifyWith(i,n):--s||l.resolveWith(i,n)}};if(a>1)for(t=new Array(a),i=new Array(a),n=new Array(a);a>r;r++)o[r]&&re.isFunction(o[r].promise)?o[r].promise().done(u(r,n,o)).fail(l.reject).progress(u(r,i,t)):--s;return s||l.resolveWith(n,o),l.promise()}}),re.fn.ready=function(e){return re.ready.promise().done(e),this},re.extend({isReady:!1,readyWait:1,holdReady:function(e){e?re.readyWait++:re.ready(!0)},ready:function(e){if(!0===e?!--re.readyWait:!re.isReady){if(!pe.body)return setTimeout(re.ready);re.isReady=!0,!0!==e&&--re.readyWait>0||(be.resolveWith(pe,[re]),re.fn.triggerHandler&&(re(pe).triggerHandler("ready"),re(pe).off("ready")))}}}),re.ready.promise=function(t){if(!be)if(be=re.Deferred(),"complete"===pe.readyState)setTimeout(re.ready);else if(pe.addEventListener)pe.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1);else{pe.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var i=!1;try{i=null==e.frameElement&&pe.documentElement}catch(e){}i&&i.doScroll&&function e(){if(!re.isReady){try{i.doScroll("left")}catch(t){return setTimeout(e,50)}a(),re.ready()}}()}return be.promise(t)};var Te,Se="undefined";for(Te in re(ie))break;ie.ownLast="0"!==Te,ie.inlineBlockNeedsLayout=!1,re(function(){var e,t,i,n;i=pe.getElementsByTagName("body")[0],i&&i.style&&(t=pe.createElement("div"),n=pe.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(t),typeof t.style.zoom!==Se&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ie.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(i.style.zoom=1)),i.removeChild(n))}),function(){var e=pe.createElement("div");if(null==ie.deleteExpando){ie.deleteExpando=!0;try{delete e.test}catch(e){ie.deleteExpando=!1}}e=null}(),re.acceptData=function(e){var t=re.noData[(e.nodeName+" ").toLowerCase()],i=+e.nodeType||1;return(1===i||9===i)&&(!t||!0!==t&&e.getAttribute("classid")===t)};var xe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ie=/([A-Z])/g;re.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?re.cache[e[re.expando]]:e[re.expando],!!e&&!u(e)},data:function(e,t,i){return d(e,t,i)},removeData:function(e,t){return c(e,t)},_data:function(e,t,i){return d(e,t,i,!0)},_removeData:function(e,t){return c(e,t,!0)}}),re.fn.extend({data:function(e,t){var i,n,r,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(r=re.data(o),1===o.nodeType&&!re._data(o,"parsedAttrs"))){for(i=a.length;i--;)a[i]&&(n=a[i].name,0===n.indexOf("data-")&&(n=re.camelCase(n.slice(5)),l(o,n,r[n])));re._data(o,"parsedAttrs",!0)}return r}return"object"==typeof e?this.each(function(){re.data(this,e)}):arguments.length>1?this.each(function(){re.data(this,e,t)}):o?l(o,e,re.data(o,e)):void 0},removeData:function(e){return this.each(function(){re.removeData(this,e)})}}),re.extend({queue:function(e,t,i){var n;return e?(t=(t||"fx")+"queue",n=re._data(e,t),i&&(!n||re.isArray(i)?n=re._data(e,t,re.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(e,t){t=t||"fx";var i=re.queue(e,t),n=i.length,r=i.shift(),o=re._queueHooks(e,t),a=function(){re.dequeue(e,t)};"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===t&&i.unshift("inprogress"),delete o.stop,r.call(e,a,o)),!n&&o&&o.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return re._data(e,i)||re._data(e,i,{empty:re.Callbacks("once memory").add(function(){re._removeData(e,t+"queue"),re._removeData(e,i)})})}}),re.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?re.queue(this[0],e):void 0===t?this:this.each(function(){var i=re.queue(this,e,t);re._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&re.dequeue(this,e)})},dequeue:function(e){return this.each(function(){re.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,r=re.Deferred(),o=this,a=this.length,s=function(){--n||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)i=re._data(o[a],e+"queueHooks"),i&&i.empty&&(n++,i.empty.add(s));return s(),r.promise(t)}});var Ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Pe=["Top","Right","Bottom","Left"],Ce=function(e,t){return e=t||e,"none"===re.css(e,"display")||!re.contains(e.ownerDocument,e)},je=re.access=function(e,t,i,n,r,o,a){var s=0,l=e.length,u=null==i;if("object"===re.type(i))for(s in r=!0,i)re.access(e,t,s,i[s],!0,o,a);else if(void 0!==n&&(r=!0,re.isFunction(n)||(a=!0),u&&(a?(t.call(e,n),t=null):(u=t,t=function(e,t,i){return u.call(re(e),i)})),t))for(;l>s;s++)t(e[s],i,a?n:n.call(e[s],s,t(e[s],i)));return r?e:u?t.call(e):l?t(e[0],i):o},Ae=/^(?:checkbox|radio)$/i;!function(){var e=pe.createElement("input"),t=pe.createElement("div"),i=pe.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ie.leadingWhitespace=3===t.firstChild.nodeType,ie.tbody=!t.getElementsByTagName("tbody").length,ie.htmlSerialize=!!t.getElementsByTagName("link").length,ie.html5Clone="<:nav></:nav>"!==pe.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,i.appendChild(e),ie.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",ie.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,i.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",ie.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,ie.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){ie.noCloneEvent=!1}),t.cloneNode(!0).click()),null==ie.deleteExpando){ie.deleteExpando=!0;try{delete t.test}catch(e){ie.deleteExpando=!1}}}(),function(){var t,i,n=pe.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})i="on"+t,(ie[t+"Bubbles"]=i in e)||(n.setAttribute(i,"t"),ie[t+"Bubbles"]=!1===n.attributes[i].expando);n=null}();var Me=/^(?:input|select|textarea)$/i,Oe=/^key/,ke=/^(?:mouse|pointer|contextmenu)|click/,Ne=/^(?:focusinfocus|focusoutblur)$/,He=/^([^.]*)(?:\.(.+)|)$/;re.event={global:{},add:function(e,t,i,n,r){var o,a,s,l,u,d,c,h,g,p,f,_=re._data(e);if(_){for(i.handler&&(l=i,i=l.handler,r=l.selector),i.guid||(i.guid=re.guid++),(a=_.events)||(a=_.events={}),(d=_.handle)||(d=_.handle=function(e){return typeof re===Se||e&&re.event.triggered===e.type?void 0:re.event.dispatch.apply(d.elem,arguments)},d.elem=e),t=(t||"").match(ye)||[""],s=t.length;s--;)o=He.exec(t[s])||[],g=f=o[1],p=(o[2]||"").split(".").sort(),g&&(u=re.event.special[g]||{},g=(r?u.delegateType:u.bindType)||g,u=re.event.special[g]||{},c=re.extend({type:g,origType:f,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&re.expr.match.needsContext.test(r),namespace:p.join(".")},l),(h=a[g])||(h=a[g]=[],h.delegateCount=0,u.setup&&!1!==u.setup.call(e,n,p,d)||(e.addEventListener?e.addEventListener(g,d,!1):e.attachEvent&&e.attachEvent("on"+g,d))),u.add&&(u.add.call(e,c),c.handler.guid||(c.handler.guid=i.guid)),r?h.splice(h.delegateCount++,0,c):h.push(c),re.event.global[g]=!0);e=null}},remove:function(e,t,i,n,r){var o,a,s,l,u,d,c,h,g,p,f,_=re.hasData(e)&&re._data(e);if(_&&(d=_.events)){for(t=(t||"").match(ye)||[""],u=t.length;u--;)if(s=He.exec(t[u])||[],g=f=s[1],p=(s[2]||"").split(".").sort(),g){for(c=re.event.special[g]||{},g=(n?c.delegateType:c.bindType)||g,h=d[g]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=h.length;o--;)a=h[o],!r&&f!==a.origType||i&&i.guid!==a.guid||s&&!s.test(a.namespace)||n&&n!==a.selector&&("**"!==n||!a.selector)||(h.splice(o,1),a.selector&&h.delegateCount--,c.remove&&c.remove.call(e,a));l&&!h.length&&(c.teardown&&!1!==c.teardown.call(e,p,_.handle)||re.removeEvent(e,g,_.handle),delete d[g])}else for(g in d)re.event.remove(e,g+t[u],i,n,!0);re.isEmptyObject(d)&&(delete _.handle,re._removeData(e,"events"))}},trigger:function(t,i,n,r){var o,a,s,l,u,d,c,h=[n||pe],g=te.call(t,"type")?t.type:t,p=te.call(t,"namespace")?t.namespace.split("."):[];if(s=d=n=n||pe,3!==n.nodeType&&8!==n.nodeType&&!Ne.test(g+re.event.triggered)&&(g.indexOf(".")>=0&&(p=g.split("."),g=p.shift(),p.sort()),a=g.indexOf(":")<0&&"on"+g,t=t[re.expando]?t:new re.Event(g,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=p.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),i=null==i?[t]:re.makeArray(i,[t]),u=re.event.special[g]||{},r||!u.trigger||!1!==u.trigger.apply(n,i))){if(!r&&!u.noBubble&&!re.isWindow(n)){for(l=u.delegateType||g,Ne.test(l+g)||(s=s.parentNode);s;s=s.parentNode)h.push(s),d=s;d===(n.ownerDocument||pe)&&h.push(d.defaultView||d.parentWindow||e)}for(c=0;(s=h[c++])&&!t.isPropagationStopped();)t.type=c>1?l:u.bindType||g,o=(re._data(s,"events")||{})[t.type]&&re._data(s,"handle"),o&&o.apply(s,i),o=a&&s[a],o&&o.apply&&re.acceptData(s)&&(t.result=o.apply(s,i),!1===t.result&&t.preventDefault());if(t.type=g,!r&&!t.isDefaultPrevented()&&(!u._default||!1===u._default.apply(h.pop(),i))&&re.acceptData(n)&&a&&n[g]&&!re.isWindow(n)){d=n[a],d&&(n[a]=null),re.event.triggered=g;try{n[g]()}catch(e){}re.event.triggered=void 0,d&&(n[a]=d)}return t.result}},dispatch:function(e){e=re.event.fix(e);var t,i,n,r,o,a=[],s=q.call(arguments),l=(re._data(this,"events")||{})[e.type]||[],u=re.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,e)){for(a=re.event.handlers.call(this,e,l),
t=0;(r=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,o=0;(n=r.handlers[o++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(n.namespace))&&(e.handleObj=n,e.data=n.data,i=((re.event.special[n.origType]||{}).handle||n.handler).apply(r.elem,s),void 0!==i&&!1===(e.result=i)&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,n,r,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(r=[],o=0;s>o;o++)n=t[o],i=n.selector+" ",void 0===r[i]&&(r[i]=n.needsContext?re(i,this).index(l)>=0:re.find(i,this,null,[l]).length),r[i]&&r.push(n);r.length&&a.push({elem:l,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[re.expando])return e;var t,i,n,r=e.type,o=e,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=ke.test(r)?this.mouseHooks:Oe.test(r)?this.keyHooks:{}),n=a.props?this.props.concat(a.props):this.props,e=new re.Event(o),t=n.length;t--;)i=n[t],e[i]=o[i];return e.target||(e.target=o.srcElement||pe),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,n,r,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||pe,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==p()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===p()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return re.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return re.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i,n){var r=re.extend(new re.Event,i,{type:e,isSimulated:!0,originalEvent:{}});n?re.event.trigger(r,null,t):re.event.dispatch.call(t,r),r.isDefaultPrevented()&&i.preventDefault()}},re.removeEvent=pe.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)}:function(e,t,i){var n="on"+t;e.detachEvent&&(typeof e[n]===Se&&(e[n]=null),e.detachEvent(n,i))},re.Event=function(e,t){return this instanceof re.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?h:g):this.type=e,t&&re.extend(this,t),this.timeStamp=e&&e.timeStamp||re.now(),void(this[re.expando]=!0)):new re.Event(e,t)},re.Event.prototype={isDefaultPrevented:g,isPropagationStopped:g,isImmediatePropagationStopped:g,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=h,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=h,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=h,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},re.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){re.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,r=e.relatedTarget,o=e.handleObj;return(!r||r!==n&&!re.contains(n,r))&&(e.type=o.origType,i=o.handler.apply(this,arguments),e.type=t),i}}}),ie.submitBubbles||(re.event.special.submit={setup:function(){return!re.nodeName(this,"form")&&void re.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,i=re.nodeName(t,"input")||re.nodeName(t,"button")?t.form:void 0;i&&!re._data(i,"submitBubbles")&&(re.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),re._data(i,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&re.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return!re.nodeName(this,"form")&&void re.event.remove(this,"._submit")}}),ie.changeBubbles||(re.event.special.change={setup:function(){return Me.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(re.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),re.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),re.event.simulate("change",this,e,!0)})),!1):void re.event.add(this,"beforeactivate._change",function(e){var t=e.target;Me.test(t.nodeName)&&!re._data(t,"changeBubbles")&&(re.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||re.event.simulate("change",this.parentNode,e,!0)}),re._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return re.event.remove(this,"._change"),!Me.test(this.nodeName)}}),ie.focusinBubbles||re.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){re.event.simulate(t,e.target,re.event.fix(e),!0)};re.event.special[t]={setup:function(){var n=this.ownerDocument||this,r=re._data(n,t);r||n.addEventListener(e,i,!0),re._data(n,t,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=re._data(n,t)-1;r?re._data(n,t,r):(n.removeEventListener(e,i,!0),re._removeData(n,t))}}}),re.fn.extend({on:function(e,t,i,n,r){var o,a;if("object"==typeof e){for(o in"string"!=typeof t&&(i=i||t,t=void 0),e)this.on(o,t,i,e[o],r);return this}if(null==i&&null==n?(n=t,i=t=void 0):null==n&&("string"==typeof t?(n=i,i=void 0):(n=i,i=t,t=void 0)),!1===n)n=g;else if(!n)return this;return 1===r&&(a=n,n=function(e){return re().off(e),a.apply(this,arguments)},n.guid=a.guid||(a.guid=re.guid++)),this.each(function(){re.event.add(this,e,n,i,t)})},one:function(e,t,i,n){return this.on(e,t,i,n,1)},off:function(e,t,i){var n,r;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,re(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return(!1===t||"function"==typeof t)&&(i=t,t=void 0),!1===i&&(i=g),this.each(function(){re.event.remove(this,e,i,t)})},trigger:function(e,t){return this.each(function(){re.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];return i?re.event.trigger(e,t,i,!0):void 0}});var Le="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",ze=/ jQuery\d+="(?:null|\d+)"/g,De=new RegExp("<(?:"+Le+")[\\s/>]","i"),Re=/^\s+/,We=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ge=/<([\w:]+)/,Qe=/<tbody/i,Fe=/<|&#?\w+;/,Be=/<(?:script|style|link)/i,Ye=/checked\s*(?:[^=]|=\s*.checked.)/i,$e=/^$|\/(?:java|ecma)script/i,Ue=/^true\/(.*)/,Ve=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,qe={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ie.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Xe=f(pe),Ze=Xe.appendChild(pe.createElement("div"));qe.optgroup=qe.option,qe.tbody=qe.tfoot=qe.colgroup=qe.caption=qe.thead,qe.th=qe.td,re.extend({clone:function(e,t,i){var n,r,o,a,s,l=re.contains(e.ownerDocument,e);if(ie.html5Clone||re.isXMLDoc(e)||!De.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Ze.innerHTML=e.outerHTML,Ze.removeChild(o=Ze.firstChild)),!(ie.noCloneEvent&&ie.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||re.isXMLDoc(e)))for(n=_(o),s=_(e),a=0;null!=(r=s[a]);++a)n[a]&&S(r,n[a]);if(t)if(i)for(s=s||_(e),n=n||_(o),a=0;null!=(r=s[a]);a++)T(r,n[a]);else T(e,o);return n=_(o,"script"),n.length>0&&w(n,!l&&_(e,"script")),n=s=r=null,o},buildFragment:function(e,t,i,n){for(var r,o,a,s,l,u,d,c=e.length,h=f(t),g=[],p=0;c>p;p++)if(o=e[p],o||0===o)if("object"===re.type(o))re.merge(g,o.nodeType?[o]:o);else if(Fe.test(o)){for(s=s||h.appendChild(t.createElement("div")),l=(Ge.exec(o)||["",""])[1].toLowerCase(),d=qe[l]||qe._default,s.innerHTML=d[1]+o.replace(We,"<$1></$2>")+d[2],r=d[0];r--;)s=s.lastChild;if(!ie.leadingWhitespace&&Re.test(o)&&g.push(t.createTextNode(Re.exec(o)[0])),!ie.tbody)for(o="table"!==l||Qe.test(o)?"<table>"!==d[1]||Qe.test(o)?0:s:s.firstChild,r=o&&o.childNodes.length;r--;)re.nodeName(u=o.childNodes[r],"tbody")&&!u.childNodes.length&&o.removeChild(u);for(re.merge(g,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=h.lastChild}else g.push(t.createTextNode(o));for(s&&h.removeChild(s),ie.appendChecked||re.grep(_(g,"input"),m),p=0;o=g[p++];)if((!n||-1===re.inArray(o,n))&&(a=re.contains(o.ownerDocument,o),s=_(h.appendChild(o),"script"),a&&w(s),i))for(r=0;o=s[r++];)$e.test(o.type||"")&&i.push(o);return s=null,h},cleanData:function(e,t){for(var i,n,r,o,a=0,s=re.expando,l=re.cache,u=ie.deleteExpando,d=re.event.special;null!=(i=e[a]);a++)if((t||re.acceptData(i))&&(r=i[s],o=r&&l[r])){if(o.events)for(n in o.events)d[n]?re.event.remove(i,n):re.removeEvent(i,n,o.handle);l[r]&&(delete l[r],u?delete i[s]:typeof i.removeAttribute!==Se?i.removeAttribute(s):i[s]=null,V.push(r))}}}),re.fn.extend({text:function(e){return je(this,function(e){return void 0===e?re.text(this):this.empty().append((this[0]&&this[0].ownerDocument||pe).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var i,n=e?re.filter(e,this):this,r=0;null!=(i=n[r]);r++)t||1!==i.nodeType||re.cleanData(_(i)),i.parentNode&&(t&&re.contains(i.ownerDocument,i)&&w(_(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&re.cleanData(_(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&re.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return re.clone(this,e,t)})},html:function(e){return je(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(ze,""):void 0;if(!("string"!=typeof e||Be.test(e)||!ie.htmlSerialize&&De.test(e)||!ie.leadingWhitespace&&Re.test(e)||qe[(Ge.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(We,"<$1></$2>");try{for(;n>i;i++)t=this[i]||{},1===t.nodeType&&(re.cleanData(_(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,re.cleanData(_(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=X.apply([],e);var i,n,r,o,a,s,l=0,u=this.length,d=this,c=u-1,h=e[0],g=re.isFunction(h);if(g||u>1&&"string"==typeof h&&!ie.checkClone&&Ye.test(h))return this.each(function(i){var n=d.eq(i);g&&(e[0]=h.call(this,i,n.html())),n.domManip(e,t)});if(u&&(s=re.buildFragment(e,this[0].ownerDocument,!1,this),i=s.firstChild,1===s.childNodes.length&&(s=i),i)){for(o=re.map(_(s,"script"),b),r=o.length;u>l;l++)n=s,l!==c&&(n=re.clone(n,!0,!0),r&&re.merge(o,_(n,"script"))),t.call(this[l],n,l);if(r)for(a=o[o.length-1].ownerDocument,re.map(o,y),l=0;r>l;l++)n=o[l],$e.test(n.type||"")&&!re._data(n,"globalEval")&&re.contains(a,n)&&(n.src?re._evalUrl&&re._evalUrl(n.src):re.globalEval((n.text||n.textContent||n.innerHTML||"").replace(Ve,"")));s=i=null}return this}}),re.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){re.fn[e]=function(e){for(var i,n=0,r=[],o=re(e),a=o.length-1;a>=n;n++)i=n===a?this:this.clone(!0),re(o[n])[t](i),Z.apply(r,i.get());return this.pushStack(r)}});var Ke,Je={};!function(){var e;ie.shrinkWrapBlocks=function(){return null!=e?e:(e=!1,i=pe.getElementsByTagName("body")[0],i&&i.style?(t=pe.createElement("div"),n=pe.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(t),typeof t.style.zoom!==Se&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(pe.createElement("div")).style.width="5px",e=3!==t.offsetWidth),i.removeChild(n),e):void 0);var t,i,n}}();var et,tt,it=/^margin/,nt=new RegExp("^("+Ee+")(?!px)[a-z%]+$","i"),rt=/^(top|right|bottom|left)$/;e.getComputedStyle?(et=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)},tt=function(e,t,i){var n,r,o,a,s=e.style;return i=i||et(e),a=i?i.getPropertyValue(t)||i[t]:void 0,i&&(""!==a||re.contains(e.ownerDocument,e)||(a=re.style(e,t)),nt.test(a)&&it.test(t)&&(n=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=i.width,s.width=n,s.minWidth=r,s.maxWidth=o)),void 0===a?a:a+""}):pe.documentElement.currentStyle&&(et=function(e){return e.currentStyle},tt=function(e,t,i){var n,r,o,a,s=e.style;return i=i||et(e),a=i?i[t]:void 0,null==a&&s&&s[t]&&(a=s[t]),nt.test(a)&&!rt.test(t)&&(n=s.left,r=e.runtimeStyle,o=r&&r.left,o&&(r.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=n,o&&(r.left=o)),void 0===a?a:a+""||"auto"}),function(){var t,i,n,r,o,a,s;if(t=pe.createElement("div"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=t.getElementsByTagName("a")[0],i=n&&n.style){function l(){var t,i,n,l;i=pe.getElementsByTagName("body")[0],i&&i.style&&(t=pe.createElement("div"),n=pe.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",r=o=!1,s=!0,e.getComputedStyle&&(r="1%"!==(e.getComputedStyle(t,null)||{}).top,o="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,l=t.appendChild(pe.createElement("div")),l.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",l.style.marginRight=l.style.width="0",t.style.width="1px",s=!parseFloat((e.getComputedStyle(l,null)||{}).marginRight),t.removeChild(l)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",l=t.getElementsByTagName("td"),l[0].style.cssText="margin:0;border:0;padding:0;display:none",a=0===l[0].offsetHeight,a&&(l[0].style.display="",l[1].style.display="none",a=0===l[0].offsetHeight),i.removeChild(n))}i.cssText="float:left;opacity:.5",ie.opacity="0.5"===i.opacity,ie.cssFloat=!!i.cssFloat,t.style.backgroundClip="content-box",t.cloneNode(!0).style.backgroundClip="",ie.clearCloneStyle="content-box"===t.style.backgroundClip,ie.boxSizing=""===i.boxSizing||""===i.MozBoxSizing||""===i.WebkitBoxSizing,re.extend(ie,{reliableHiddenOffsets:function(){return null==a&&l(),a},boxSizingReliable:function(){return null==o&&l(),o},pixelPosition:function(){return null==r&&l(),r},reliableMarginRight:function(){return null==s&&l(),s}})}}(),re.swap=function(e,t,i,n){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in r=i.apply(e,n||[]),t)e.style[o]=a[o];return r};var ot=/alpha\([^)]*\)/i,at=/opacity\s*=\s*([^)]*)/,st=/^(none|table(?!-c[ea]).+)/,lt=new RegExp("^("+Ee+")(.*)$","i"),ut=new RegExp("^([+-])=("+Ee+")","i"),dt={position:"absolute",visibility:"hidden",display:"block"},ct={letterSpacing:"0",fontWeight:"400"},ht=["Webkit","O","Moz","ms"];re.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=tt(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:ie.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=re.camelCase(t),l=e.style;if(t=re.cssProps[s]||(re.cssProps[s]=P(l,s)),a=re.cssHooks[t]||re.cssHooks[s],void 0===i)return a&&"get"in a&&void 0!==(r=a.get(e,!1,n))?r:l[t];if(o=typeof i,"string"===o&&(r=ut.exec(i))&&(i=(r[1]+1)*r[2]+parseFloat(re.css(e,t)),o="number"),null!=i&&i==i&&("number"!==o||re.cssNumber[s]||(i+="px"),ie.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),!(a&&"set"in a&&void 0===(i=a.set(e,i,n)))))try{l[t]=i}catch(e){}}},css:function(e,t,i,n){var r,o,a,s=re.camelCase(t);return t=re.cssProps[s]||(re.cssProps[s]=P(e.style,s)),a=re.cssHooks[t]||re.cssHooks[s],a&&"get"in a&&(o=a.get(e,!0,i)),void 0===o&&(o=tt(e,t,n)),"normal"===o&&t in ct&&(o=ct[t]),""===i||i?(r=parseFloat(o),!0===i||re.isNumeric(r)?r||0:o):o}}),re.each(["height","width"],function(e,t){re.cssHooks[t]={get:function(e,i,n){return i?st.test(re.css(e,"display"))&&0===e.offsetWidth?re.swap(e,dt,function(){return M(e,t,n)}):M(e,t,n):void 0},set:function(e,i,n){var r=n&&et(e);return j(e,i,n?A(e,t,n,ie.boxSizing&&"border-box"===re.css(e,"boxSizing",!1,r),r):0)}}}),ie.opacity||(re.cssHooks.opacity={get:function(e,t){return at.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,n=e.currentStyle,r=re.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=n&&n.filter||i.filter||"";i.zoom=1,(t>=1||""===t)&&""===re.trim(o.replace(ot,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===t||n&&!n.filter)||(i.filter=ot.test(o)?o.replace(ot,r):o+" "+r)}}),re.cssHooks.marginRight=E(ie.reliableMarginRight,function(e,t){return t?re.swap(e,{display:"inline-block"},tt,[e,"marginRight"]):void 0}),re.each({margin:"",padding:"",border:"Width"},function(e,t){re.cssHooks[e+t]={expand:function(i){for(var n=0,r={},o="string"==typeof i?i.split(" "):[i];4>n;n++)r[e+Pe[n]+t]=o[n]||o[n-2]||o[0];return r}},it.test(e)||(re.cssHooks[e+t].set=j)}),re.fn.extend({css:function(e,t){return je(this,function(e,t,i){var n,r,o={},a=0;if(re.isArray(t)){for(n=et(e),r=t.length;r>a;a++)o[t[a]]=re.css(e,t[a],!1,n);return o}return void 0!==i?re.style(e,t,i):re.css(e,t)},e,t,arguments.length>1)},show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ce(this)?re(this).show():re(this).hide()})}}),re.Tween=O,O.prototype={constructor:O,init:function(e,t,i,n,r,o){this.elem=e,this.prop=i,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=o||(re.cssNumber[i]?"":"px")},cur:function(){var e=O.propHooks[this.prop];return e&&e.get?e.get(this):O.propHooks._default.get(this)},run:function(e){var t,i=O.propHooks[this.prop];return this.options.duration?this.pos=t=re.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):O.propHooks._default.set(this),this}},O.prototype.init.prototype=O.prototype,O.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=re.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){re.fx.step[e.prop]?re.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[re.cssProps[e.prop]]||re.cssHooks[e.prop])?re.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},O.propHooks.scrollTop=O.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},re.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},re.fx=O.prototype.init,re.fx.step={};var gt,pt,ft=/^(?:toggle|show|hide)$/,_t=new RegExp("^(?:([+-])=|)("+Ee+")([a-z%]*)$","i"),mt=/queueHooks$/,vt=[L],bt={"*":[function(e,t){var i=this.createTween(e,t),n=i.cur(),r=_t.exec(t),o=r&&r[3]||(re.cssNumber[e]?"":"px"),a=(re.cssNumber[e]||"px"!==o&&+n)&&_t.exec(re.css(i.elem,e)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],r=r||[],a=+n||1;do{s=s||".5",a/=s,re.style(i.elem,e,a+o)}while(s!==(s=i.cur()/n)&&1!==s&&--l)}return r&&(a=i.start=+a||+n||0,i.unit=o,i.end=r[1]?a+(r[1]+1)*r[2]:+r[2]),i}]};re.Animation=re.extend(D,{tweener:function(e,t){re.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,n=0,r=e.length;r>n;n++)i=e[n],bt[i]=bt[i]||[],bt[i].unshift(t)},prefilter:function(e,t){t?vt.unshift(e):vt.push(e)}}),re.speed=function(e,t,i){var n=e&&"object"==typeof e?re.extend({},e):{complete:i||!i&&t||re.isFunction(e)&&e,duration:e,easing:i&&t||t&&!re.isFunction(t)&&t};return n.duration=re.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in re.fx.speeds?re.fx.speeds[n.duration]:re.fx.speeds._default,(null==n.queue||!0===n.queue)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){re.isFunction(n.old)&&n.old.call(this),n.queue&&re.dequeue(this,n.queue)},n},re.fn.extend({fadeTo:function(e,t,i,n){return this.filter(Ce).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var r=re.isEmptyObject(e),o=re.speed(t,i,n),a=function(){var t=D(this,re.extend({},e),o);(r||re._data(this,"finish"))&&t.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=re.timers,a=re._data(this);if(r)a[r]&&a[r].stop&&n(a[r]);else for(r in a)a[r]&&a[r].stop&&mt.test(r)&&n(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(i),t=!1,o.splice(r,1));(t||!i)&&re.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,i=re._data(this),n=i[e+"queue"],r=i[e+"queueHooks"],o=re.timers,a=n?n.length:0;for(i.finish=!0,re.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),re.each(["toggle","show","hide"],function(e,t){var i=re.fn[t];re.fn[t]=function(e,n,r){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(N(t,!0),e,n,r)}}),re.each({slideDown:N("show"),slideUp:N("hide"),slideToggle:N("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){re.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),re.timers=[],re.fx.tick=function(){var e,t=re.timers,i=0;for(gt=re.now();i<t.length;i++)e=t[i],e()||t[i]!==e||t.splice(i--,1);t.length||re.fx.stop(),gt=void 0},re.fx.timer=function(e){re.timers.push(e),e()?re.fx.start():re.timers.pop()},re.fx.interval=13,re.fx.start=function(){pt||(pt=setInterval(re.fx.tick,re.fx.interval))},re.fx.stop=function(){clearInterval(pt),pt=null},re.fx.speeds={slow:600,fast:200,_default:400},re.fn.delay=function(e,t){return e=re.fx&&re.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,i){var n=setTimeout(t,e);i.stop=function(){clearTimeout(n)}})},function(){var e,t,i,n,r;t=pe.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=t.getElementsByTagName("a")[0],i=pe.createElement("select"),r=i.appendChild(pe.createElement("option")),e=t.getElementsByTagName("input")[0],n.style.cssText="top:1px",ie.getSetAttribute="t"!==t.className,ie.style=/top/.test(n.getAttribute("style")),ie.hrefNormalized="/a"===n.getAttribute("href"),ie.checkOn=!!e.value,ie.optSelected=r.selected,ie.enctype=!!pe.createElement("form").enctype,i.disabled=!0,ie.optDisabled=!r.disabled,e=pe.createElement("input"),e.setAttribute("value",""),ie.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ie.radioValue="t"===e.value}();var yt=/\r/g;re.fn.extend({val:function(e){var t,i,n,r=this[0];return arguments.length?(n=re.isFunction(e),this.each(function(i){var r;1===this.nodeType&&(r=n?e.call(this,i,re(this).val()):e,null==r?r="":"number"==typeof r?r+="":re.isArray(r)&&(r=re.map(r,function(e){return null==e?"":e+""})),t=re.valHooks[this.type]||re.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=re.valHooks[r.type]||re.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(i=t.get(r,"value"))?i:(i=r.value,"string"==typeof i?i.replace(yt,""):null==i?"":i)):void 0}}),re.extend({valHooks:{option:{get:function(e){var t=re.find.attr(e,"value");return null!=t?t:re.trim(re.text(e))}},select:{get:function(e){for(var t,i,n=e.options,r=e.selectedIndex,o="select-one"===e.type||0>r,a=o?null:[],s=o?r+1:n.length,l=0>r?s:o?r:0;s>l;l++)if(i=n[l],!(!i.selected&&l!==r||(ie.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&re.nodeName(i.parentNode,"optgroup"))){if(t=re(i).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var i,n,r=e.options,o=re.makeArray(t),a=r.length;a--;)if(n=r[a],re.inArray(re.valHooks.option.get(n),o)>=0)try{n.selected=i=!0}catch(e){n.scrollHeight}else n.selected=!1;return i||(e.selectedIndex=-1),r}}}}),re.each(["radio","checkbox"],function(){re.valHooks[this]={set:function(e,t){return re.isArray(t)?e.checked=re.inArray(re(e).val(),t)>=0:void 0}},ie.checkOn||(re.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var wt,Tt,St=re.expr.attrHandle,xt=/^(?:checked|selected)$/i,It=ie.getSetAttribute,Et=ie.input;re.fn.extend({attr:function(e,t){return je(this,re.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){re.removeAttr(this,e)})}}),re.extend({attr:function(e,t,i){var n,r,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===Se?re.prop(e,t,i):(1===o&&re.isXMLDoc(e)||(t=t.toLowerCase(),n=re.attrHooks[t]||(re.expr.match.bool.test(t)?Tt:wt)),void 0===i?n&&"get"in n&&null!==(r=n.get(e,t))?r:(r=re.find.attr(e,t),null==r?void 0:r):null!==i?n&&"set"in n&&void 0!==(r=n.set(e,i,t))?r:(e.setAttribute(t,i+""),i):void re.removeAttr(e,t))},removeAttr:function(e,t){var i,n,r=0,o=t&&t.match(ye);if(o&&1===e.nodeType)for(;i=o[r++];)n=re.propFix[i]||i,re.expr.match.bool.test(i)?Et&&It||!xt.test(i)?e[n]=!1:e[re.camelCase("default-"+i)]=e[n]=!1:re.attr(e,i,""),e.removeAttribute(It?i:n)},attrHooks:{type:{set:function(e,t){if(!ie.radioValue&&"radio"===t&&re.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}}}),Tt={set:function(e,t,i){return!1===t?re.removeAttr(e,i):Et&&It||!xt.test(i)?e.setAttribute(!It&&re.propFix[i]||i,i):e[re.camelCase("default-"+i)]=e[i]=!0,i}},re.each(re.expr.match.bool.source.match(/\w+/g),function(e,t){var i=St[t]||re.find.attr;St[t]=Et&&It||!xt.test(t)?function(e,t,n){var r,o;return n||(o=St[t],St[t]=r,r=null!=i(e,t,n)?t.toLowerCase():null,St[t]=o),r}:function(e,t,i){return i?void 0:e[re.camelCase("default-"+t)]?t.toLowerCase():null}}),Et&&It||(re.attrHooks.value={set:function(e,t,i){return re.nodeName(e,"input")?void(e.defaultValue=t):wt&&wt.set(e,t,i)}}),It||(wt={set:function(e,t,i){var n=e.getAttributeNode(i);return n||e.setAttributeNode(n=e.ownerDocument.createAttribute(i)),n.value=t+="","value"===i||t===e.getAttribute(i)?t:void 0}},St.id=St.name=St.coords=function(e,t,i){var n;return i?void 0:(n=e.getAttributeNode(t))&&""!==n.value?n.value:null},re.valHooks.button={get:function(e,t){var i=e.getAttributeNode(t);return i&&i.specified?i.value:void 0},set:wt.set},re.attrHooks.contenteditable={set:function(e,t,i){wt.set(e,""!==t&&t,i)}},re.each(["width","height"],function(e,t){re.attrHooks[t]={set:function(e,i){return""===i?(e.setAttribute(t,"auto"),i):void 0}}})),ie.style||(re.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Pt=/^(?:input|select|textarea|button|object)$/i,Ct=/^(?:a|area)$/i;re.fn.extend({prop:function(e,t){return je(this,re.prop,e,t,arguments.length>1)},removeProp:function(e){return e=re.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(e){}})}}),re.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,i){var n,r,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return o=1!==a||!re.isXMLDoc(e),o&&(t=re.propFix[t]||t,r=re.propHooks[t]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:e[t]=i:r&&"get"in r&&null!==(n=r.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=re.find.attr(e,"tabindex");return t?parseInt(t,10):Pt.test(e.nodeName)||Ct.test(e.nodeName)&&e.href?0:-1}}}}),ie.hrefNormalized||re.each(["href","src"],function(e,t){re.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ie.optSelected||(re.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),re.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){re.propFix[this.toLowerCase()]=this}),ie.enctype||(re.propFix.enctype="encoding");var jt=/[\t\r\n\f]/g;re.fn.extend({addClass:function(e){var t,i,n,r,o,a,s=0,l=this.length,u="string"==typeof e&&e;if(re.isFunction(e))return this.each(function(t){re(this).addClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(ye)||[];l>s;s++)if(i=this[s],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(jt," "):" ")){for(o=0;r=t[o++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");a=re.trim(n),i.className!==a&&(i.className=a)}return this},removeClass:function(e){var t,i,n,r,o,a,s=0,l=this.length,u=0===arguments.length||"string"==typeof e&&e;if(re.isFunction(e))return this.each(function(t){re(this).removeClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(ye)||[];l>s;s++)if(i=this[s],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(jt," "):"")){for(o=0;r=t[o++];)for(;n.indexOf(" "+r+" ")>=0;)n=n.replace(" "+r+" "," ");a=e?re.trim(n):"",i.className!==a&&(i.className=a)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):this.each(re.isFunction(e)?function(i){re(this).toggleClass(e.call(this,i,this.className,t),t)}:function(){
if("string"===i)for(var t,n=0,r=re(this),o=e.match(ye)||[];t=o[n++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(i===Se||"boolean"===i)&&(this.className&&re._data(this,"__className__",this.className),this.className=this.className||!1===e?"":re._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(jt," ").indexOf(t)>=0)return!0;return!1}}),re.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){re.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),re.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}});var At=re.now(),Mt=/\?/,Ot=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;re.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var i,n=null,r=re.trim(t+"");return r&&!re.trim(r.replace(Ot,function(e,t,r,o){return i&&t&&(n=0),0===n?e:(i=r||t,n+=!o-!r,"")}))?Function("return "+r)():re.error("Invalid JSON: "+t)},re.parseXML=function(t){var i,n;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(n=new DOMParser,i=n.parseFromString(t,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(t))}catch(e){i=void 0}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||re.error("Invalid XML: "+t),i};var kt,Nt,Ht=/#.*$/,Lt=/([?&])_=[^&]*/,zt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Dt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Rt=/^(?:GET|HEAD)$/,Wt=/^\/\//,Gt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Qt={},Ft={},Bt="*/".concat("*");try{Nt=location.href}catch(e){Nt=pe.createElement("a"),Nt.href="",Nt=Nt.href}kt=Gt.exec(Nt.toLowerCase())||[],re.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Nt,type:"GET",isLocal:Dt.test(kt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Bt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":re.parseJSON,"text xml":re.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?G(G(e,re.ajaxSettings),t):G(re.ajaxSettings,e)},ajaxPrefilter:R(Qt),ajaxTransport:R(Ft),ajax:function(e,t){function i(e,t,i,n){var r,d,m,v,y,T=t;2!==b&&(b=2,s&&clearTimeout(s),u=void 0,a=n||"",w.readyState=e>0?4:0,r=e>=200&&300>e||304===e,i&&(v=Q(c,w,i)),v=F(c,v,w,r),r?(c.ifModified&&(y=w.getResponseHeader("Last-Modified"),y&&(re.lastModified[o]=y),y=w.getResponseHeader("etag"),y&&(re.etag[o]=y)),204===e||"HEAD"===c.type?T="nocontent":304===e?T="notmodified":(T=v.state,d=v.data,m=v.error,r=!m)):(m=T,(e||!T)&&(T="error",0>e&&(e=0))),w.status=e,w.statusText=(t||T)+"",r?p.resolveWith(h,[d,T,w]):p.rejectWith(h,[w,T,m]),w.statusCode(_),_=void 0,l&&g.trigger(r?"ajaxSuccess":"ajaxError",[w,c,r?d:m]),f.fireWith(h,[w,T]),l&&(g.trigger("ajaxComplete",[w,c]),--re.active||re.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r,o,a,s,l,u,d,c=re.ajaxSetup({},t),h=c.context||c,g=c.context&&(h.nodeType||h.jquery)?re(h):re.event,p=re.Deferred(),f=re.Callbacks("once memory"),_=c.statusCode||{},m={},v={},b=0,y="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!d)for(d={};t=zt.exec(a);)d[t[1].toLowerCase()]=t[2];t=d[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return b||(e=v[i]=v[i]||e,m[e]=t),this},overrideMimeType:function(e){return b||(c.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)_[t]=[_[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||y;return u&&u.abort(t),i(0,t),this}};if(p.promise(w).complete=f.add,w.success=w.done,w.error=w.fail,c.url=((e||c.url||Nt)+"").replace(Ht,"").replace(Wt,kt[1]+"//"),c.type=t.method||t.type||c.method||c.type,c.dataTypes=re.trim(c.dataType||"*").toLowerCase().match(ye)||[""],null==c.crossDomain&&(n=Gt.exec(c.url.toLowerCase()),c.crossDomain=!(!n||n[1]===kt[1]&&n[2]===kt[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(kt[3]||("http:"===kt[1]?"80":"443")))),c.data&&c.processData&&"string"!=typeof c.data&&(c.data=re.param(c.data,c.traditional)),W(Qt,c,t,w),2===b)return w;for(r in l=re.event&&c.global,l&&0==re.active++&&re.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!Rt.test(c.type),o=c.url,c.hasContent||(c.data&&(o=c.url+=(Mt.test(o)?"&":"?")+c.data,delete c.data),!1===c.cache&&(c.url=Lt.test(o)?o.replace(Lt,"$1_="+At++):o+(Mt.test(o)?"&":"?")+"_="+At++)),c.ifModified&&(re.lastModified[o]&&w.setRequestHeader("If-Modified-Since",re.lastModified[o]),re.etag[o]&&w.setRequestHeader("If-None-Match",re.etag[o])),(c.data&&c.hasContent&&!1!==c.contentType||t.contentType)&&w.setRequestHeader("Content-Type",c.contentType),w.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+("*"!==c.dataTypes[0]?", "+Bt+"; q=0.01":""):c.accepts["*"]),c.headers)w.setRequestHeader(r,c.headers[r]);if(c.beforeSend&&(!1===c.beforeSend.call(h,w,c)||2===b))return w.abort();for(r in y="abort",{success:1,error:1,complete:1})w[r](c[r]);if(u=W(Ft,c,t,w)){w.readyState=1,l&&g.trigger("ajaxSend",[w,c]),c.async&&c.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},c.timeout));try{b=1,u.send(m,i)}catch(e){if(!(2>b))throw e;i(-1,e)}}else i(-1,"No Transport");return w},getJSON:function(e,t,i){return re.get(e,t,i,"json")},getScript:function(e,t){return re.get(e,void 0,t,"script")}}),re.each(["get","post"],function(e,t){re[t]=function(e,i,n,r){return re.isFunction(i)&&(r=r||n,n=i,i=void 0),re.ajax({url:e,type:t,dataType:r,data:i,success:n})}}),re._evalUrl=function(e){return re.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},re.fn.extend({wrapAll:function(e){if(re.isFunction(e))return this.each(function(t){re(this).wrapAll(e.call(this,t))});if(this[0]){var t=re(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(re.isFunction(e)?function(t){re(this).wrapInner(e.call(this,t))}:function(){var t=re(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=re.isFunction(e);return this.each(function(i){re(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){re.nodeName(this,"body")||re(this).replaceWith(this.childNodes)}).end()}}),re.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ie.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||re.css(e,"display"))},re.expr.filters.visible=function(e){return!re.expr.filters.hidden(e)};var Yt=/%20/g,$t=/\[\]$/,Ut=/\r?\n/g,Vt=/^(?:submit|button|image|reset|file)$/i,qt=/^(?:input|select|textarea|keygen)/i;re.param=function(e,t){var i,n=[],r=function(e,t){t=re.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=re.ajaxSettings&&re.ajaxSettings.traditional),re.isArray(e)||e.jquery&&!re.isPlainObject(e))re.each(e,function(){r(this.name,this.value)});else for(i in e)B(i,e[i],t,r);return n.join("&").replace(Yt,"+")},re.fn.extend({serialize:function(){return re.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=re.prop(this,"elements");return e?re.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!re(this).is(":disabled")&&qt.test(this.nodeName)&&!Vt.test(e)&&(this.checked||!Ae.test(e))}).map(function(e,t){var i=re(this).val();return null==i?null:re.isArray(i)?re.map(i,function(e){return{name:t.name,value:e.replace(Ut,"\r\n")}}):{name:t.name,value:i.replace(Ut,"\r\n")}}).get()}}),re.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Y()||$()}:Y;var Xt=0,Zt={},Kt=re.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Zt)Zt[e](void 0,!0)}),ie.cors=!!Kt&&"withCredentials"in Kt,Kt=ie.ajax=!!Kt,Kt&&re.ajaxTransport(function(e){var t;if(!e.crossDomain||ie.cors)return{send:function(i,n){var r,o=e.xhr(),a=++Xt;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)o[r]=e.xhrFields[r];for(r in e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)void 0!==i[r]&&o.setRequestHeader(r,i[r]+"");o.send(e.hasContent&&e.data||null),t=function(i,r){var s,l,u;if(t&&(r||4===o.readyState))if(delete Zt[a],t=void 0,o.onreadystatechange=re.noop,r)4!==o.readyState&&o.abort();else{u={},s=o.status,"string"==typeof o.responseText&&(u.text=o.responseText);try{l=o.statusText}catch(e){l=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=u.text?200:404}u&&n(s,l,u,o.getAllResponseHeaders())},e.async?4===o.readyState?setTimeout(t):o.onreadystatechange=Zt[a]=t:t()},abort:function(){t&&t(void 0,!0)}}}),re.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return re.globalEval(e),e}}}),re.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),re.ajaxTransport("script",function(e){if(e.crossDomain){var t,i=pe.head||re("head")[0]||pe.documentElement;return{send:function(n,r){t=pe.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,i){(i||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,i||r(200,"success"))},i.insertBefore(t,i.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var Jt=[],ei=/(=)\?(?=&|$)|\?\?/;re.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Jt.pop()||re.expando+"_"+At++;return this[e]=!0,e}}),re.ajaxPrefilter("json jsonp",function(t,i,n){var r,o,a,s=!1!==t.jsonp&&(ei.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ei.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=re.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(ei,"$1"+r):!1!==t.jsonp&&(t.url+=(Mt.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||re.error(r+" was not called"),a[0]},t.dataTypes[0]="json",o=e[r],e[r]=function(){a=arguments},n.always(function(){e[r]=o,t[r]&&(t.jsonpCallback=i.jsonpCallback,Jt.push(r)),a&&re.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),re.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||pe;var n=ce.exec(e),r=!i&&[];return n?[t.createElement(n[1])]:(n=re.buildFragment([e],t,r),r&&r.length&&re(r).remove(),re.merge([],n.childNodes))};var ti=re.fn.load;re.fn.load=function(e,t,i){if("string"!=typeof e&&ti)return ti.apply(this,arguments);var n,r,o,a=this,s=e.indexOf(" ");return s>=0&&(n=re.trim(e.slice(s,e.length)),e=e.slice(0,s)),re.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&re.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){r=arguments,a.html(n?re("<div>").append(re.parseHTML(e)).find(n):e)}).complete(i&&function(e,t){a.each(i,r||[e.responseText,t,e])}),this},re.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){re.fn[t]=function(e){return this.on(t,e)}}),re.expr.filters.animated=function(e){return re.grep(re.timers,function(t){return e===t.elem}).length};var ii=e.document.documentElement;re.offset={setOffset:function(e,t,i){var n,r,o,a,s,l,u,d=re.css(e,"position"),c=re(e),h={};"static"===d&&(e.style.position="relative"),s=c.offset(),o=re.css(e,"top"),l=re.css(e,"left"),u=("absolute"===d||"fixed"===d)&&re.inArray("auto",[o,l])>-1,u?(n=c.position(),a=n.top,r=n.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),re.isFunction(t)&&(t=t.call(e,i,s)),null!=t.top&&(h.top=t.top-s.top+a),null!=t.left&&(h.left=t.left-s.left+r),"using"in t?t.using.call(e,h):c.css(h)}},re.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){re.offset.setOffset(this,e,t)});var t,i,n={top:0,left:0},r=this[0],o=r&&r.ownerDocument;return o?(t=o.documentElement,re.contains(t,r)?(typeof r.getBoundingClientRect!==Se&&(n=r.getBoundingClientRect()),i=U(o),{top:n.top+(i.pageYOffset||t.scrollTop)-(t.clientTop||0),left:n.left+(i.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):n):void 0},position:function(){if(this[0]){var e,t,i={top:0,left:0},n=this[0];return"fixed"===re.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),re.nodeName(e[0],"html")||(i=e.offset()),i.top+=re.css(e[0],"borderTopWidth",!0),i.left+=re.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-re.css(n,"marginTop",!0),left:t.left-i.left-re.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||ii;e&&!re.nodeName(e,"html")&&"static"===re.css(e,"position");)e=e.offsetParent;return e||ii})}}),re.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i=/Y/.test(t);re.fn[e]=function(n){return je(this,function(e,n,r){var o=U(e);return void 0===r?o?t in o?o[t]:o.document.documentElement[n]:e[n]:void(o?o.scrollTo(i?re(o).scrollLeft():r,i?r:re(o).scrollTop()):e[n]=r)},e,n,arguments.length,null)}}),re.each(["top","left"],function(e,t){re.cssHooks[t]=E(ie.pixelPosition,function(e,i){return i?(i=tt(e,t),nt.test(i)?re(e).position()[t]+"px":i):void 0})}),re.each({Height:"height",Width:"width"},function(e,t){re.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,n){re.fn[n]=function(n,r){var o=arguments.length&&(i||"boolean"!=typeof n),a=i||(!0===n||!0===r?"margin":"border");return je(this,function(t,i,n){var r;return re.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===n?re.css(t,i,a):re.style(t,i,n,a)},t,o?n:void 0,o,null)}})}),re.fn.size=function(){return this.length},re.fn.andSelf=re.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return re});var ni=e.jQuery,ri=e.$;return re.noConflict=function(t){return e.$===re&&(e.$=ri),t&&e.jQuery===re&&(e.jQuery=ni),re},typeof t===Se&&(e.jQuery=e.$=re),re}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&"object"==typeof module.exports?module.exports=e(require("jquery")):e(jQuery)}(function($){function initMouseDetection(e){var t=".smartmenus_mouse";if(mouseDetectionEnabled||e)mouseDetectionEnabled&&e&&($(document).unbind(t),mouseDetectionEnabled=!1);else{var i=!0,n=null;$(document).bind(getEventsNS([["mousemove",function(e){var t={x:e.pageX,y:e.pageY,timeStamp:(new Date).getTime()};if(n){var r=Math.abs(n.x-t.x),o=Math.abs(n.y-t.y);if((r>0||o>0)&&r<=2&&o<=2&&t.timeStamp-n.timeStamp<=300&&(mouse=!0,i)){var a=$(e.target).closest("a");a.is("a")&&$.each(menuTrees,function(){if($.contains(this.$root[0],a[0]))return this.itemEnter({currentTarget:a[0]}),!1}),i=!1}}n=t}],[touchEvents?"touchstart":"pointerover pointermove pointerout MSPointerOver MSPointerMove MSPointerOut",function(e){isTouchEvent(e.originalEvent)&&(mouse=!1)}]],t)),mouseDetectionEnabled=!0}}function isTouchEvent(e){return!/^(4|mouse)$/.test(e.pointerType)}function getEventsNS(e,t){t||(t="");var i={};return $.each(e,function(e,n){i[n[0].split(" ").join(t+" ")+t]=n[1]}),i}var menuTrees=[],IE=!!window.createPopup,mouse=!1,touchEvents="ontouchstart"in window,mouseDetectionEnabled=!1,requestAnimationFrame=window.requestAnimationFrame||function(e){return setTimeout(e,1e3/60)},cancelAnimationFrame=window.cancelAnimationFrame||function(e){clearTimeout(e)};return $.SmartMenus=function(e,t){this.$root=$(e),this.opts=t,this.rootId="",this.accessIdPrefix="",this.$subArrow=null,this.activatedItems=[],this.visibleSubMenus=[],this.showTimeout=0,this.hideTimeout=0,this.scrollTimeout=0,this.clickActivated=!1,this.focusActivated=!1,this.zIndexInc=0,this.idInc=0,this.$firstLink=null,this.$firstSub=null,this.disabled=!1,this.$disableOverlay=null,this.$touchScrollingSub=null,this.cssTransforms3d="perspective"in e.style||"webkitPerspective"in e.style,this.wasCollapsible=!1,this.init()},$.extend($.SmartMenus,{hideAll:function(){$.each(menuTrees,function(){this.menuHideAll()})},destroy:function(){for(;menuTrees.length;)menuTrees[0].destroy();initMouseDetection(!0)},prototype:{init:function(e){var t=this;if(!e){menuTrees.push(this),this.rootId=((new Date).getTime()+Math.random()+"").replace(/\D/g,""),this.accessIdPrefix="sm-"+this.rootId+"-",this.$root.hasClass("sm-rtl")&&(this.opts.rightToLeftSubMenus=!0);var i=".smartmenus";this.$root.data("smartmenus",this).attr("data-smartmenus-id",this.rootId).dataSM("level",1).bind(getEventsNS([["mouseover focusin",$.proxy(this.rootOver,this)],["mouseout focusout",$.proxy(this.rootOut,this)],["keydown",$.proxy(this.rootKeyDown,this)]],i)).delegate("a",getEventsNS([["mouseenter",$.proxy(this.itemEnter,this)],["mouseleave",$.proxy(this.itemLeave,this)],["mousedown",$.proxy(this.itemDown,this)],["focus",$.proxy(this.itemFocus,this)],["blur",$.proxy(this.itemBlur,this)],["click",$.proxy(this.itemClick,this)]],i)),i+=this.rootId,this.opts.hideOnClick&&$(document).bind(getEventsNS([["touchstart",$.proxy(this.docTouchStart,this)],["touchmove",$.proxy(this.docTouchMove,this)],["touchend",$.proxy(this.docTouchEnd,this)],["click",$.proxy(this.docClick,this)]],i)),$(window).bind(getEventsNS([["resize orientationchange",$.proxy(this.winResize,this)]],i)),this.opts.subIndicators&&(this.$subArrow=$("<span/>").addClass("sub-arrow"),this.opts.subIndicatorsText&&this.$subArrow.html(this.opts.subIndicatorsText)),initMouseDetection()}if(this.$firstSub=this.$root.find("ul").each(function(){t.menuInit($(this))}).eq(0),this.$firstLink=this.$root.find("a").eq(0),this.opts.markCurrentItem){var n=/(index|default)\.[^#\?\/]*/i,r=/#.*/,o=window.location.href.replace(n,""),a=o.replace(r,"");this.$root.find("a").each(function(){var e=this.href.replace(n,""),i=$(this);e!=o&&e!=a||(i.addClass("current"),t.opts.markCurrentTree&&i.parentsUntil("[data-smartmenus-id]","ul").each(function(){$(this).dataSM("parent-a").addClass("current")}))})}this.wasCollapsible=this.isCollapsible()},destroy:function(e){if(!e){var t=".smartmenus";this.$root.removeData("smartmenus").removeAttr("data-smartmenus-id").removeDataSM("level").unbind(t).undelegate(t),t+=this.rootId,$(document).unbind(t),$(window).unbind(t),this.opts.subIndicators&&(this.$subArrow=null)}this.menuHideAll();var i=this;this.$root.find("ul").each(function(){var e=$(this);e.dataSM("scroll-arrows")&&e.dataSM("scroll-arrows").remove(),e.dataSM("shown-before")&&((i.opts.subMenusMinWidth||i.opts.subMenusMaxWidth)&&e.css({width:"",minWidth:"",maxWidth:""}).removeClass("sm-nowrap"),e.dataSM("scroll-arrows")&&e.dataSM("scroll-arrows").remove(),e.css({zIndex:"",top:"",left:"",marginLeft:"",marginTop:"",display:""})),0==(e.attr("id")||"").indexOf(i.accessIdPrefix)&&e.removeAttr("id")}).removeDataSM("in-mega").removeDataSM("shown-before").removeDataSM("ie-shim").removeDataSM("scroll-arrows").removeDataSM("parent-a").removeDataSM("level").removeDataSM("beforefirstshowfired").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeAttr("aria-expanded"),this.$root.find("a.has-submenu").each(function(){var e=$(this);0==e.attr("id").indexOf(i.accessIdPrefix)&&e.removeAttr("id")}).removeClass("has-submenu").removeDataSM("sub").removeAttr("aria-haspopup").removeAttr("aria-controls").removeAttr("aria-expanded").closest("li").removeDataSM("sub"),this.opts.subIndicators&&this.$root.find("span.sub-arrow").remove(),this.opts.markCurrentItem&&this.$root.find("a.current").removeClass("current"),e||(this.$root=null,this.$firstLink=null,this.$firstSub=null,this.$disableOverlay&&(this.$disableOverlay.remove(),this.$disableOverlay=null),menuTrees.splice($.inArray(this,menuTrees),1))},disable:function(e){if(!this.disabled){if(this.menuHideAll(),!e&&!this.opts.isPopup&&this.$root.is(":visible")){var t=this.$root.offset();this.$disableOverlay=$('<div class="sm-jquery-disable-overlay"/>').css({position:"absolute",top:t.top,left:t.left,width:this.$root.outerWidth(),height:this.$root.outerHeight(),zIndex:this.getStartZIndex(!0),opacity:0}).appendTo(document.body)}this.disabled=!0}},docClick:function(e){this.$touchScrollingSub?this.$touchScrollingSub=null:(this.visibleSubMenus.length&&!$.contains(this.$root[0],e.target)||$(e.target).is("a"))&&this.menuHideAll()},docTouchEnd:function(e){if(this.lastTouch){if(this.visibleSubMenus.length&&(void 0===this.lastTouch.x2||this.lastTouch.x1==this.lastTouch.x2)&&(void 0===this.lastTouch.y2||this.lastTouch.y1==this.lastTouch.y2)&&(!this.lastTouch.target||!$.contains(this.$root[0],this.lastTouch.target))){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0);var t=this;this.hideTimeout=setTimeout(function(){t.menuHideAll()},350)}this.lastTouch=null}},docTouchMove:function(e){if(this.lastTouch){var t=e.originalEvent.touches[0];this.lastTouch.x2=t.pageX,this.lastTouch.y2=t.pageY}},docTouchStart:function(e){var t=e.originalEvent.touches[0];this.lastTouch={x1:t.pageX,y1:t.pageY,target:t.target}},enable:function(){this.disabled&&(this.$disableOverlay&&(this.$disableOverlay.remove(),this.$disableOverlay=null),this.disabled=!1)},getClosestMenu:function(e){for(var t=$(e).closest("ul");t.dataSM("in-mega");)t=t.parent().closest("ul");return t[0]||null},getHeight:function(e){return this.getOffset(e,!0)},getOffset:function(e,t){var i;"none"==e.css("display")&&(i={position:e[0].style.position,visibility:e[0].style.visibility},e.css({position:"absolute",visibility:"hidden"}).show());var n=e[0].getBoundingClientRect&&e[0].getBoundingClientRect(),r=n&&(t?n.height||n.bottom-n.top:n.width||n.right-n.left);return r||0===r||(r=t?e[0].offsetHeight:e[0].offsetWidth),i&&e.hide().css(i),r},getStartZIndex:function(e){var t=parseInt(this[e?"$root":"$firstSub"].css("z-index"));return!e&&isNaN(t)&&(t=parseInt(this.$root.css("z-index"))),isNaN(t)?1:t},getTouchPoint:function(e){return e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0]||e},getViewport:function(e){var t=e?"Height":"Width",i=document.documentElement["client"+t],n=window["inner"+t];return n&&(i=Math.min(i,n)),i},getViewportHeight:function(){return this.getViewport(!0)},getViewportWidth:function(){return this.getViewport()},getWidth:function(e){return this.getOffset(e)},handleEvents:function(){return!this.disabled&&this.isCSSOn()},handleItemEvents:function(e){return this.handleEvents()&&!this.isLinkInMegaMenu(e)},isCollapsible:function(){return"static"==this.$firstSub.css("position")},isCSSOn:function(){return"block"==this.$firstLink.css("display")},isFixed:function(){var e="fixed"==this.$root.css("position");return e||this.$root.parentsUntil("body").each(function(){if("fixed"==$(this).css("position"))return e=!0,!1}),e},isLinkInMegaMenu:function(e){return $(this.getClosestMenu(e[0])).hasClass("mega-menu")},isTouchMode:function(){return!mouse||this.opts.noMouseOver||this.isCollapsible()},itemActivate:function(e,t){var i=e.closest("ul"),n=i.dataSM("level");if(n>1&&(!this.activatedItems[n-2]||this.activatedItems[n-2][0]!=i.dataSM("parent-a")[0])){var r=this;$(i.parentsUntil("[data-smartmenus-id]","ul").get().reverse()).add(i).each(function(){r.itemActivate($(this).dataSM("parent-a"))})}if(this.isCollapsible()&&!t||this.menuHideSubMenus(this.activatedItems[n-1]&&this.activatedItems[n-1][0]==e[0]?n:n-1),this.activatedItems[n-1]=e,!1!==this.$root.triggerHandler("activate.smapi",e[0])){var o=e.dataSM("sub");o&&(this.isTouchMode()||!this.opts.showOnClick||this.clickActivated)&&this.menuShow(o)}},itemBlur:function(e){var t=$(e.currentTarget);this.handleItemEvents(t)&&this.$root.triggerHandler("blur.smapi",t[0])},itemClick:function(e){var t=$(e.currentTarget);if(this.handleItemEvents(t)){if(this.$touchScrollingSub&&this.$touchScrollingSub[0]==t.closest("ul")[0])return this.$touchScrollingSub=null,e.stopPropagation(),!1;if(!1===this.$root.triggerHandler("click.smapi",t[0]))return!1;var i=$(e.target).is("span.sub-arrow"),n=t.dataSM("sub"),r=!!n&&2==n.dataSM("level");if(n&&!n.is(":visible")){if(this.opts.showOnClick&&r&&(this.clickActivated=!0),this.itemActivate(t),n.is(":visible"))return this.focusActivated=!0,!1}else if(this.isCollapsible()&&i)return this.itemActivate(t),this.menuHide(n),!1;return!(this.opts.showOnClick&&r||t.hasClass("disabled")||!1===this.$root.triggerHandler("select.smapi",t[0]))&&void 0}},itemDown:function(e){var t=$(e.currentTarget);this.handleItemEvents(t)&&t.dataSM("mousedown",!0)},itemEnter:function(e){var t=$(e.currentTarget);if(this.handleItemEvents(t)){if(!this.isTouchMode()){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0);var i=this;this.showTimeout=setTimeout(function(){i.itemActivate(t)},this.opts.showOnClick&&1==t.closest("ul").dataSM("level")?1:this.opts.showTimeout)}this.$root.triggerHandler("mouseenter.smapi",t[0])}},itemFocus:function(e){var t=$(e.currentTarget);this.handleItemEvents(t)&&(!this.focusActivated||this.isTouchMode()&&t.dataSM("mousedown")||this.activatedItems.length&&this.activatedItems[this.activatedItems.length-1][0]==t[0]||this.itemActivate(t,!0),this.$root.triggerHandler("focus.smapi",t[0]))},itemLeave:function(e){var t=$(e.currentTarget);this.handleItemEvents(t)&&(this.isTouchMode()||(t[0].blur(),this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0)),t.removeDataSM("mousedown"),this.$root.triggerHandler("mouseleave.smapi",t[0]))},menuHide:function(e){if(!1!==this.$root.triggerHandler("beforehide.smapi",e[0])&&(e.stop(!0,!0),"none"!=e.css("display"))){var t=function(){e.css("z-index","")};this.isCollapsible()?this.opts.collapsibleHideFunction?this.opts.collapsibleHideFunction.call(this,e,t):e.hide(this.opts.collapsibleHideDuration,t):this.opts.hideFunction?this.opts.hideFunction.call(this,e,t):e.hide(this.opts.hideDuration,t),e.dataSM("ie-shim")&&e.dataSM("ie-shim").remove().css({"-webkit-transform":"",transform:""}),e.dataSM("scroll")&&(this.menuScrollStop(e),e.css({"touch-action":"","-ms-touch-action":"","-webkit-transform":"",transform:""}).unbind(".smartmenus_scroll").removeDataSM("scroll").dataSM("scroll-arrows").hide()),e.dataSM("parent-a").removeClass("highlighted").attr("aria-expanded","false"),e.attr({"aria-expanded":"false","aria-hidden":"true"});var i=e.dataSM("level");this.activatedItems.splice(i-1,1),this.visibleSubMenus.splice($.inArray(e,this.visibleSubMenus),1),this.$root.triggerHandler("hide.smapi",e[0])}},menuHideAll:function(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0);for(var e=this.opts.isPopup?1:0,t=this.visibleSubMenus.length-1;t>=e;t--)this.menuHide(this.visibleSubMenus[t]);this.opts.isPopup&&(this.$root.stop(!0,!0),this.$root.is(":visible")&&(this.opts.hideFunction?this.opts.hideFunction.call(this,this.$root):this.$root.hide(this.opts.hideDuration),this.$root.dataSM("ie-shim")&&this.$root.dataSM("ie-shim").remove())),this.activatedItems=[],this.visibleSubMenus=[],this.clickActivated=!1,this.focusActivated=!1,this.zIndexInc=0,this.$root.triggerHandler("hideAll.smapi")},menuHideSubMenus:function(e){for(var t=this.activatedItems.length-1;t>=e;t--){var i=this.activatedItems[t].dataSM("sub");i&&this.menuHide(i)}},menuIframeShim:function(e){IE&&this.opts.overlapControlsInIE&&!e.dataSM("ie-shim")&&e.dataSM("ie-shim",$("<iframe/>").attr({src:"javascript:0",tabindex:-9}).css({position:"absolute",top:"auto",left:"0",opacity:0,border:"0"}))},menuInit:function(e){if(!e.dataSM("in-mega")){e.hasClass("mega-menu")&&e.find("ul").dataSM("in-mega",!0);for(var t=2,i=e[0];(i=i.parentNode.parentNode)!=this.$root[0];)t++;var n=e.prevAll("a").eq(-1);n.length||(n=e.prevAll().find("a").eq(-1)),n.addClass("has-submenu").dataSM("sub",e),e.dataSM("parent-a",n).dataSM("level",t).parent().dataSM("sub",e);var r=n.attr("id")||this.accessIdPrefix+ ++this.idInc,o=e.attr("id")||this.accessIdPrefix+ ++this.idInc;n.attr({id:r,"aria-haspopup":"true","aria-controls":o,"aria-expanded":"false"}),e.attr({id:o,role:"group","aria-hidden":"true","aria-labelledby":r,"aria-expanded":"false"}),this.opts.subIndicators&&n[this.opts.subIndicatorsPos](this.$subArrow.clone())}},menuPosition:function(e){var t,i,n=e.dataSM("parent-a"),r=n.closest("li"),o=r.parent(),a=e.dataSM("level"),s=this.getWidth(e),l=this.getHeight(e),u=n.offset(),d=u.left,c=u.top,h=this.getWidth(n),g=this.getHeight(n),p=$(window),f=p.scrollLeft(),_=p.scrollTop(),m=this.getViewportWidth(),v=this.getViewportHeight(),b=o.parent().is("[data-sm-horizontal-sub]")||2==a&&!o.hasClass("sm-vertical"),y=this.opts.rightToLeftSubMenus&&!r.is("[data-sm-reverse]")||!this.opts.rightToLeftSubMenus&&r.is("[data-sm-reverse]"),w=2==a?this.opts.mainMenuSubOffsetX:this.opts.subMenusSubOffsetX,T=2==a?this.opts.mainMenuSubOffsetY:this.opts.subMenusSubOffsetY;if(b?(t=y?h-s-w:w,i=this.opts.bottomToTopSubMenus?-l-T:g+T):(t=y?w-s:h-w,i=this.opts.bottomToTopSubMenus?g-T-l:T),this.opts.keepInViewport){var S=d+t,x=c+i;if(y&&S<f?t=b?f-S+t:h-w:!y&&S+s>f+m&&(t=b?f+m-s-S+t:w-s),b||(l<v&&x+l>_+v?i+=_+v-l-x:(l>=v||x<_)&&(i+=_-x)),b&&(x+l>_+v+.49||x<_)||!b&&l>v+.49){var I=this;e.dataSM("scroll-arrows")||e.dataSM("scroll-arrows",$([$('<span class="scroll-up"><span class="scroll-up-arrow"></span></span>')[0],$('<span class="scroll-down"><span class="scroll-down-arrow"></span></span>')[0]]).bind({mouseenter:function(){e.dataSM("scroll").up=$(this).hasClass("scroll-up"),I.menuScroll(e)},mouseleave:function(t){I.menuScrollStop(e),I.menuScrollOut(e,t)},"mousewheel DOMMouseScroll":function(e){e.preventDefault()}}).insertAfter(e));var E=".smartmenus_scroll";e.dataSM("scroll",{y:this.cssTransforms3d?0:i-g,step:1,itemH:g,subH:l,arrowDownH:this.getHeight(e.dataSM("scroll-arrows").eq(1))}).bind(getEventsNS([["mouseover",function(t){I.menuScrollOver(e,t)}],["mouseout",function(t){I.menuScrollOut(e,t)}],["mousewheel DOMMouseScroll",function(t){I.menuScrollMousewheel(e,t)}]],E)).dataSM("scroll-arrows").css({top:"auto",left:"0",marginLeft:t+(parseInt(e.css("border-left-width"))||0),width:s-(parseInt(e.css("border-left-width"))||0)-(parseInt(e.css("border-right-width"))||0),zIndex:e.css("z-index")}).eq(b&&this.opts.bottomToTopSubMenus?0:1).show(),this.isFixed()&&e.css({"touch-action":"none","-ms-touch-action":"none"}).bind(getEventsNS([[touchEvents?"touchstart touchmove touchend":"pointerdown pointermove pointerup MSPointerDown MSPointerMove MSPointerUp",function(t){I.menuScrollTouch(e,t)}]],E))}}e.css({top:"auto",left:"0",marginLeft:t,marginTop:i-g}),this.menuIframeShim(e),e.dataSM("ie-shim")&&e.dataSM("ie-shim").css({zIndex:e.css("z-index"),width:s,height:l,marginLeft:t,marginTop:i-g})},menuScroll:function(e,t,i){var n,r=e.dataSM("scroll"),o=e.dataSM("scroll-arrows"),a=r.up?r.upEnd:r.downEnd;if(!t&&r.momentum){if(r.momentum*=.92,n=r.momentum,n<.5)return void this.menuScrollStop(e)
}else n=i||(t||!this.opts.scrollAccelerate?this.opts.scrollStep:Math.floor(r.step));var s=e.dataSM("level");if(this.activatedItems[s-1]&&this.activatedItems[s-1].dataSM("sub")&&this.activatedItems[s-1].dataSM("sub").is(":visible")&&this.menuHideSubMenus(s-1),r.y=r.up&&a<=r.y||!r.up&&a>=r.y?r.y:Math.abs(a-r.y)>n?r.y+(r.up?n:-n):a,e.add(e.dataSM("ie-shim")).css(this.cssTransforms3d?{"-webkit-transform":"translate3d(0, "+r.y+"px, 0)",transform:"translate3d(0, "+r.y+"px, 0)"}:{marginTop:r.y}),mouse&&(r.up&&r.y>r.downEnd||!r.up&&r.y<r.upEnd)&&o.eq(r.up?1:0).show(),r.y==a)mouse&&o.eq(r.up?0:1).hide(),this.menuScrollStop(e);else if(!t){this.opts.scrollAccelerate&&r.step<this.opts.scrollStep&&(r.step+=.2);var l=this;this.scrollTimeout=requestAnimationFrame(function(){l.menuScroll(e)})}},menuScrollMousewheel:function(e,t){if(this.getClosestMenu(t.target)==e[0]){t=t.originalEvent;var i=(t.wheelDelta||-t.detail)>0;e.dataSM("scroll-arrows").eq(i?0:1).is(":visible")&&(e.dataSM("scroll").up=i,this.menuScroll(e,!0))}t.preventDefault()},menuScrollOut:function(e,t){mouse&&(/^scroll-(up|down)/.test((t.relatedTarget||"").className)||(e[0]==t.relatedTarget||$.contains(e[0],t.relatedTarget))&&this.getClosestMenu(t.relatedTarget)==e[0]||e.dataSM("scroll-arrows").css("visibility","hidden"))},menuScrollOver:function(e,t){if(mouse&&!/^scroll-(up|down)/.test(t.target.className)&&this.getClosestMenu(t.target)==e[0]){this.menuScrollRefreshData(e);var i=e.dataSM("scroll"),n=$(window).scrollTop()-e.dataSM("parent-a").offset().top-i.itemH;e.dataSM("scroll-arrows").eq(0).css("margin-top",n).end().eq(1).css("margin-top",n+this.getViewportHeight()-i.arrowDownH).end().css("visibility","visible")}},menuScrollRefreshData:function(e){var t=e.dataSM("scroll"),i=$(window).scrollTop()-e.dataSM("parent-a").offset().top-t.itemH;this.cssTransforms3d&&(i=-(parseFloat(e.css("margin-top"))-i)),$.extend(t,{upEnd:i,downEnd:i+this.getViewportHeight()-t.subH})},menuScrollStop:function(e){if(this.scrollTimeout)return cancelAnimationFrame(this.scrollTimeout),this.scrollTimeout=0,e.dataSM("scroll").step=1,!0},menuScrollTouch:function(e,t){if(t=t.originalEvent,isTouchEvent(t)){var i=this.getTouchPoint(t);if(this.getClosestMenu(i.target)==e[0]){var n=e.dataSM("scroll");if(/(start|down)$/i.test(t.type))this.menuScrollStop(e)?(t.preventDefault(),this.$touchScrollingSub=e):this.$touchScrollingSub=null,this.menuScrollRefreshData(e),$.extend(n,{touchStartY:i.pageY,touchStartTime:t.timeStamp});else if(/move$/i.test(t.type)){var r=void 0!==n.touchY?n.touchY:n.touchStartY;if(void 0!==r&&r!=i.pageY){this.$touchScrollingSub=e;var o=r<i.pageY;void 0!==n.up&&n.up!=o&&$.extend(n,{touchStartY:i.pageY,touchStartTime:t.timeStamp}),$.extend(n,{up:o,touchY:i.pageY}),this.menuScroll(e,!0,Math.abs(i.pageY-r))}t.preventDefault()}else void 0!==n.touchY&&((n.momentum=15*Math.pow(Math.abs(i.pageY-n.touchStartY)/(t.timeStamp-n.touchStartTime),2))&&(this.menuScrollStop(e),this.menuScroll(e),t.preventDefault()),delete n.touchY)}}},menuShow:function(e){if((e.dataSM("beforefirstshowfired")||(e.dataSM("beforefirstshowfired",!0),!1!==this.$root.triggerHandler("beforefirstshow.smapi",e[0])))&&!1!==this.$root.triggerHandler("beforeshow.smapi",e[0])&&(e.dataSM("shown-before",!0).stop(!0,!0),!e.is(":visible"))){var t=e.dataSM("parent-a");if((this.opts.keepHighlighted||this.isCollapsible())&&t.addClass("highlighted"),this.isCollapsible())e.removeClass("sm-nowrap").css({zIndex:"",width:"auto",minWidth:"",maxWidth:"",top:"",left:"",marginLeft:"",marginTop:""});else{if(e.css("z-index",this.zIndexInc=(this.zIndexInc||this.getStartZIndex())+1),(this.opts.subMenusMinWidth||this.opts.subMenusMaxWidth)&&(e.css({width:"auto",minWidth:"",maxWidth:""}).addClass("sm-nowrap"),this.opts.subMenusMinWidth&&e.css("min-width",this.opts.subMenusMinWidth),this.opts.subMenusMaxWidth)){var i=this.getWidth(e);e.css("max-width",this.opts.subMenusMaxWidth),i>this.getWidth(e)&&e.removeClass("sm-nowrap").css("width",this.opts.subMenusMaxWidth)}this.menuPosition(e),e.dataSM("ie-shim")&&e.dataSM("ie-shim").insertBefore(e)}var n=function(){e.css("overflow","")};this.isCollapsible()?this.opts.collapsibleShowFunction?this.opts.collapsibleShowFunction.call(this,e,n):e.show(this.opts.collapsibleShowDuration,n):this.opts.showFunction?this.opts.showFunction.call(this,e,n):e.show(this.opts.showDuration,n),t.attr("aria-expanded","true"),e.attr({"aria-expanded":"true","aria-hidden":"false"}),this.visibleSubMenus.push(e),this.$root.triggerHandler("show.smapi",e[0])}},popupHide:function(e){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0);var t=this;this.hideTimeout=setTimeout(function(){t.menuHideAll()},e?1:this.opts.hideTimeout)},popupShow:function(e,t){if(this.opts.isPopup){if(this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0),this.$root.dataSM("shown-before",!0).stop(!0,!0),!this.$root.is(":visible")){this.$root.css({left:e,top:t}),this.menuIframeShim(this.$root),this.$root.dataSM("ie-shim")&&this.$root.dataSM("ie-shim").css({zIndex:this.$root.css("z-index"),width:this.getWidth(this.$root),height:this.getHeight(this.$root),left:e,top:t}).insertBefore(this.$root);var i=this,n=function(){i.$root.css("overflow","")};this.opts.showFunction?this.opts.showFunction.call(this,this.$root,n):this.$root.show(this.opts.showDuration,n),this.visibleSubMenus[0]=this.$root}}else alert('SmartMenus jQuery Error:\n\nIf you want to show this menu via the "popupShow" method, set the isPopup:true option.')},refresh:function(){this.destroy(!0),this.init(!0)},rootKeyDown:function(e){if(this.handleEvents())switch(e.keyCode){case 27:var t=this.activatedItems[0];if(t){this.menuHideAll(),t[0].focus();var i=t.dataSM("sub");i&&this.menuHide(i)}break;case 32:var n=$(e.target);if(n.is("a")&&this.handleItemEvents(n)){i=n.dataSM("sub");i&&!i.is(":visible")&&(this.itemClick({currentTarget:e.target}),e.preventDefault())}}},rootOut:function(e){if(this.handleEvents()&&!this.isTouchMode()&&e.target!=this.$root[0]&&(this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0),!this.opts.showOnClick||!this.opts.hideOnClick)){var t=this;this.hideTimeout=setTimeout(function(){t.menuHideAll()},this.opts.hideTimeout)}},rootOver:function(e){this.handleEvents()&&!this.isTouchMode()&&e.target!=this.$root[0]&&this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0)},winResize:function(e){if(this.handleEvents()){if(!("onorientationchange"in window)||"orientationchange"==e.type){var t=this.isCollapsible();this.wasCollapsible&&t||(this.activatedItems.length&&this.activatedItems[this.activatedItems.length-1][0].blur(),this.menuHideAll()),this.wasCollapsible=t}}else if(this.$disableOverlay){var i=this.$root.offset();this.$disableOverlay.css({top:i.top,left:i.left,width:this.$root.outerWidth(),height:this.$root.outerHeight()})}}}}),$.fn.dataSM=function(e,t){return t?this.data(e+"_smartmenus",t):this.data(e+"_smartmenus")},$.fn.removeDataSM=function(e){return this.removeData(e+"_smartmenus")},$.fn.smartmenus=function(options){if("string"==typeof options){var args=arguments,method=options;return Array.prototype.shift.call(args),this.each(function(){var e=$(this).data("smartmenus");e&&e[method]&&e[method].apply(e,args)})}var dataOpts=this.data("sm-options")||null;if(dataOpts)try{dataOpts=eval("("+dataOpts+")")}catch(e){dataOpts=null,alert('ERROR\n\nSmartMenus jQuery init:\nInvalid "data-sm-options" attribute value syntax.')}return this.each(function(){new $.SmartMenus(this,$.extend({},$.fn.smartmenus.defaults,options,dataOpts))})},$.fn.smartmenus.defaults={isPopup:!1,mainMenuSubOffsetX:0,mainMenuSubOffsetY:0,subMenusSubOffsetX:0,subMenusSubOffsetY:0,subMenusMinWidth:"10em",subMenusMaxWidth:"20em",subIndicators:!0,subIndicatorsPos:"prepend",subIndicatorsText:"+",scrollStep:30,scrollAccelerate:!0,showTimeout:250,hideTimeout:500,showDuration:0,showFunction:null,hideDuration:0,hideFunction:function(e,t){e.fadeOut(200,t)},collapsibleShowDuration:0,collapsibleShowFunction:function(e,t){e.slideDown(200,t)},collapsibleHideDuration:0,collapsibleHideFunction:function(e,t){e.slideUp(200,t)},showOnClick:!1,hideOnClick:!0,noMouseOver:!1,keepInViewport:!0,keepHighlighted:!0,markCurrentItem:!1,markCurrentTree:!0,rightToLeftSubMenus:!1,bottomToTopSubMenus:!1,overlapControlsInIE:!0},$}),function(e){"function"==typeof define&&define.amd?define(["jquery","jquery.smartmenus"],e):"object"==typeof module&&"object"==typeof module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){function t(e){return e.find("> li > a:not(.disabled), > li > :not(ul) a:not(.disabled)").eq(0)}function i(e){return e.find("> li > a:not(.disabled), > li > :not(ul) a:not(.disabled)").eq(-1)}function n(e,i){var n=e.nextAll("li").find("> a:not(.disabled), > :not(ul) a:not(.disabled)").eq(0);return i||n.length?n:t(e.parent())}function r(t,n){var r=t.prevAll("li").find("> a:not(.disabled), > :not(ul) a:not(.disabled)").eq(/^1\.8\./.test(e.fn.jquery)?0:-1);return n||r.length?r:i(t.parent())}return e.fn.focusSM=function(){return this.length&&this[0].focus&&this[0].focus(),this},e.extend(e.SmartMenus.Keyboard={},{docKeydown:function(o){var a=o.keyCode;if(/^(37|38|39|40)$/.test(a)){var s=e(this),l=s.data("smartmenus"),u=e(o.target);if(l&&u.is("a")&&l.handleItemEvents(u)){var d=u.closest("li"),c=d.parent(),h=c.dataSM("level");switch(s.hasClass("sm-rtl")&&(37==a?a=39:39==a&&(a=37)),a){case 37:if(l.isCollapsible())break;h>2||2==h&&s.hasClass("sm-vertical")?l.activatedItems[h-2].focusSM():s.hasClass("sm-vertical")||r((l.activatedItems[0]||u).closest("li")).focusSM();break;case 38:var g;if(l.isCollapsible())h>1&&(g=t(c)).length&&u[0]==g[0]?l.activatedItems[h-2].focusSM():r(d).focusSM();else 1==h&&!s.hasClass("sm-vertical")&&l.opts.bottomToTopSubMenus?(!l.activatedItems[0]&&u.dataSM("sub")&&(l.opts.showOnClick&&(l.clickActivated=!0),l.itemActivate(u),u.dataSM("sub").is(":visible")&&(l.focusActivated=!0)),l.activatedItems[0]&&l.activatedItems[0].dataSM("sub")&&l.activatedItems[0].dataSM("sub").is(":visible")&&!l.activatedItems[0].dataSM("sub").hasClass("mega-menu")&&i(l.activatedItems[0].dataSM("sub")).focusSM()):(h>1||s.hasClass("sm-vertical"))&&r(d).focusSM();break;case 39:if(l.isCollapsible())break;1==h&&s.hasClass("sm-vertical")?(!l.activatedItems[0]&&u.dataSM("sub")&&(l.opts.showOnClick&&(l.clickActivated=!0),l.itemActivate(u),u.dataSM("sub").is(":visible")&&(l.focusActivated=!0)),l.activatedItems[0]&&l.activatedItems[0].dataSM("sub")&&l.activatedItems[0].dataSM("sub").is(":visible")&&!l.activatedItems[0].dataSM("sub").hasClass("mega-menu")&&t(l.activatedItems[0].dataSM("sub")).focusSM()):1!=h&&(!l.activatedItems[h-1]||l.activatedItems[h-1].dataSM("sub")&&l.activatedItems[h-1].dataSM("sub").is(":visible")&&!l.activatedItems[h-1].dataSM("sub").hasClass("mega-menu"))||s.hasClass("sm-vertical")?l.activatedItems[h-1]&&l.activatedItems[h-1].dataSM("sub")&&l.activatedItems[h-1].dataSM("sub").is(":visible")&&!l.activatedItems[h-1].dataSM("sub").hasClass("mega-menu")&&t(l.activatedItems[h-1].dataSM("sub")).focusSM():n((l.activatedItems[0]||u).closest("li")).focusSM();break;case 40:var p,f;if(l.isCollapsible())if(l.activatedItems[h-1]&&l.activatedItems[h-1].dataSM("sub")&&l.activatedItems[h-1].dataSM("sub").is(":visible")&&!l.activatedItems[h-1].dataSM("sub").hasClass("mega-menu")&&(p=t(l.activatedItems[h-1].dataSM("sub"))).length)p.focusSM();else if(h>1&&(f=i(c)).length&&u[0]==f[0]){for(var _=l.activatedItems[h-2].closest("li"),m=null;_.is("li")&&!(m=n(_,!0)).length;)_=_.parent().parent();m.length?m.focusSM():t(s).focusSM()}else n(d).focusSM();else 1!=h||s.hasClass("sm-vertical")||l.opts.bottomToTopSubMenus?(h>1||s.hasClass("sm-vertical"))&&n(d).focusSM():(!l.activatedItems[0]&&u.dataSM("sub")&&(l.opts.showOnClick&&(l.clickActivated=!0),l.itemActivate(u),u.dataSM("sub").is(":visible")&&(l.focusActivated=!0)),l.activatedItems[0]&&l.activatedItems[0].dataSM("sub")&&l.activatedItems[0].dataSM("sub").is(":visible")&&!l.activatedItems[0].dataSM("sub").hasClass("mega-menu")&&t(l.activatedItems[0].dataSM("sub")).focusSM())}o.stopPropagation(),o.preventDefault()}}}}),e(document).delegate("ul.sm, ul.navbar-nav:not([data-sm-skip])","keydown.smartmenus",e.SmartMenus.Keyboard.docKeydown),e.extend(e.SmartMenus.prototype,{keyboardSetHotkey:function(i,n){var r=this;e(document).bind("keydown.smartmenus"+this.rootId,function(o){if(i==o.keyCode){var a=!0;n&&("string"==typeof n&&(n=[n]),e.each(["ctrlKey","shiftKey","altKey","metaKey"],function(t,i){if(e.inArray(i,n)>=0&&!o[i]||e.inArray(i,n)<0&&o[i])return a=!1,!1})),a&&(t(r.$root).focusSM(),o.stopPropagation(),o.preventDefault())}})}}),e});var g_ugFunctions=new UGFunctions;!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var a=t||window.event,s=l.call(arguments,1),u=0,d=0,c=0,h=0;if(t=e.event.fix(a),t.type="mousewheel","detail"in a&&(c=-1*a.detail),"wheelDelta"in a&&(c=a.wheelDelta),"wheelDeltaY"in a&&(c=a.wheelDeltaY),"wheelDeltaX"in a&&(d=-1*a.wheelDeltaX),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(d=-1*c,c=0),u=0===c?d:c,"deltaY"in a&&(c=-1*a.deltaY,u=c),"deltaX"in a&&(d=a.deltaX,0===c&&(u=-1*d)),0!==c||0!==d){if(1===a.deltaMode){var g=e.data(this,"mousewheel-line-height");u*=g,c*=g,d*=g}else if(2===a.deltaMode){var p=e.data(this,"mousewheel-page-height");u*=p,c*=p,d*=p}return h=Math.max(Math.abs(c),Math.abs(d)),(!o||o>h)&&(o=h,n(a,h)&&(o/=40)),n(a,h)&&(u/=40,d/=40,c/=40),u=Math[u>=1?"floor":"ceil"](u/o),d=Math[d>=1?"floor":"ceil"](d/o),c=Math[c>=1?"floor":"ceil"](c/o),t.deltaX=d,t.deltaY=c,t.deltaFactor=o,t.deltaMode=0,s.unshift(t,u,d,c),r&&clearTimeout(r),r=setTimeout(i,200),(e.event.dispatch||e.event.handle).apply(this,s)}}function i(){o=null}function n(e,t){return d.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var r,o,a=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var u=a.length;u;)e.event.fixHooks[a[--u]]=e.event.mouseHooks;var d=e.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener)for(var i=s.length;i;)this.addEventListener(s[--i],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",d.getLineHeight(this)),e.data(this,"mousewheel-page-height",d.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=s.length;e;)this.removeEventListener(s[--e],t,!1);else this.onmousewheel=null},getLineHeight:function(t){return parseInt(e(t)["offsetParent"in e.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):"object"==typeof module&&"object"==typeof module.exports?exports=e(require("jquery")):e(jQuery)}(function(e){function t(e){var t=7.5625,i=2.75;return 1/i>e?t*e*e:2/i>e?t*(e-=1.5/i)*e+.75:2.5/i>e?t*(e-=2.25/i)*e+.9375:t*(e-=2.625/i)*e+.984375}e.easing.jswing=e.easing.swing;var i=Math.pow,n=Math.sqrt,r=Math.sin,o=Math.cos,a=Math.PI,s=1.70158,l=1.525*s,u=s+1,d=2*a/3,c=2*a/4.5;e.extend(e.easing,{def:"easeOutQuad",swing:function(t){return e.easing[e.easing.def](t)},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return 1-(1-e)*(1-e)},easeInOutQuad:function(e){return.5>e?2*e*e:1-i(-2*e+2,2)/2},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1-i(1-e,3)},easeInOutCubic:function(e){return.5>e?4*e*e*e:1-i(-2*e+2,3)/2},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1-i(1-e,4)},easeInOutQuart:function(e){return.5>e?8*e*e*e*e:1-i(-2*e+2,4)/2},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1-i(1-e,5)},easeInOutQuint:function(e){return.5>e?16*e*e*e*e*e:1-i(-2*e+2,5)/2},easeInSine:function(e){return 1-o(e*a/2)},easeOutSine:function(e){return r(e*a/2)},easeInOutSine:function(e){return-(o(a*e)-1)/2},easeInExpo:function(e){return 0===e?0:i(2,10*e-10)},easeOutExpo:function(e){return 1===e?1:1-i(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:.5>e?i(2,20*e-10)/2:(2-i(2,-20*e+10))/2},easeInCirc:function(e){return 1-n(1-i(e,2))},easeOutCirc:function(e){return n(1-i(e-1,2))},easeInOutCirc:function(e){return.5>e?(1-n(1-i(2*e,2)))/2:(n(1-i(-2*e+2,2))+1)/2},easeInElastic:function(e){return 0===e?0:1===e?1:-i(2,10*e-10)*r((10*e-10.75)*d)},easeOutElastic:function(e){return 0===e?0:1===e?1:i(2,-10*e)*r((10*e-.75)*d)+1},easeInOutElastic:function(e){return 0===e?0:1===e?1:.5>e?-i(2,20*e-10)*r((20*e-11.125)*c)/2:i(2,-20*e+10)*r((20*e-11.125)*c)/2+1},easeInBack:function(e){return u*e*e*e-s*e*e},easeOutBack:function(e){return 1+u*i(e-1,3)+s*i(e-1,2)},easeInOutBack:function(e){return.5>e?i(2*e,2)*(2*(l+1)*e-l)/2:(i(2*e-2,2)*((l+1)*(2*e-2)+l)+2)/2},easeInBounce:function(e){return 1-t(1-e)},easeOutBounce:t,easeInOutBounce:function(e){return.5>e?(1-t(1-2*e))/2:(1+t(2*e-1))/2}})}),function(e,t){function i(e,t,i){var n=c[t.type]||{};return null==e?i||!t.def?null:t.def:(e=n.floor?~~e:parseFloat(e),isNaN(e)?t.def:n.mod?(e+n.mod)%n.mod:0>e?0:n.max<e?n.max:e)}function n(t){var i=u(),n=i._rgba=[];return t=t.toLowerCase(),p(l,function(e,r){var o,a=r.re.exec(t),s=a&&r.parse(a),l=r.space||"rgba";return s?(o=i[l](s),i[d[l].cache]=o[d[l].cache],n=i._rgba=o._rgba,!1):void 0}),n.length?("0,0,0,0"===n.join()&&e.extend(n,o.transparent),i):o[t]}function r(e,t,i){return i=(i+1)%1,1>6*i?e+(t-e)*i*6:1>2*i?t:2>3*i?e+(t-e)*(2/3-i)*6:e}if(void 0===e.cssHooks)return!1;var o,a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",s=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],u=e.Color=function(t,i,n,r){return new e.Color.fn.parse(t,i,n,r)},d={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},c={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},h=u.support={},g=e("<p>")[0],p=e.each;g.style.cssText="background-color:rgba(1,1,1,.5)",h.rgba=g.style.backgroundColor.indexOf("rgba")>-1,p(d,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),u.fn=e.extend(u.prototype,{parse:function(r,a,s,l){if(r===t)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=e(r).css(a),a=t);var c=this,h=e.type(r),g=this._rgba=[];return a!==t&&(r=[r,a,s,l],h="array"),"string"===h?this.parse(n(r)||o._default):"array"===h?(p(d.rgba.props,function(e,t){g[t.idx]=i(r[t.idx],t)}),this):"object"===h?(p(d,r instanceof u?function(e,t){r[t.cache]&&(c[t.cache]=r[t.cache].slice())}:function(t,n){var o=n.cache;p(n.props,function(e,t){if(!c[o]&&n.to){if("alpha"===e||null==r[e])return;c[o]=n.to(c._rgba)}c[o][t.idx]=i(r[e],t,!0)}),c[o]&&e.inArray(null,c[o].slice(0,3))<0&&(c[o][3]=1,n.from&&(c._rgba=n.from(c[o])))}),this):void 0},is:function(e){var t=u(e),i=!0,n=this;return p(d,function(e,r){var o,a=t[r.cache];return a&&(o=n[r.cache]||r.to&&r.to(n._rgba)||[],p(r.props,function(e,t){return null!=a[t.idx]?i=a[t.idx]===o[t.idx]:void 0})),i}),i},_space:function(){var e=[],t=this;return p(d,function(i,n){t[n.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var n=u(e),r=n._space(),o=d[r],a=0===this.alpha()?u("transparent"):this,s=a[o.cache]||o.to(a._rgba),l=s.slice();return n=n[o.cache],p(o.props,function(e,r){var o=r.idx,a=s[o],u=n[o],d=c[r.type]||{};null!==u&&(null===a?l[o]=u:(d.mod&&(u-a>d.mod/2?a+=d.mod:a-u>d.mod/2&&(a-=d.mod)),l[o]=i((u-a)*t+a,r)))}),this[r](l)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),r=u(t)._rgba;return u(e.map(i,function(e,t){return(1-n)*r[t]+n*e}))},toRgbaString:function(){var t="rgba(",i=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),t="rgb("),t+i.join()+")"},toHslaString:function(){var t="hsla(",i=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),t="hsl("),t+i.join()+")"},toHexString:function(t){var i=this._rgba.slice(),n=i.pop();return t&&i.push(~~(255*n)),"#"+e.map(i,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),u.fn.parse.prototype=u.fn,d.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,n=e[0]/255,r=e[1]/255,o=e[2]/255,a=e[3],s=Math.max(n,r,o),l=Math.min(n,r,o),u=s-l,d=s+l,c=.5*d;return t=l===s?0:n===s?60*(r-o)/u+360:r===s?60*(o-n)/u+120:60*(n-r)/u+240,i=0===u?0:.5>=c?u/d:u/(2-d),[Math.round(t)%360,i,c,null==a?1:a]},d.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],n=e[2],o=e[3],a=.5>=n?n*(1+i):n+i-n*i,s=2*n-a;return[Math.round(255*r(s,a,t+1/3)),Math.round(255*r(s,a,t)),Math.round(255*r(s,a,t-1/3)),o]},p(d,function(n,r){var o=r.props,a=r.cache,l=r.to,d=r.from;u.fn[n]=function(n){if(l&&!this[a]&&(this[a]=l(this._rgba)),n===t)return this[a].slice();var r,s=e.type(n),c="array"===s||"object"===s?n:arguments,h=this[a].slice();return p(o,function(e,t){var n=c["object"===s?e:t.idx];null==n&&(n=h[t.idx]),h[t.idx]=i(n,t)}),d?(r=u(d(h)),r[a]=h,r):u(h)},p(o,function(t,i){u.fn[t]||(u.fn[t]=function(r){var o,a=e.type(r),l="alpha"===t?this._hsla?"hsla":"rgba":n,u=this[l](),d=u[i.idx];return"undefined"===a?d:("function"===a&&(r=r.call(this,d),a=e.type(r)),null==r&&i.empty?this:("string"===a&&(o=s.exec(r),o&&(r=d+parseFloat(o[2])*("+"===o[1]?1:-1))),u[i.idx]=r,this[l](u)))})})}),u.hook=function(t){var i=t.split(" ");p(i,function(t,i){e.cssHooks[i]={set:function(t,r){var o,a,s="";if("transparent"!==r&&("string"!==e.type(r)||(o=n(r)))){if(r=u(o||r),!h.rgba&&1!==r._rgba[3]){for(a="backgroundColor"===i?t.parentNode:t;(""===s||"transparent"===s)&&a&&a.style;)try{s=e.css(a,"backgroundColor"),a=a.parentNode}catch(e){}r=r.blend(s&&"transparent"!==s?s:"_default")}r=r.toRgbaString()}try{t.style[i]=r}catch(e){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=u(t.elem,i),t.end=u(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}})},u.hook(a),e.cssHooks.borderColor={expand:function(e){var t={};return p(["Top","Right","Bottom","Left"],function(i,n){t["border"+n+"Color"]=e}),t}},o=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(e){function t(){try{var i=this===document?e(this):e(this).contents()}catch(e){return!1}i.mousemove(function(t){e.mlp={x:t.pageX,y:t.pageY}}),i.find("iframe").on("load",t)}e.mlp={x:0,y:0},e(t),e.fn.ismouseover=function(){var t=!1;return this.eq(0).each(function(){var i=e(this).is("iframe")?e(this).contents().find("body"):e(this),n=i.offset();t=n.left<=e.mlp.x&&n.left+i.outerWidth()>e.mlp.x&&n.top<=e.mlp.y&&n.top+i.outerHeight()>e.mlp.y}),t}}(jQuery);var g_ugYoutubeAPI=new UGYoutubeAPI,g_ugVimeoAPI=new UGVimeoAPI,g_ugHtml5MediaAPI=new UGHtml5MediaAPI,g_ugSoundCloudAPI=new UGSoundCloudAPI,g_ugWistiaAPI=new UGWistiaAPI;jQuery.fn.unitegallery=function(e){var t=jQuery(this),i="#"+t.attr("id");if(!e)e={};var n=new UniteGalleryMain;n.run(i,e);var r=new UG_API(n);return r};var urlRegExp=/\b(https?:\/\/)?((?:[-a-z0-9]{1,63}\.)+[-a-z0-9]{2,63}|(?:[0-9]{1,3}\.){3}[0-9]{1,3})(:[0-9]{1,5})?(\/[!$-/0-9:;=@_\':;!a-z\x7f-\xff]*?)?(\?[!$-/0-9:;=@_\':;!a-z\x7f-\xff]+?)?(#[!$-/0-9:;=@_\':;!a-z\x7f-\xff]+?)?(?=[?.!,;:\"]?(\s|$))/g,objteste,apiGaleriaPQT,galeriaCompartilha='<div class="a2a_kit a2a_kit_size_32 a2a_default_style" style="position: absolute; top: 3em;">    <a class="a2a_dd"></a>    <a class="a2a_button_facebook"></a>    <a class="a2a_button_twitter"></a>    <a class="a2a_button_google_plus"></a>    <a class="a2a_button_email"></a>    <a class="a2a_button_whatsapp"></a>    </div>',paginaPathName=location.pathname.replace("/smecit","");$(function(){function e(){if($("input:disabled").length){var e=$("input:disabled").first(),t=e.attr("data-big-width"),i=e.attr("data-big-height"),n=Math.round(e.width()*i/t);e.css("height",n)}}$("#main-menu").smartmenus({subMenusSubOffsetX:1,subMenusSubOffsetY:-8}),$("#main-menu").smartmenus("keyboardSetHotkey",123,"shiftKey");var t=$("#main-menu-state");t.length&&(t.change(function(e){var t=$("#main-menu");this.checked?t.hide().slideDown(250,function(){t.css("display","")}):t.show().slideUp(250,function(){t.css("display","")})}),$(window).bind("beforeunload unload",function(){t[0].checked&&t[0].click()})),$(window).scroll(function(){$(this).scrollTop()>$("#smecit>header").outerHeight()?($("nav.main-nav").addClass("menufixado"),$(".nav-brand").show(400)):$(this).scrollTop()<$("#smecit>header").outerHeight()-50&&($("nav.main-nav").removeClass("menufixado"),$(".nav-brand").hide(400))});var i=$("#noticiasdestaques");if(i.length){i.html();var n=function(e,t){e.prepend(t);var i=$("#destaquesconteudo");i.length&&i.append(t)};"undefined"!=typeof Storage?void 0!==sessionStorage.noticiasDestaques?n(i,sessionStorage.noticiasDestaques):$.getJSON(strPaginaDir+"noticiasdestaques/",function(e){sessionStorage.noticiasDestaques=e.noticias,n(i,sessionStorage.noticiasDestaques)}):$.getJSON(strPaginaDir+"noticiasdestaques/",function(e){n(i,e.noticias)})}var r=$("#carouselparceiros");r.length&&$.getScript(strPaginaDir+"unitegallery/themes/carousel/ug-theme-carousel.min.js").done(function(e,t){r.unitegallery({gallery_theme:"carousel",tile_enable_textpanel:!0,tile_textpanel_title_text_align:"center",tile_textpanel_always_on:!0,tile_as_link:!0,tile_link_newpage:!1})});var o=$("#galeriapqt");o.length&&$.getScript(strPaginaDir+"unitegallery/themes/tiles/ug-theme-tiles.min.js").done(function(e,t){apiGaleriaPQT=o.unitegallery({tile_enable_image_effect:!0,tile_image_effect_reverse:!0,gallery_theme:"tiles",tiles_type:"justified",lightbox_numbers_size:"20",lightbox_numbers_color:"#cfc"}),apiGaleriaPQT.on("item_change",function(e,t){galeriaCompartilha&&($(".ug-lightbox-top-panel").append(galeriaCompartilha),galeriaCompartilha=!1),a2a_config.linkurl="http://www.ilhadepaqueta.net"+paginaPathName+"?a=foto&n="+t.title.split(" ")[2]+"/",a2a.init("page")})});var a=$("#galerianoticiaspqt");a.length&&$.getScript(strPaginaDir+"unitegallery/themes/tiles/ug-theme-tiles.min.js").done(function(e,t){a.unitegallery({tile_enable_image_effect:!0,tile_image_effect_reverse:!0,gallery_theme:"tiles",lightbox_numbers_size:"20",lightbox_numbers_color:"#cfc"})});var s=$("#noticia");s.length&&$.getScript(strPaginaDir+"ckeditor/ckeditor.js").done(function(e,t){"success"==t&&($($(".pure-u-1 label[for=noticia]")[0]).after('<p class="semindentar"><a href="#" id="linkmudartoolbar" class="pure-button button-success" data-toolbar=\'simples\'>alternar para barra de ferramentas completa</a></p>'),CKEDITOR.replace("noticia",{customConfig:strPaginaDir+"ckeditor/config.js"}),$("#linkmudartoolbar").click(function(e){e.preventDefault(),"simples"==$(this).data("toolbar")?(CKEDITOR.instances.noticia.destroy(),CKEDITOR.replace("noticia",{customConfig:strPaginaDir+"ckeditor/config.js",toolbar:null}),$(this).text($(this).text().replace("completa","simples")),$(this).data("toolbar","completa")):(CKEDITOR.instances.noticia.destroy(),CKEDITOR.replace("noticia",{customConfig:strPaginaDir+"ckeditor/config.js"}),$(this).text($(this).text().replace("simples","completa")),$(this).data("toolbar","simples"))}),$.getScript(strPaginaDir+"ckfinder/ckfinder.js").done(function(e,t){"success"==t&&CKFinder.setupCKEditor()}))});var l=$("#traditional-uploader");if(l.length)new qq.FineUploader({element:l[0],request:{endpoint:strPaginaDir+"uploadendpoint"},deleteFile:{enabled:!0,endpoint:strPaginaDir+"uploadendpoint"},retry:{enableAuto:!0,maxAutoAttempts:1},session:{endpoint:imagensListaPreCarrega,refreshOnRequest:!0}});e(),$(window).resize(function(){e();try{for(var t in graficosEleicoes)graficosEleicoes[t][0].draw(graficosEleicoes[t][1],graficosEleicoes[t][2])}catch(e){}})});